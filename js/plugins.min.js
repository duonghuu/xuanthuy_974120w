function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),window):e(jQuery,window)}(function(r,o){"use strict";function t(t){return 0<=function(t,e){for(var i=/^(\d+)\.(\d+)\.(\d+)/,o=i.exec(t)||[],n=i.exec(e)||[],s=1;s<=3;s++){if(+n[s]<+o[s])return 1;if(+o[s]<+n[s])return-1}return 0}(r.fn.jquery,t)}r.migrateVersion="3.1.0",o.console&&o.console.log&&(r&&t("3.0.0")||o.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),r.migrateWarnings&&o.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),o.console.log("JQMIGRATE: Migrate is installed"+(r.migrateMute?"":" with logging active")+", version "+r.migrateVersion));var i={};function l(t){var e=o.console;i[t]||(i[t]=!0,r.migrateWarnings.push(t),e&&e.warn&&!r.migrateMute&&(e.warn("JQMIGRATE: "+t),r.migrateTrace&&e.trace&&e.trace()))}function e(t,e,i,o){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return l(o),i},set:function(t){l(o),i=t}})}function n(t,e,i,o){t[e]=function(){return l(o),i.apply(this,arguments)}}r.migrateWarnings=[],void 0===r.migrateTrace&&(r.migrateTrace=!0),r.migrateReset=function(){i={},r.migrateWarnings.length=0},"BackCompat"===o.document.compatMode&&l("jQuery is not compatible with Quirks Mode");var s,a=r.fn.init,d=r.isNumeric,h=r.find,c=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;for(s in r.fn.init=function(t){var e=Array.prototype.slice.call(arguments);return"string"==typeof t&&"#"===t&&(l("jQuery( '#' ) is not a valid selector"),e[0]=[]),a.apply(this,e)},r.fn.init.prototype=r.fn,r.find=function(e){var i=Array.prototype.slice.call(arguments);if("string"==typeof e&&c.test(e))try{o.document.querySelector(e)}catch(t){e=e.replace(u,function(t,e,i,o){return"["+e+i+'"'+o+'"]'});try{o.document.querySelector(e),l("Attribute selector with '#' must be quoted: "+i[0]),i[0]=e}catch(t){l("Attribute selector with '#' was not fixed: "+i[0])}}return h.apply(this,i)},h)Object.prototype.hasOwnProperty.call(h,s)&&(r.find[s]=h[s]);r.fn.size=function(){return l("jQuery.fn.size() is deprecated and removed; use the .length property"),this.length},r.parseJSON=function(){return l("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},r.isNumeric=function(t){var e,i,o=d(t),n=(i=(e=t)&&e.toString(),!r.isArray(e)&&0<=i-parseFloat(i)+1);return o!==n&&l("jQuery.isNumeric() should not be called on constructed objects"),n},t("3.3.0")&&n(r,"isWindow",function(t){return null!=t&&t===t.window},"jQuery.isWindow() is deprecated"),n(r,"holdReady",r.holdReady,"jQuery.holdReady is deprecated"),n(r,"unique",r.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),e(r.expr,"filters",r.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),e(r.expr,":",r.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),t("3.2.0")&&n(r,"nodeName",r.nodeName,"jQuery.nodeName is deprecated");var p=r.ajax;r.ajax=function(){var t=p.apply(this,arguments);return t.promise&&(n(t,"success",t.done,"jQXHR.success is deprecated and removed"),n(t,"error",t.fail,"jQXHR.error is deprecated and removed"),n(t,"complete",t.always,"jQXHR.complete is deprecated and removed")),t};var m=r.fn.removeAttr,f=r.fn.toggleClass,g=/\S+/g;r.fn.removeAttr=function(t){var i=this;return r.each(t.match(g),function(t,e){r.expr.match.bool.test(e)&&(l("jQuery.fn.removeAttr no longer sets boolean properties: "+e),i.prop(e,!1))}),m.apply(this,arguments)};var v=!(r.fn.toggleClass=function(e){return void 0!==e&&"boolean"!=typeof e?f.apply(this,arguments):(l("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var t=this.getAttribute&&this.getAttribute("class")||"";t&&r.data(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==e&&r.data(this,"__className__")||"")}))});r.swap&&r.each(["height","width","reliableMarginRight"],function(t,e){var i=r.cssHooks[e]&&r.cssHooks[e].get;i&&(r.cssHooks[e].get=function(){var t;return v=!0,t=i.apply(this,arguments),v=!1,t})}),r.swap=function(t,e,i,o){var n,s,a={};for(s in v||l("jQuery.swap() is undocumented and deprecated"),e)a[s]=t.style[s],t.style[s]=e[s];for(s in n=i.apply(t,o||[]),e)t.style[s]=a[s];return n};var b=r.data;function y(t){return t}r.data=function(t,e,i){var o;if(e&&"object"==typeof e&&2===arguments.length){o=r.hasData(t)&&b.call(this,t);var n={};for(var s in e)s!==r.camelCase(s)?(l("jQuery.data() always sets/gets camelCased names: "+s),o[s]=e[s]):n[s]=e[s];return b.call(this,t,n),e}return e&&"string"==typeof e&&e!==r.camelCase(e)&&(o=r.hasData(t)&&b.call(this,t))&&e in o?(l("jQuery.data() always sets/gets camelCased names: "+e),2<arguments.length&&(o[e]=i),o[e]):b.apply(this,arguments)};var w=r.Tween.prototype.run;r.Tween.prototype.run=function(){1<r.easing[this.easing].length&&(l("'jQuery.easing."+this.easing.toString()+"' should use only one argument"),r.easing[this.easing]=y),w.apply(this,arguments)};var x=r.fx.interval||13,j="jQuery.fx.interval is deprecated";o.requestAnimationFrame&&Object.defineProperty(r.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return o.document.hidden||l(j),x},set:function(t){l(j),x=t}});var S=r.fn.load,C=r.event.add,z=r.event.fix;r.event.props=[],r.event.fixHooks={},e(r.event.props,"concat",r.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),r.event.fix=function(t){var e,i=t.type,o=this.fixHooks[i],n=r.event.props;if(n.length)for(l("jQuery.event.props are deprecated and removed: "+n.join());n.length;)r.event.addProp(n.pop());if(o&&!o._migrated_&&(o._migrated_=!0,l("jQuery.event.fixHooks are deprecated and removed: "+i),(n=o.props)&&n.length))for(;n.length;)r.event.addProp(n.pop());return e=z.call(this,t),o&&o.filter?o.filter(e,t):e},r.event.add=function(t,e){return t===o&&"load"===e&&"complete"===o.document.readyState&&l("jQuery(window).on('load'...) called after load event occurred"),C.apply(this,arguments)},r.each(["load","unload","error"],function(t,e){r.fn[e]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===e&&"string"==typeof t[0]?S.apply(this,t):(l("jQuery.fn."+e+"() is deprecated"),t.splice(0,0,e),arguments.length?this.on.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){r.fn[i]=function(t,e){return l("jQuery.fn."+i+"() event shorthand is deprecated"),0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),r(function(){r(o.document).triggerHandler("ready")}),r.event.special.ready={setup:function(){this===o.document&&l("'ready' event is deprecated")}},r.fn.extend({bind:function(t,e,i){return l("jQuery.fn.bind() is deprecated"),this.on(t,null,e,i)},unbind:function(t,e){return l("jQuery.fn.unbind() is deprecated"),this.off(t,null,e)},delegate:function(t,e,i,o){return l("jQuery.fn.delegate() is deprecated"),this.on(e,t,i,o)},undelegate:function(t,e,i){return l("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return l("jQuery.fn.hover() is deprecated"),this.on("mouseenter",t).on("mouseleave",e||t)}});var T=r.fn.offset;r.fn.offset=function(){var t,e=this[0],i={top:0,left:0};return e&&e.nodeType?(t=(e.ownerDocument||o.document).documentElement,r.contains(t,e)?T.apply(this,arguments):(l("jQuery.fn.offset() requires an element connected to a document"),i)):(l("jQuery.fn.offset() requires a valid DOM element"),i)};var k=r.param;r.param=function(t,e){var i=r.ajaxSettings&&r.ajaxSettings.traditional;return void 0===e&&i&&(l("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),e=i),k.call(this,t,e)};var E=r.fn.andSelf||r.fn.addBack;r.fn.andSelf=function(){return l("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),E.apply(this,arguments)};var $=r.Deferred,B=[["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),"rejected"],["notify","progress",r.Callbacks("memory"),r.Callbacks("memory")]];return r.Deferred=function(t){var s=$(),a=s.promise();return s.pipe=a.pipe=function(){var n=arguments;return l("deferred.pipe() is deprecated"),r.Deferred(function(o){r.each(B,function(t,e){var i=r.isFunction(n[t])&&n[t];s[e[1]](function(){var t=i&&i.apply(this,arguments);t&&r.isFunction(t.promise)?t.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[e[0]+"With"](this===a?o.promise():this,i?[t]:arguments)})}),n=null}).promise()},t&&t.call(s,s),s},r.Deferred.exceptionHook=$.exceptionHook,r}),function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function c(t,e){return t.getAttribute("data-"+e)}function n(t,e,i){var o="data-"+e;null!==i?t.setAttribute(o,i):t.removeAttribute(o)}function s(t){return"true"===c(t,"was-processed")}function u(t,e){return n(t,"ll-timeout",e)}function p(t){return c(t,"ll-timeout")}function a(t,e){var i,o=new t(e);try{i=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(t){(i=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(i)}function m(t,e){t&&t(e)}function f(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&m(t._settings.callback_finish)}function o(t){for(var e,i=[],o=0;e=t.children[o];o+=1)"SOURCE"===e.tagName&&i.push(e);return i}function i(t,e,i){i&&t.setAttribute(e,i)}function r(t,e){i(t,"sizes",c(t,e.data_sizes)),i(t,"srcset",c(t,e.data_srcset)),i(t,"src",c(t,e.data_src))}function d(t,e){C?t.classList.add(e):t.className+=(t.className?" ":"")+e}function l(t,e,i){t.addEventListener(e,i)}function h(t,e,i){t.removeEventListener(e,i)}function g(t,e,i){h(t,"load",e),h(t,"loadeddata",e),h(t,"error",i)}function v(t,e,i){var o,n,s=i._settings,a=e?s.class_loaded:s.class_error,r=e?s.callback_loaded:s.callback_error,l=t.target;o=l,n=s.class_loading,C?o.classList.remove(n):o.className=o.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""),d(l,a),m(r,l),f(i,-1)}function b(i,o){function n(t){v(t,!0,o),g(i,n,a)}var t,e,s,a=function t(e){v(e,!1,o),g(i,n,t)};s=a,l(t=i,"load",e=n),l(t,"loadeddata",e),l(t,"error",s)}function y(t,e){var i=e._observer;E(t,e),i&&e._settings.auto_unobserve&&i.unobserve(t)}function w(t){var e=p(t);e&&(clearTimeout(e),u(t,null))}function x(h){return!!S&&(h._observer=new IntersectionObserver(function(t){t.forEach(function(t){return t.isIntersecting||0<t.intersectionRatio?(o=t.target,d=(n=h)._settings,m(d.callback_enter,o),void(d.load_delay?(s=o,r=(a=n)._settings.load_delay,(l=p(s))||(l=setTimeout(function(){y(s,a),w(s)},r),u(s,l))):y(o,n))):(e=t.target,i=h._settings,m(i.callback_exit,e),void(i.load_delay&&w(e)));var e,i,o,n,s,a,r,l,d})},{root:(t=h._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),!0);var t}function t(t,e){this._settings=_extends({},z,t),this._loadingCount=0,x(this),this.update(e)}var e="undefined"!=typeof window,j=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),S=e&&"IntersectionObserver"in window,C=e&&"classList"in document.createElement("p"),z={elements_selector:"img",container:j||e?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null},T={IMG:function(t,e){var i=t.parentNode;i&&"PICTURE"===i.tagName&&o(i).forEach(function(t){r(t,e)}),r(t,e)},IFRAME:function(t,e){i(t,"src",c(t,e.data_src))},VIDEO:function(t,e){o(t).forEach(function(t){i(t,"src",c(t,e.data_src))}),i(t,"src",c(t,e.data_src)),t.load()}},k=["IMG","IFRAME","VIDEO"],E=function(t,e,i){var o=e._settings;!i&&s(t)||(-1<k.indexOf(t.tagName)&&(b(t,e),d(t,o.class_loading)),function(t,e){var i,o,n,s,a,r,l=e._settings,d=t.tagName,h=T[d];if(h)return h(t,l),f(e,1),e._elements=(i=e._elements,o=t,i.filter(function(t){return t!==o}));a=c(n=t,(s=l).data_src),r=c(n,s.data_bg),a&&(n.style.backgroundImage='url("'.concat(a,'")')),r&&(n.style.backgroundImage=r)}(t,e),n(t,"was-processed","true"),m(o.callback_reveal,t),m(o.callback_set,t))};return t.prototype={update:function(t){var e=this,i=this._settings,o=t||i.container.querySelectorAll(i.elements_selector);this._elements=Array.prototype.slice.call(o).filter(function(t){return!s(t)}),!j&&this._observer?this._elements.forEach(function(t){e._observer.observe(t)}):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach(function(t){e._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){E(t,this,e)},loadAll:function(){var e=this;this._elements.forEach(function(t){y(t,e)})}},e&&function(t,e){if(e)if(e.length)for(var i,o=0;i=e[o];o+=1)a(t,i);else a(t,e)}(t,window.lazyLoadOptions),t}),function(l,c,f,g){"use strict";function i(t,e){var i,o,n,s=[],a=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),i=e.$target||f(t.currentTarget).trigger("blur"),(n=f.fancybox.getInstance())&&n.$trigger&&n.$trigger.is(i)||(s=e.selector?f(e.selector):(o=i.attr("data-fancybox")||"")?(s=t.data?t.data.items:[]).length?s.filter('[data-fancybox="'+o+'"]'):f('[data-fancybox="'+o+'"]'):[i],(a=f(s).index(i))<0&&(a=0),(n=f.fancybox.open(s,e,a)).$trigger=i))}if(l.console=l.console||{info:function(t){}},f){if(f.fn.fancybox)return;var t={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeClose:f.noop,afterClose:f.noop,onActivate:f.noop,onDeactivate:f.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}},n=f(l),a=f(c),s=0,u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(t){return l.setTimeout(t,1e3/60)},e=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(t){l.clearTimeout(t)},d=function(){var t,e=c.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==g)return i[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var i=f.extend(!0,{},t,e);return f.each(e,function(t,e){f.isArray(e)&&(i[t]=e)}),i},o=function(t,e,i){var o=this;o.opts=h({index:i},f.fancybox.defaults),f.isPlainObject(e)&&(o.opts=h(o.opts,e)),f.fancybox.isMobile&&(o.opts=h(o.opts,o.opts.mobile)),o.id=o.opts.id||++s,o.currIndex=parseInt(o.opts.index,10)||0,o.prevIndex=null,o.prevPos=null,o.currPos=0,o.firstRun=!0,o.group=[],o.slides={},o.addContent(t),o.group.length&&o.init()};f.extend(o.prototype,{init:function(){var e,i,o=this,n=o.group[o.currIndex].opts;n.closeExisting&&f.fancybox.close(!0),f("body").addClass("fancybox-active"),!f.fancybox.getInstance()&&!1!==n.hideScrollbar&&!f.fancybox.isMobile&&c.body.scrollHeight>l.innerHeight&&(f("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-c.documentElement.clientWidth)+"px;}</style>"),f("body").addClass("compensate-for-scrollbar")),i="",f.each(n.buttons,function(t,e){i+=n.btnTpl[e]||""}),e=f(o.translate(o,n.baseTpl.replace("{{buttons}}",i).replace("{{arrows}}",n.btnTpl.arrowLeft+n.btnTpl.arrowRight))).attr("id","fancybox-container-"+o.id).addClass(n.baseClass).data("FancyBox",o).appendTo(n.parentEl),o.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){o.$refs[t]=e.find(".fancybox-"+t)}),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(t,e){var o=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=o[e];return i===g?t:i})},addContent:function(t){var e,d=this,i=f.makeArray(t);f.each(i,function(t,e){var i,o,n,s,a,r={},l={};f.isPlainObject(e)?l=(r=e).opts||e:"object"===f.type(e)&&f(e).length?(l=(i=f(e)).data()||{},(l=f.extend(!0,{},l,l.options)).$orig=i,r.src=d.opts.src||l.src||i.attr("href"),r.type||r.src||(r.type="inline",r.src=e)):r={type:"html",src:e+""},r.opts=f.extend(!0,{},d.opts,l),f.isArray(l.buttons)&&(r.opts.buttons=l.buttons),f.fancybox.isMobile&&r.opts.mobile&&(r.opts=h(r.opts,r.opts.mobile)),o=r.type||r.opts.type,s=r.src||"",!o&&s&&((n=s.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(o="video",r.opts.video.format||(r.opts.video.format="video/"+("ogv"===n[1]?"ogg":n[1]))):s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":s.match(/\.(pdf)((\?|#).*)?$/i)?(o="iframe",r=f.extend(!0,r,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===s.charAt(0)&&(o="inline")),o?r.type=o:d.trigger("objectNeedsType",r),r.contentType||(r.contentType=-1<f.inArray(r.type,["html","inline","ajax"])?"html":r.type),r.index=d.group.length,"auto"==r.opts.smallBtn&&(r.opts.smallBtn=-1<f.inArray(r.type,["html","inline","ajax"])),"auto"===r.opts.toolbar&&(r.opts.toolbar=!r.opts.smallBtn),r.$thumb=r.opts.$thumb||null,r.opts.$trigger&&r.index===d.opts.index&&(r.$thumb=r.opts.$trigger.find("img:first"),r.$thumb.length&&(r.opts.$orig=r.opts.$trigger)),r.$thumb&&r.$thumb.length||!r.opts.$orig||(r.$thumb=r.opts.$orig.find("img:first")),r.$thumb&&!r.$thumb.length&&(r.$thumb=null),r.thumb=r.opts.thumb||(r.$thumb?r.$thumb[0].src:null),"function"===f.type(r.opts.caption)&&(r.opts.caption=r.opts.caption.apply(e,[d,r])),"function"===f.type(d.opts.caption)&&(r.opts.caption=d.opts.caption.apply(e,[d,r])),r.opts.caption instanceof f||(r.opts.caption=r.opts.caption===g?"":r.opts.caption+""),"ajax"!==r.type||1<(a=s.split(/\s+/,2)).length&&(r.src=a.shift(),r.opts.filter=a.shift()),r.opts.modal&&(r.opts=f.extend(!0,r.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),d.group.push(r)}),Object.keys(d.slides).length&&(d.updateControls(),(e=d.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(t){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),n.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(o.requestId&&e(o.requestId),o.requestId=u(function(){o.update(t)})):(o.current&&"iframe"===o.current.type&&o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update(t)},f.fancybox.isMobile?600:250))}),a.on("keydown.fb",function(t){var e=(f.fancybox?f.fancybox.getInstance():null).current,i=t.keyCode||t.which;if(9!=i)return!e.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||f(t.target).is("input")||f(t.target).is("textarea")?void 0:8===i||27===i?(t.preventDefault(),void o.close(t)):37===i||38===i?(t.preventDefault(),void o.previous()):39===i||40===i?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,i);e.opts.trapFocus&&o.focus(t)}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,a.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=l.setInterval(function(){o.idleSecondsCounter++,o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){n.off("orientationchange.fb resize.fb"),a.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,o){var e,i,n,s,a,r,l,d,h,c=this,u=c.group.length;if(!(c.isDragging||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),!(n=c.current?c.current.opts.loop:c.opts.loop)&&(t<0||u<=t))return!1;if(e=c.firstRun=!Object.keys(c.slides).length,a=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,s=c.createSlide(t),1<u&&((n||s.index<u-1)&&c.createSlide(t+1),(n||0<s.index)&&c.createSlide(t-1)),c.current=s,c.currIndex=s.index,c.currPos=s.pos,c.trigger("beforeShow",e),c.updateControls(),s.forcedDuration=g,f.isNumeric(o)?s.forcedDuration=o:o=s.opts[e?"animationDuration":"transitionDuration"],o=parseInt(o,10),i=c.isMoved(s),s.$slide.addClass("fancybox-slide--current"),e)return s.opts.animationEffect&&o&&c.$refs.container.css("transition-duration",o+"ms"),c.$refs.container.addClass("fancybox-is-open").trigger("focus"),c.loadSlide(s),void c.preload("image");r=f.fancybox.getTranslate(a.$slide),l=f.fancybox.getTranslate(c.$refs.stage),f.each(c.slides,function(t,e){f.fancybox.stop(e.$slide,!0)}),a.pos!==s.pos&&(a.isComplete=!1),a.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),i?(h=r.left-(a.pos*r.width+a.pos*a.opts.gutter),f.each(c.slides,function(t,e){e.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var i=e.pos*r.width+e.pos*e.opts.gutter;f.fancybox.setTranslate(e.$slide,{top:0,left:i-l.left+h}),e.pos!==s.pos&&e.$slide.addClass("fancybox-slide--"+(e.pos>s.pos?"next":"previous")),p(e.$slide),f.fancybox.animate(e.$slide,{top:0,left:(e.pos-s.pos)*r.width+(e.pos-s.pos)*e.opts.gutter},o,function(){e.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===c.currPos&&c.complete()})})):o&&s.opts.transitionEffect&&(d="fancybox-animated fancybox-fx-"+s.opts.transitionEffect,a.$slide.addClass("fancybox-slide--"+(a.pos>s.pos?"next":"previous")),f.fancybox.animate(a.$slide,d,o,function(){a.$slide.removeClass(d).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),s.isLoaded?c.revealContent(s):c.loadSlide(s),c.preload("image")}},createSlide:function(t){var e,i,o=this;return i=(i=t%o.group.length)<0?o.group.length+i:i,!o.slides[t]&&o.group[i]&&(e=f('<div class="fancybox-slide"></div>').appendTo(o.$refs.stage),o.slides[t]=f.extend(!0,{},o.group[i],{pos:t,$slide:e,isLoaded:!1}),o.updateSlide(o.slides[t])),o.slides[t]},scaleToActual:function(t,e,i){var o,n,s,a,r,l=this,d=l.current,h=d.$content,c=f.fancybox.getTranslate(d.$slide).width,u=f.fancybox.getTranslate(d.$slide).height,p=d.width,m=d.height;l.isAnimating||l.isMoved()||!h||"image"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,f.fancybox.stop(h),t=t===g?.5*c:t,e=e===g?.5*u:e,(o=f.fancybox.getTranslate(h)).top-=f.fancybox.getTranslate(d.$slide).top,o.left-=f.fancybox.getTranslate(d.$slide).left,a=p/o.width,r=m/o.height,n=.5*c-.5*p,s=.5*u-.5*m,c<p&&(0<(n=o.left*a-(t*a-t))&&(n=0),n<c-p&&(n=c-p)),u<m&&(0<(s=o.top*r-(e*r-e))&&(s=0),s<u-m&&(s=u-m)),l.updateCursor(p,m),f.fancybox.animate(h,{top:s,left:n,scaleX:a,scaleY:r},i||330,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,i=this,o=i.current,n=o.$content;i.isAnimating||i.isMoved()||!n||"image"!=o.type||!o.isLoaded||o.hasError||(i.isAnimating=!0,f.fancybox.stop(n),e=i.getFitPos(o),i.updateCursor(e.width,e.height),f.fancybox.animate(n,{top:e.top,left:e.left,scaleX:e.width/n.width(),scaleY:e.height/n.height()},t||330,function(){i.isAnimating=!1}))},getFitPos:function(t){var e,i,o,n,s=t.$content,a=t.$slide,r=t.width||t.opts.width,l=t.height||t.opts.height,d={};return!!(t.isLoaded&&s&&s.length)&&(e=f.fancybox.getTranslate(this.$refs.stage).width,i=f.fancybox.getTranslate(this.$refs.stage).height,e-=parseFloat(a.css("paddingLeft"))+parseFloat(a.css("paddingRight"))+parseFloat(s.css("marginLeft"))+parseFloat(s.css("marginRight")),i-=parseFloat(a.css("paddingTop"))+parseFloat(a.css("paddingBottom"))+parseFloat(s.css("marginTop"))+parseFloat(s.css("marginBottom")),r&&l||(r=e,l=i),e-.5<(r*=o=Math.min(1,e/r,i/l))&&(r=e),i-.5<(l*=o)&&(l=i),"image"===t.type?(d.top=Math.floor(.5*(i-l))+parseFloat(a.css("paddingTop")),d.left=Math.floor(.5*(e-r))+parseFloat(a.css("paddingLeft"))):"video"===t.contentType&&(r/(n=t.opts.width&&t.opts.height?r/l:t.opts.ratio||16/9)<l?l=r/n:l*n<r&&(r=l*n)),d.width=r,d.height=l,d)},update:function(i){var o=this;f.each(o.slides,function(t,e){o.updateSlide(e,i)})},updateSlide:function(t,e){var i=this,o=t&&t.$content,n=t.width||t.opts.width,s=t.height||t.opts.height,a=t.$slide;i.adjustCaption(t),o&&(n||s||"video"===t.contentType)&&!t.hasError&&(f.fancybox.stop(o),f.fancybox.setTranslate(o,i.getFitPos(t)),t.pos===i.currPos&&(i.isAnimating=!1,i.updateCursor())),i.adjustLayout(t),a.length&&(a.trigger("refresh"),t.pos===i.currPos&&i.$refs.toolbar.add(i.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",a.get(0).scrollHeight>a.get(0).clientHeight)),i.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,i=e.current,o=i.$slide;!e.isClosing&&i&&(o.siblings().css({transform:"",opacity:""}),o.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),f.fancybox.animate(o,{top:0,left:0,opacity:1},t===g?0:t,function(){o.css({transform:"",opacity:""}),i.isComplete||e.complete()},!1))},isMoved:function(t){var e,i,o=t||this.current;return!!o&&(i=f.fancybox.getTranslate(this.$refs.stage),e=f.fancybox.getTranslate(o.$slide),!o.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(e.top-i.top)||.5<Math.abs(e.left-i.left)))},updateCursor:function(t,e){var i,o,n=this,s=n.current,a=n.$refs.container;s&&!n.isClosing&&n.Guestures&&(a.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=!!(i=n.canPan(t,e))||n.isZoomable(),a.toggleClass("fancybox-is-zoomable",o),f("[data-fancybox-zoom]").prop("disabled",!o),i?a.addClass("fancybox-can-pan"):o&&("zoom"===s.opts.clickContent||f.isFunction(s.opts.clickContent)&&"zoom"==s.opts.clickContent(s))?a.addClass("fancybox-can-zoomIn"):s.opts.touch&&(s.opts.touch.vertical||1<n.group.length)&&"video"!==s.contentType&&a.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if((t=this.getFitPos(e))&&(e.width>t.width||e.height>t.height))return!0}return!1},isScaledDown:function(t,e){var i=!1,o=this.current,n=o.$content;return t!==g&&e!==g?i=t<o.width&&e<o.height:n&&(i=(i=f.fancybox.getTranslate(n)).width<o.width&&i.height<o.height),i},canPan:function(t,e){var i=this.current,o=null,n=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(n=this.getFitPos(i),t!==g&&e!==g?o={width:t,height:e}:i.isComplete&&(o=f.fancybox.getTranslate(i.$content)),o&&n&&(n=1.5<Math.abs(o.width-n.width)||1.5<Math.abs(o.height-n.height))),n},loadSlide:function(i){var t,e,o,n=this;if(!i.isLoading&&!i.isLoaded){if(!(i.isLoading=!0)===n.trigger("beforeLoad",i))return i.isLoading=!1;switch(t=i.type,(e=i.$slide).off("refresh").trigger("onReset").addClass(i.opts.slideClass),t){case"image":n.setImage(i);break;case"iframe":n.setIframe(i);break;case"html":n.setContent(i,i.src||i.content);break;case"video":n.setContent(i,i.opts.video.tpl.replace(/\{\{src\}\}/gi,i.src).replace("{{format}}",i.opts.videoFormat||i.opts.video.format||"").replace("{{poster}}",i.thumb||""));break;case"inline":f(i.src).length?n.setContent(i,f(i.src)):n.setError(i);break;case"ajax":n.showLoading(i),o=f.ajax(f.extend({},i.opts.ajax.settings,{url:i.src,success:function(t,e){"success"===e&&n.setContent(i,t)},error:function(t,e){t&&"abort"!==e&&n.setError(i)}})),e.one("onReset",function(){o.abort()});break;default:n.setError(i)}return!0}},setImage:function(e){var t,i=this;setTimeout(function(){var t=e.$image;i.isClosing||!e.isLoading||t&&t.length&&t[0].complete||e.hasError||i.showLoading(e)},50),i.checkSrcset(e),e.$content=f('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&e.thumb&&(e.width=e.opts.width,e.height=e.opts.height,(t=c.createElement("img")).onerror=function(){f(this).remove(),e.$ghost=null},t.onload=function(){i.afterLoad(e)},e.$ghost=f(t).addClass("fancybox-image").appendTo(e.$content).attr("src",e.thumb)),i.setBigImage(e)},checkSrcset:function(t){var e,i,o,n,s=t.opts.srcset||t.opts.image.srcset;if(s){o=l.devicePixelRatio||1,n=l.innerWidth*o,(i=s.split(",").map(function(t){var o={};return t.trim().split(/\s+/).forEach(function(t,e){var i=parseInt(t.substring(0,t.length-1),10);return 0===e?o.url=t:void(i&&(o.value=i,o.postfix=t[t.length-1]))}),o})).sort(function(t,e){return t.value-e.value});for(var a=0;a<i.length;a++){var r=i[a];if("w"===r.postfix&&r.value>=n||"x"===r.postfix&&r.value>=o){e=r;break}}!e&&i.length&&(e=i[i.length-1]),e&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value),t.opts.srcset=s)}},setBigImage:function(e){var i=this,t=c.createElement("img"),o=f(t);e.$image=o.one("error",function(){i.setError(e)}).one("load",function(){var t;e.$ghost||(i.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),i.afterLoad(e)),i.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(1<e.width/e.height&&1<n.width()/n.height()?"100":Math.round(e.width/e.height*100))+"vw"),o.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout(function(){e.$ghost&&!i.isClosing&&e.$ghost.hide()},Math.min(300,Math.max(1e3,e.height/1600))),i.hideLoading(e))}).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),(t.complete||"complete"==t.readyState)&&o.naturalWidth&&o.naturalHeight?o.trigger("load"):t.error&&o.trigger("error")},resolveImageSlideSize:function(t,e,i){var o=parseInt(t.opts.width,10),n=parseInt(t.opts.height,10);t.width=e,t.height=i,0<o&&(t.width=o,t.height=Math.floor(o*i/e)),0<n&&(t.width=Math.floor(n*e/i),t.height=n)},setIframe:function(n){var s,e=this,a=n.opts.iframe,r=n.$slide;f.fancybox.isMobile&&(a.css.overflow="scroll"),n.$content=f('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(r),r.addClass("fancybox-slide--"+n.contentType),n.$iframe=s=f(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(n.$content),a.preload?(e.showLoading(n),s.on("load.fb error.fb",function(t){this.isReady=1,n.$slide.trigger("refresh"),e.afterLoad(n)}),r.on("refresh.fb",function(){var t,e=n.$content,i=a.css.width,o=a.css.height;if(1===s[0].isReady){try{t=s.contents().find("body")}catch(t){}t&&t.length&&t.children().length&&(r.css("overflow","visible"),e.css({width:"100%","max-width":"100%",height:"9999px"}),i===g&&(i=Math.ceil(Math.max(t[0].clientWidth,t.outerWidth(!0)))),e.css("width",i||"").css("max-width",""),o===g&&(o=Math.ceil(Math.max(t[0].clientHeight,t.outerHeight(!0)))),e.css("height",o||""),r.css("overflow","auto")),e.removeClass("fancybox-is-hidden")}})):e.afterLoad(n),s.attr("src",n.src),r.one("onReset",function(){try{f(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}f(this).off("refresh.fb").empty(),n.isLoaded=!1,n.isRevealed=!1})},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$content&&f.fancybox.stop(t.$content),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof f&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=f("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===f.type(e)&&(e=f("<div>").append(f.trim(e)).contents()),t.opts.filter&&(e=f("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){f(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(f(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),f(e).appendTo(t.$slide),f(e).is("video,audio")&&(f(e).addClass("fancybox-video"),f(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||f(e).attr("width"),t.opts.height=t.opts.height||f(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=f(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=f(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&f('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e=this,i=t||e.current,o=i.opts.caption,n=e.$refs.caption,s=!1;i.opts.preventCaptionOverlap&&o&&o.length&&(i.pos!==e.currPos?((n=n.clone().empty().appendTo(n.parent())).html(o),s=n.outerHeight(!0),n.empty().remove()):e.$caption&&(s=e.$caption.outerHeight(!0)),i.$slide.css("padding-bottom",s||""))},adjustLayout:function(t){var e,i,o,n,s=t||this.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css("margin-bottom",""),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style["padding-bottom"],n=s.$slide.css("padding-bottom"),0<parseFloat(n)&&(e=s.$slide[0].scrollHeight,s.$slide.css("padding-bottom",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(i=n),s.$slide.css("padding-bottom",o))),s.$content.css("margin-bottom",i))},revealContent:function(t){var e,i,o,n,s=this,a=t.$slide,r=!1,l=!1,d=s.isMoved(t),h=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],o=t.opts[s.firstRun?"animationDuration":"transitionDuration"],o=parseInt(t.forcedDuration===g?o:t.forcedDuration,10),!d&&t.pos===s.currPos&&o||(e=!1),"zoom"===e&&(t.pos===s.currPos&&o&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?r=s.getFitPos(t):e="fade"),"zoom"===e?(s.isAnimating=!0,r.scaleX=r.width/l.width,r.scaleY=r.height/l.height,"auto"==(n=t.opts.zoomOpacity)&&(n=.1<Math.abs(t.width/t.height-l.width/l.height)),n&&(l.opacity=.1,r.opacity=1),f.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),p(t.$content),void f.fancybox.animate(t.$content,r,o,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(f.fancybox.stop(a),i="fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,a.addClass(i).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(a),"image"!==t.type&&t.$content.hide().show(0),void f.fancybox.animate(a,"fancybox-slide--current",o,function(){a.removeClass(i).css({transform:"",opacity:""}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),h||!d||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,i,o,n,s,a,r,l,d=!1,h=t.$thumb;return!(!h||(!(a=h[0])||a.ownerDocument!==c||(f(".fancybox-container").css("pointer-events","none"),r={x:a.getBoundingClientRect().left+a.offsetWidth/2,y:a.getBoundingClientRect().top+a.offsetHeight/2},l=c.elementFromPoint(r.x,r.y)===a,f(".fancybox-container").css("pointer-events",""),!l)))&&(e=f.fancybox.getTranslate(h),i=parseFloat(h.css("border-top-width")||0),o=parseFloat(h.css("border-right-width")||0),n=parseFloat(h.css("border-bottom-width")||0),s=parseFloat(h.css("border-left-width")||0),d={top:e.top+i,left:e.left+s,width:e.width-o-s,height:e.height-i-n,scaleX:1,scaleY:1},0<e.width&&0<e.height&&d)},complete:function(){var t,i=this,e=i.current,o={};!i.isMoved()&&e.isLoaded&&(e.isComplete||(e.isComplete=!0,e.$slide.siblings().trigger("onReset"),i.preload("inline"),p(e.$slide),e.$slide.addClass("fancybox-slide--complete"),f.each(i.slides,function(t,e){e.pos>=i.currPos-1&&e.pos<=i.currPos+1?o[e.pos]=e:e&&(f.fancybox.stop(e.$slide),e.$slide.off().remove())}),i.slides=o),i.isAnimating=!1,i.updateCursor(),i.trigger("afterShow"),e.opts.video.autoStart&&e.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){this.webkitExitFullscreen&&this.webkitExitFullscreen(),i.next()}),e.opts.autoFocus&&"html"===e.contentType&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):i.focus(null,!0)),e.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,i,o=this;o.group.length<2||(i=o.slides[o.currPos+1],(e=o.slides[o.currPos-1])&&e.type===t&&o.loadSlide(e),i&&i.type===t&&o.loadSlide(i))},focus:function(t,e){var i,o,n=this,s=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");n.isClosing||((i=(i=!t&&n.current&&n.current.isComplete?n.current.$slide.find("*:visible"+(e?":not(.fancybox-close-small)":"")):n.$refs.container.find("*:visible")).filter(s).filter(function(){return"hidden"!==f(this).css("visibility")&&!f(this).hasClass("disabled")})).length?(o=i.index(c.activeElement),t&&t.shiftKey?(o<0||0==o)&&(t.preventDefault(),i.eq(i.length-1).trigger("focus")):(o<0||o==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger("focus"))):n.$refs.container.trigger("focus"))},activate:function(){var e=this;f(".fancybox-container").each(function(){var t=f(this).data("FancyBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)}),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){function i(){h.cleanUp(t)}var o,n,s,a,r,l,d,h=this,c=h.current;return!h.isClosing&&(!(h.isClosing=!0)===h.trigger("beforeClose",t)?(h.isClosing=!1,u(function(){h.update()}),!1):(h.removeEvents(),s=c.$content,o=c.opts.animationEffect,n=f.isNumeric(e)?e:o?c.opts.animationDuration:0,c.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?f.fancybox.stop(c.$slide):o=!1,c.$slide.siblings().trigger("onReset").remove(),n&&h.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",n+"ms"),h.hideLoading(c),h.hideControls(!0),h.updateCursor(),"zoom"!==o||s&&n&&"image"===c.type&&!h.isMoved()&&!c.hasError&&(d=h.getThumbPos(c))||(o="fade"),"zoom"===o?(f.fancybox.stop(s),l={top:(a=f.fancybox.getTranslate(s)).top,left:a.left,scaleX:a.width/d.width,scaleY:a.height/d.height,width:d.width,height:d.height},"auto"==(r=c.opts.zoomOpacity)&&(r=.1<Math.abs(c.width/c.height-d.width/d.height)),r&&(d.opacity=0),f.fancybox.setTranslate(s,l),p(s),f.fancybox.animate(s,d,n,i)):o&&n?f.fancybox.animate(c.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+o,n,i):!0===t?setTimeout(i,n):i(),!0))},cleanUp:function(t){var e,i,o,n=this,s=n.current.opts.$orig;n.current.$slide.trigger("onReset"),n.$refs.container.empty().remove(),n.trigger("afterClose",t),n.current.opts.backFocus&&(s&&s.length&&s.is(":visible")||(s=n.$trigger),s&&s.length&&(i=l.scrollX,o=l.scrollY,s.trigger("focus"),f("html, body").scrollTop(o).scrollLeft(i))),n.current=null,(e=f.fancybox.getInstance())?e.activate():(f("body").removeClass("fancybox-active compensate-for-scrollbar"),f("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,o=Array.prototype.slice.call(arguments,1),n=this,s=e&&e.opts?e:n.current;return s?o.unshift(s):s=n,o.unshift(n),f.isFunction(s.opts[t])&&(i=s.opts[t].apply(s,o)),!1===i?i:void("afterClose"!==t&&n.$refs?n.$refs.container.trigger(t+".fb",o):a.trigger(t+".fb",o))},updateControls:function(){var t=this,e=t.current,i=e.index,o=t.$refs.container,n=t.$refs.caption,s=e.opts.caption;e.$slide.trigger("refresh"),t.$caption=s&&s.length?n.html(s):null,t.hasHiddenControls||t.isIdle||t.showControls(),o.find("[data-fancybox-count]").html(t.group.length),o.find("[data-fancybox-index]").html(i+1),o.find("[data-fancybox-prev]").prop("disabled",!e.opts.loop&&i<=0),o.find("[data-fancybox-next]").prop("disabled",!e.opts.loop&&i>=t.group.length-1),"image"===e.type?o.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",e.opts.image.src||e.src).show():e.opts.toolbar&&o.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),f(c.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,i=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,i.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),f.fancybox={version:"3.5.2",defaults:t,getInstance:function(t){var e=f('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof o&&("string"===f.type(t)?e[t].apply(e,i):"function"===f.type(t)&&t.apply(e,i),e)},open:function(t,e,i){return new o(t,e,i)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),a.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(b=c.createElement("div"),l.getComputedStyle&&l.getComputedStyle(b)&&l.getComputedStyle(b).getPropertyValue("transform")&&!(c.documentMode&&c.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var i="",o={};if(t&&e)return e.left===g&&e.top===g||(i=(e.left===g?t.position().left:e.left)+"px, "+(e.top===g?t.position().top:e.top)+"px",i=this.use3d?"translate3d("+i+", 0px)":"translate("+i+")"),e.scaleX!==g&&e.scaleY!==g?i+=" scale("+e.scaleX+", "+e.scaleY+")":e.scaleX!==g&&(i+=" scaleX("+e.scaleX+")"),i.length&&(o.transform=i),e.opacity!==g&&(o.opacity=e.opacity),e.width!==g&&(o.width=e.width),e.height!==g&&(o.height=e.height),t.css(o)},animate:function(e,i,o,n,s){var a,r=this;f.isFunction(o)&&(n=o,o=null),r.stop(e),a=r.getTranslate(e),e.on(d,function(t){t&&t.originalEvent&&(!e.is(t.originalEvent.target)||"z-index"==t.originalEvent.propertyName)||(r.stop(e),f.isNumeric(o)&&e.css("transition-duration",""),f.isPlainObject(i)?i.scaleX!==g&&i.scaleY!==g&&r.setTranslate(e,{top:i.top,left:i.left,width:a.width*i.scaleX,height:a.height*i.scaleY,scaleX:1,scaleY:1}):!0!==s&&e.removeClass(i),f.isFunction(n)&&n(t))}),f.isNumeric(o)&&e.css("transition-duration",o+"ms"),f.isPlainObject(i)?(i.scaleX!==g&&i.scaleY!==g&&(delete i.width,delete i.height,e.parent().hasClass("fancybox-slide--image")&&e.parent().addClass("fancybox-is-scaling")),f.fancybox.setTranslate(e,i)):e.addClass(i),e.data("timer",setTimeout(function(){e.trigger(d)},o+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(d),t.off(d).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},f.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?f("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},a.on("click.fb-start","[data-fancybox]",i),a.on("click.fb-start","[data-fancybox-trigger]",function(t){f('[data-fancybox="'+f(this).attr("data-fancybox-trigger")+'"]').eq(f(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:f(this)})}),r=".fancybox-button",m="fancybox-focus",v=null,a.on("mousedown mouseup focus blur",r,function(t){switch(t.type){case"mousedown":v=f(this);break;case"mouseup":v=null;break;case"focusin":f(r).removeClass(m),f(this).is(v)||f(this).is("[disabled]")||f(this).addClass(m);break;case"focusout":f(r).removeClass(m)}})}var r,m,v,b}(window,document,jQuery),function(p){"use strict";function m(i,t,e){if(i)return e=e||"","object"===p.type(e)&&(e=p.param(e,!0)),p.each(t,function(t,e){i=i.replace("$"+t,e||"")}),e.length&&(i+=(0<i.indexOf("?")?"&":"?")+e),i}var o={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube-nocookie.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};p(document).on("objectNeedsType.fb",function(t,e,n){var i,s,a,r,l,d,h,c=n.src||"",u=!1;i=p.extend(!0,{},o,n.opts.media),p.each(i,function(t,e){if(a=c.match(e.matcher)){if(u=e.type,h=t,d={},e.paramPlace&&a[e.paramPlace]){"?"==(l=a[e.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var i=0;i<l.length;++i){var o=l[i].split("=",2);2==o.length&&(d[o[0]]=decodeURIComponent(o[1].replace(/\+/g," ")))}}return r=p.extend(!0,{},e.params,n.opts[t],d),c="function"===p.type(e.url)?e.url.call(this,a,r,n):m(e.url,a,r),s="function"===p.type(e.thumb)?e.thumb.call(this,a,r,n):m(e.thumb,a),"youtube"===t?c=c.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,i,o){return"&start="+((i?60*parseInt(i,10):0)+parseInt(o,10))}):"vimeo"===t&&(c=c.replace("&%23","#")),!1}}),u?(n.opts.thumb||n.opts.$thumb&&n.opts.$thumb.length||(n.opts.thumb=s),"iframe"===u&&(n.opts=p.extend(!0,n.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),p.extend(n,{type:u,src:c,origSrc:n.src,contentSource:h,contentType:"image"===u?"image":"gmap_place"==h||"gmap_search"==h?"map":"video"})):c&&(n.type=n.opts.defaultType)});var n={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,i=this;return this[t].loaded?void setTimeout(function(){i.done(t)}):void(this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){i[t].loaded=!0,i.done(t)}:e.onload=function(){i[t].loaded=!0,i.done(t)},document.body.appendChild(e)))},done:function(t){var e,i;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(e=p.fancybox.getInstance())&&(i=e.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?new YT.Player(i.attr("id"),{events:{onStateChange:function(t){0==t.data&&e.next()}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(i).on("ended",function(){e.next()}))}};p(document).on({"afterShow.fb":function(t,e,i){1<e.group.length&&("youtube"===i.contentSource||"vimeo"===i.contentSource)&&n.load(i.contentSource)}})}(jQuery),function(f,l,g){"use strict";function h(t){var e=[];for(var i in t=(t=t.originalEvent||t||f.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[i].pageX?e.push({x:t[i].pageX,y:t[i].pageY}):t[i].clientX&&e.push({x:t[i].clientX,y:t[i].clientY});return e}function v(t,e,i){return e&&t?"x"===i?t.x-e.x:"y"===i?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function d(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||g.isFunction(t.get(0).onclick)||t.data("selectable"))return 1;for(var e=0,i=t[0].attributes,o=i.length;e<o;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return 1}function c(t){for(var e=!1;(i=t.get(0),0,o=f.getComputedStyle(i)["overflow-y"],n=f.getComputedStyle(i)["overflow-x"],s=("scroll"===o||"auto"===o)&&i.scrollHeight>i.clientHeight,a=("scroll"===n||"auto"===n)&&i.scrollWidth>i.clientWidth,!(e=s||a))&&((t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body")););var i,o,n,s,a;return e}function i(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",g.proxy(e,"ontouchstart"))}var b=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||function(t){return f.setTimeout(t,1e3/60)},y=f.cancelAnimationFrame||f.webkitCancelAnimationFrame||f.mozCancelAnimationFrame||f.oCancelAnimationFrame||function(t){f.clearTimeout(t)};i.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),g(l).off(".fb.touch"),t.requestId&&(y(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},i.prototype.ontouchstart=function(t){var e=this,i=g(t.target),o=e.instance,n=o.current,s=n.$slide,a=n.$content,r="touchstart"==t.type;if(r&&e.$container.off("mousedown.fb.touch"),(!t.originalEvent||2!=t.originalEvent.button)&&s.length&&i.length&&!d(i)&&!d(i.parent())&&(i.is("img")||!(t.originalEvent.clientX>i[0].clientWidth+i.offset().left))){if(!n||o.isAnimating||n.$slide.hasClass("fancybox-animated"))return t.stopPropagation(),void t.preventDefault();e.realPoints=e.startPoints=h(t),e.startPoints.length&&(n.touch&&t.stopPropagation(),e.startEvent=t,e.canTap=!0,e.$target=i,e.$content=a,e.opts=n.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.canPan=o.canPan(),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(s[0].clientWidth),e.canvasHeight=Math.round(s[0].clientHeight),e.contentLastPos=null,e.contentStartPos=g.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=g.fancybox.getTranslate(s),e.stagePos=g.fancybox.getTranslate(o.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,g(l).off(".fb.touch").on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",g.proxy(e,"ontouchend")).on(r?"touchmove.fb.touch":"mousemove.fb.touch",g.proxy(e,"ontouchmove")),g.fancybox.isMobile&&l.addEventListener("scroll",e.onscroll,!0),((e.opts||e.canPan)&&(i.is(e.$stage)||e.$stage.find(i).length)||(i.is(".fancybox-image")&&t.preventDefault(),g.fancybox.isMobile&&i.hasClass("fancybox-caption")))&&(e.isScrollable=c(i)||c(i.parent()),g.fancybox.isMobile&&e.isScrollable||t.preventDefault(),1!==e.startPoints.length&&!n.hasError||(e.canPan?(g.fancybox.stop(e.$content),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-is-grabbing")),2===e.startPoints.length&&"image"===n.type&&(n.isLoaded||n.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,g.fancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-g(f).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-g(f).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=v(e.startPoints[0],e.startPoints[1]))))}},i.prototype.onscroll=function(t){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},i.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=h(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=v(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=v(e.newPoints[0],e.startPoints[0],"y"),e.distance=v(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},i.prototype.onSwipe=function(t){var e,n=this,s=n.instance,i=n.isSwiping,o=n.sliderStartPos.left||0;if(!0!==i)"x"==i&&(0<n.distanceX&&(n.instance.group.length<2||0===n.instance.current.index&&!n.instance.current.opts.loop)?o+=Math.pow(n.distanceX,.8):n.distanceX<0&&(n.instance.group.length<2||n.instance.current.index===n.instance.group.length-1&&!n.instance.current.opts.loop)?o-=Math.pow(-n.distanceX,.8):o+=n.distanceX),n.sliderLastPos={top:"x"==i?0:n.sliderStartPos.top+n.distanceY,left:o},n.requestId&&(y(n.requestId),n.requestId=null),n.requestId=b(function(){n.sliderLastPos&&(g.each(n.instance.slides,function(t,e){var i=e.pos-n.instance.currPos;g.fancybox.setTranslate(e.$slide,{top:n.sliderLastPos.top,left:n.sliderLastPos.left+i*n.canvasWidth+i*e.opts.gutter})}),n.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(n.distance)){if(n.canTap=!1,s.group.length<2&&n.opts.vertical?n.isSwiping="y":s.isDragging||!1===n.opts.vertical||"auto"===n.opts.vertical&&800<g(f).width()?n.isSwiping="x":(e=Math.abs(180*Math.atan2(n.distanceY,n.distanceX)/Math.PI),n.isSwiping=45<e&&e<135?"y":"x"),"y"===n.isSwiping&&g.fancybox.isMobile&&n.isScrollable)return void(n.isScrolling=!0);s.isDragging=n.isSwiping,n.startPoints=n.newPoints,g.each(s.slides,function(t,e){var i,o;g.fancybox.stop(e.$slide),i=g.fancybox.getTranslate(e.$slide),o=g.fancybox.getTranslate(s.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===s.current.pos&&(n.sliderStartPos.top=i.top-o.top,n.sliderStartPos.left=i.left-o.left),g.fancybox.setTranslate(e.$slide,{top:i.top-o.top,left:i.left-o.left})}),s.SlideShow&&s.SlideShow.isActive&&s.SlideShow.stop()}},i.prototype.onPan=function(){var t=this;return v(t.newPoints[0],t.realPoints[0])<(g.fancybox.isMobile?10:5)?void(t.startPoints=t.newPoints):(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&y(t.requestId),void(t.requestId=b(function(){g.fancybox.setTranslate(t.$content,t.contentLastPos)})))},i.prototype.limitMovement=function(){var t,e,i,o,n,s,a=this,r=a.canvasWidth,l=a.canvasHeight,d=a.distanceX,h=a.distanceY,c=a.contentStartPos,u=c.left,p=c.top,m=c.width,f=c.height;return n=r<m?u+d:u,s=p+h,t=Math.max(0,.5*r-.5*m),e=Math.max(0,.5*l-.5*f),i=Math.min(r-m,.5*r-.5*m),o=Math.min(l-f,.5*l-.5*f),0<d&&t<n&&(n=t-1+Math.pow(-t+u+d,.8)||0),d<0&&n<i&&(n=i+1-Math.pow(i-u-d,.8)||0),0<h&&e<s&&(s=e-1+Math.pow(-e+p+h,.8)||0),h<0&&s<o&&(s=o+1-Math.pow(o-p-h,.8)||0),{top:s,left:n}},i.prototype.limitPosition=function(t,e,i,o){var n=this.canvasWidth,s=this.canvasHeight;return t=n<i?(t=0<t?0:t)<n-i?n-i:t:Math.max(0,n/2-i/2),{top:e=s<o?(e=0<e?0:e)<s-o?s-o:e:Math.max(0,s/2-o/2),left:t}},i.prototype.onZoom=function(){var t=this,e=t.contentStartPos,i=e.width,o=e.height,n=e.left,s=e.top,a=v(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,r=Math.floor(i*a),l=Math.floor(o*a),d=(i-r)*t.percentageOfImageAtPinchPointX,h=(o-l)*t.percentageOfImageAtPinchPointY,c=(t.newPoints[0].x+t.newPoints[1].x)/2-g(f).scrollLeft(),u=(t.newPoints[0].y+t.newPoints[1].y)/2-g(f).scrollTop(),p=c-t.centerPointStartX,m={top:s+(h+(u-t.centerPointStartY)),left:n+(d+p),scaleX:a,scaleY:a};t.canTap=!1,t.newWidth=r,t.newHeight=l,t.contentLastPos=m,t.requestId&&y(t.requestId),t.requestId=b(function(){g.fancybox.setTranslate(t.$content,t.contentLastPos)})},i.prototype.ontouchend=function(t){var e=this,i=e.isSwiping,o=e.isPanning,n=e.isZooming,s=e.isScrolling;return e.endPoints=h(t),e.dMs=Math.max((new Date).getTime()-e.startTime,1),e.$container.removeClass("fancybox-is-grabbing"),g(l).off(".fb.touch"),l.removeEventListener("scroll",e.onscroll,!0),e.requestId&&(y(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.isScrolling=!1,e.instance.isDragging=!1,e.canTap?e.onTap(t):(e.speed=100,e.velocityX=e.distanceX/e.dMs*.5,e.velocityY=e.distanceY/e.dMs*.5,void(o?e.endPanning():n?e.endZooming():e.endSwiping(i,s)))},i.prototype.endSwiping=function(t,e){var i=this,o=!1,n=i.instance.group.length,s=Math.abs(i.distanceX),a="x"==t&&1<n&&(130<i.dMs&&10<s||50<s);i.sliderLastPos=null,"y"==t&&!e&&50<Math.abs(i.distanceY)?(g.fancybox.animate(i.instance.current.$slide,{top:i.sliderStartPos.top+i.distanceY+150*i.velocityY,opacity:0},200),o=i.instance.close(!0,250)):a&&0<i.distanceX?o=i.instance.previous(300):a&&i.distanceX<0&&(o=i.instance.next(300)),!1!==o||"x"!=t&&"y"!=t||i.instance.centerSlide(200),i.$container.removeClass("fancybox-is-sliding")},i.prototype.endPanning=function(){var t,e,i,o=this;o.contentLastPos&&(e=!1===o.opts.momentum||350<o.dMs?(t=o.contentLastPos.left,o.contentLastPos.top):(t=o.contentLastPos.left+500*o.velocityX,o.contentLastPos.top+500*o.velocityY),(i=o.limitPosition(t,e,o.contentStartPos.width,o.contentStartPos.height)).width=o.contentStartPos.width,i.height=o.contentStartPos.height,g.fancybox.animate(o.$content,i,330))},i.prototype.endZooming=function(){var t,e,i,o,n=this,s=n.instance.current,a=n.newWidth,r=n.newHeight;n.contentLastPos&&(t=n.contentLastPos.left,o={top:e=n.contentLastPos.top,left:t,width:a,height:r,scaleX:1,scaleY:1},g.fancybox.setTranslate(n.$content,o),a<n.canvasWidth&&r<n.canvasHeight?n.instance.scaleToFit(150):a>s.width||r>s.height?n.instance.scaleToActual(n.centerPointStartX,n.centerPointStartY,150):(i=n.limitPosition(t,e,a,r),g.fancybox.animate(n.$content,i,150)))},i.prototype.onTap=function(i){function t(t){var e=a.opts[t];if(g.isFunction(e)&&(e=e.apply(s,[a,i])),e)switch(e){case"close":s.close(o.startEvent);break;case"toggleControls":s.toggleControls();break;case"next":s.next();break;case"nextOrClose":1<s.group.length?s.next():s.close(o.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(l,d):s.group.length<2&&s.close(o.startEvent))}}var e,o=this,n=g(i.target),s=o.instance,a=s.current,r=i&&h(i)||o.startPoints,l=r[0]?r[0].x-g(f).scrollLeft()-o.stagePos.left:0,d=r[0]?r[0].y-g(f).scrollTop()-o.stagePos.top:0;if((!i.originalEvent||2!=i.originalEvent.button)&&(n.is("img")||!(l>n[0].clientWidth+n.offset().left))){if(n.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(n.is(".fancybox-slide"))e="Slide";else{if(!s.current.$content||!s.current.$content.find(n).addBack().filter(n).length)return;e="Content"}if(o.tapped){if(clearTimeout(o.tapped),o.tapped=null,50<Math.abs(l-o.tapX)||50<Math.abs(d-o.tapY))return this;t("dblclick"+e)}else o.tapX=l,o.tapY=d,a.opts["dblclick"+e]&&a.opts["dblclick"+e]!==a.opts["click"+e]?o.tapped=setTimeout(function(){o.tapped=null,s.isAnimating||t("click"+e)},500):t("click"+e);return this}},g(l).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new i(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(a,r){"use strict";r.extend(!0,r.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function i(t){this.instance=t,this.init()}r.extend(i.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,e=t.instance,i=e.group[e.currIndex].opts.slideShow;t.$button=e.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),e.group.length<2||!i?t.$button.hide():i.progress&&(t.$progress=r('<div class="fancybox-progress"></div>').appendTo(e.$refs.inner))},set:function(t){var e=this,i=e.instance,o=i.current;o&&(!0===t||o.opts.loop||i.currIndex<i.group.length-1)?e.isActive&&"video"!==o.contentType&&(e.$progress&&r.fancybox.animate(e.$progress.show(),{scaleX:1},o.opts.slideShow.speed),e.timer=setTimeout(function(){i.current.opts.loop||i.current.index!=i.group.length-1?i.next():i.jumpTo(0)},o.opts.slideShow.speed)):(e.stop(),i.idleSecondsCounter=0,i.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),r(a).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new i(e))},"beforeShow.fb":function(t,e,i,o){var n=e&&e.SlideShow;o?n&&i.opts.slideShow.autoStart&&n.start():n&&n.isActive&&n.clear()},"afterShow.fb":function(t,e,i){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(t,e,i,o,n){var s=e&&e.SlideShow;!s||!i.opts.slideShow||80!==n&&32!==n||r(a.activeElement).is("button,a,input")||(o.preventDefault(),s.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var i=e&&e.SlideShow;i&&i.stop()}}),r(a).on("visibilitychange",function(){var t=r.fancybox.getInstance(),e=t&&t.SlideShow;e&&e.isActive&&(a.hidden?e.clear():e.set())})}(document,jQuery),function(s,i){"use strict";var o=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e={},i=0;i<t.length;i++){var o=t[i];if(o&&o[1]in s){for(var n=0;n<o.length;n++)e[t[0][n]]=o[n];return e}}return!1}();if(o){var n={request:function(t){(t=t||s.documentElement)[o.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){s[o.exitFullscreen]()},toggle:function(t){t=t||s.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(s[o.fullscreenElement])},enabled:function(){return Boolean(s[o.fullscreenEnabled])}};i.extend(!0,i.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),i(s).on(o.fullscreenchange,function(){var t=n.isFullscreen(),e=i.fancybox.getInstance();e&&(e.current&&"image"===e.current.type&&e.isAnimating&&(e.current.$content.css("transition","none"),e.isAnimating=!1,e.update(!0,!0,0)),e.trigger("onFullscreenChange",t),e.$refs.container.toggleClass("fancybox-is-fullscreen",t),e.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}i(s).on({"onInit.fb":function(t,e){return o?void(e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),n.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&n.request(),e.FullScreen=n):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()):void e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,i,o,n){e&&e.FullScreen&&70===n&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&n.exit()}})}(document,jQuery),function(t,s){"use strict";var a="fancybox-thumbs",r=a+"-active";s.fancybox.defaults=s.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},s.fancybox.defaults);function o(t){this.init(t)}s.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,i=t.group,o=0;e.instance=t,e.opts=i[t.currIndex].opts.thumbs,(t.Thumbs=e).$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var n=0,s=i.length;n<s&&(i[n].thumb&&o++,!(1<o));n++);1<o&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var i,t=this,e=t.instance,o=t.opts.parentEl,n=[];t.$grid||(t.$grid=s('<div class="'+a+" "+a+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(o).addBack().filter(o)),t.$grid.on("click","a",function(){e.jumpTo(s(this).attr("data-index"))})),t.$list||(t.$list=s('<div class="'+a+'__list">').appendTo(t.$grid)),s.each(e.group,function(t,e){(i=e.thumb)||"image"!==e.type||(i=e.src),n.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(i&&i.length?' style="background-image:url('+i+')"':'class="fancybox-thumbs-missing"')+"></a>")}),t.$list[0].innerHTML=n.join(""),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,i,o=this,n=o.$list,s=o.$grid;o.instance.current&&(i=(e=n.children().removeClass(r).filter('[data-index="'+o.instance.current.index+'"]').addClass(r)).position(),"y"===o.opts.axis&&(i.top<0||i.top>n.height()-e.outerHeight())?n.stop().animate({scrollTop:n.scrollTop()+i.top},t):"x"===o.opts.axis&&(i.left<s.scrollLeft()||i.left>s.scrollLeft()+(s.width()-e.outerWidth()))&&n.parent().stop().animate({scrollLeft:i.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),s(t).on({"onInit.fb":function(t,e){var i;!e||e.Thumbs||(i=new o(e)).isActive&&!0===i.opts.autoStart&&i.show()},"beforeShow.fb":function(t,e,i,o){var n=e&&e.Thumbs;n&&n.isVisible&&n.focus(o?0:250)},"afterKeydown.fb":function(t,e,i,o,n){var s=e&&e.Thumbs;s&&s.isActive&&71===n&&(o.preventDefault(),s.toggle())},"beforeClose.fb":function(t,e){var i=e&&e.Thumbs;i&&i.isVisible&&!1!==i.opts.hideOnClose&&i.$grid.hide()}})}(document,jQuery),function(t,s){"use strict";s.extend(!0,s.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),s(t).on("click","[data-fancybox-share]",function(){var t,e,i,o=s.fancybox.getInstance(),n=o.current||null;n&&("function"===s.type(n.opts.share.url)&&(t=n.opts.share.url.apply(n,[o,n])),e=n.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===n.type?encodeURIComponent(n.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(t).replace(/[&<>"'`=\/]/g,function(t){return i[t]}))).replace(/\{\{descr\}\}/g,o.$caption?encodeURIComponent(o.$caption.text()):""),s.fancybox.open({src:o.translate(o,e),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){o.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(s,a,n){"use strict";function r(){var t=s.location.hash.substr(1),e=t.split("-"),i=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:i<1?1:i,gallery:e.join("-")}}function e(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function l(t){var e,i;return!!t&&(""!==(i=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&i)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(a).on({"onInit.fb":function(t,e){var i,o;!1!==e.group[e.currIndex].opts.hash&&(i=r(),(o=l(e))&&i.gallery&&o==i.gallery&&(e.currIndex=i.index-1))},"beforeShow.fb":function(t,e,i,o){var n;!i||!1===i.opts.hash||(n=l(e))&&(e.currentHash=n+(1<e.group.length?"-"+(i.index+1):""),s.location.hash!=="#"+e.currentHash&&(o&&!e.origHash&&(e.origHash=s.location.hash),e.hashTimer&&clearTimeout(e.hashTimer),e.hashTimer=setTimeout(function(){"replaceState"in s.history?(s.history[o?"pushState":"replaceState"]({},a.title,s.location.pathname+s.location.search+"#"+e.currentHash),o&&(e.hasCreatedHistory=!0)):s.location.hash=e.currentHash,e.hashTimer=null},300)))},"beforeClose.fb":function(t,e,i){!1!==i.opts.hash&&(clearTimeout(e.hashTimer),e.currentHash&&e.hasCreatedHistory?s.history.back():e.currentHash&&("replaceState"in s.history?s.history.replaceState({},a.title,s.location.pathname+s.location.search+(e.origHash||"")):s.location.hash=e.origHash),e.currentHash=null)}}),n(s).on("hashchange.fb",function(){var t=r(),o=null;n.each(n(".fancybox-container").get().reverse(),function(t,e){var i=n(e).data("FancyBox");if(i&&i.currentHash)return o=i,!1}),o?o.currentHash===t.gallery+"-"+t.index||1===t.index&&o.currentHash==t.gallery||(o.currentHash=null,o.close()):""!==t.gallery&&e(t)}),setTimeout(function(){n.fancybox.getInstance()||e(r())},50))})}(window,document,jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,o,e){o.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=o.current,i=(new Date).getTime();o.group.length<2||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-n<250||(n=i,o[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(d){"use strict";var n,a=window.Slick||{};n=0,(a=function(t,e){var i,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:d(t),appendDots:d(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},d.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.hidden="hidden",o.paused=!1,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=d(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,i=d(t).data("slick")||{},o.options=d.extend({},o.defaults,i,e),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=d.proxy(o.autoPlay,o),o.autoPlayClear=d.proxy(o.autoPlayClear,o),o.changeSlide=d.proxy(o.changeSlide,o),o.clickHandler=d.proxy(o.clickHandler,o),o.selectHandler=d.proxy(o.selectHandler,o),o.setPosition=d.proxy(o.setPosition,o),o.swipeHandler=d.proxy(o.swipeHandler,o),o.dragHandler=d.proxy(o.dragHandler,o),o.keyHandler=d.proxy(o.keyHandler,o),o.autoPlayIterator=d.proxy(o.autoPlayIterator,o),o.instanceUid=n++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0),o.checkResponsive(!0)}).prototype.addSlide=a.prototype.slickAdd=function(t,e,i){var o=this;if("boolean"==typeof e)i=e,e=null;else if(e<0||e>=o.slideCount)return!1;o.unload(),"number"==typeof e?0===e&&0===o.$slides.length?d(t).appendTo(o.$slideTrack):i?d(t).insertBefore(o.$slides.eq(e)):d(t).insertAfter(o.$slides.eq(e)):!0===i?d(t).prependTo(o.$slideTrack):d(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,e){d(e).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},a.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},a.prototype.animateSlide=function(t,e){var i={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(t=-t),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,e):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,e):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),d({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(t){t=Math.ceil(t),!1===o.options.vertical?i[o.animType]="translate("+t+"px, 0px)":i[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(i)},complete:function(){e&&e.call()}})):(o.applyTransition(),t=Math.ceil(t),i[o.animType]=!1===o.options.vertical?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(i),e&&setTimeout(function(){o.disableTransition(),e.call()},o.options.speed))},a.prototype.asNavFor=function(e){var t=this.options.asNavFor;t&&null!==t&&(t=d(t).not(this.$slider)),null!==t&&"object"==typeof t&&t.each(function(){var t=d(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},a.prototype.applyTransition=function(t){var e=this,i={};i[e.transitionType]=!1===e.options.fade?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},a.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&!0!==t.paused&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},a.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},a.prototype.autoPlayIterator=function(){var t=this;!1===t.options.infinite?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(0==t.currentSlide-1&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},a.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=d(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=d(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},a.prototype.buildDots=function(){var t,e,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(e='<ul class="'+i.options.dotsClass+'">',t=0;t<=i.getDotCount();t+=1)e+="<li>"+i.options.customPaging.call(this,i,t)+"</li>";e+="</ul>",i.$dots=d(e).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},a.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){d(e).attr("data-slick-index",t).data("originalStyling",d(e).attr("style")||"")}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?d('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),d("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},a.prototype.buildRows=function(){var t,e,i,o,n,s,a,r=this;if(o=document.createDocumentFragment(),s=r.$slider.children(),1<r.options.rows){for(a=r.options.slidesPerRow*r.options.rows,n=Math.ceil(s.length/a),t=0;t<n;t++){var l=document.createElement("div");for(e=0;e<r.options.rows;e++){var d=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var h=t*a+(e*r.options.slidesPerRow+i);s.get(h)&&d.appendChild(s.get(h))}l.appendChild(d)}o.appendChild(l)}r.$slider.html(o),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},a.prototype.checkResponsive=function(t,e){var i,o,n,s=this,a=!1,r=s.$slider.width(),l=window.innerWidth||d(window).width();if("window"===s.respondTo?n=l:"slider"===s.respondTo?n=r:"min"===s.respondTo&&(n=Math.min(l,r)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(i in o=null,s.breakpoints)s.breakpoints.hasOwnProperty(i)&&(!1===s.originalSettings.mobileFirst?n<s.breakpoints[i]&&(o=s.breakpoints[i]):n>s.breakpoints[i]&&(o=s.breakpoints[i]));null!==o?null!==s.activeBreakpoint&&o===s.activeBreakpoint&&!e||(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=d.extend({},s.originalSettings,s.breakpointSettings[o]),!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=o):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===t&&(s.currentSlide=s.options.initialSlide),s.refresh(t),a=o),t||!1===a||s.$slider.trigger("breakpoint",[s,a])}},a.prototype.changeSlide=function(t,e){var i,o,n=this,s=d(t.target);switch(s.is("a")&&t.preventDefault(),s.is("li")||(s=s.closest("li")),i=0!=n.slideCount%n.options.slidesToScroll?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,t.data.message){case"previous":o=0==i?n.options.slidesToScroll:n.options.slidesToShow-i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-o,!1,e);break;case"next":o=0==i?n.options.slidesToScroll:i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+o,!1,e);break;case"index":var a=0===t.data.index?0:t.data.index||s.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(a),!1,e),s.children().trigger("focus");break;default:return}},a.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var o in e){if(t<e[o]){t=i;break}i=e[o]}return t},a.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(d("li",t.$dots).off("click.slick",t.changeSlide),!0===t.options.pauseOnDotsHover&&!0===t.options.autoplay&&d("li",t.$dots).off("mouseenter.slick",d.proxy(t.setPaused,t,!0)).off("mouseleave.slick",d.proxy(t.setPaused,t,!1))),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),d(document).off(t.visibilityChange,t.visibility),t.$list.off("mouseenter.slick",d.proxy(t.setPaused,t,!0)),t.$list.off("mouseleave.slick",d.proxy(t.setPaused,t,!1)),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&d(t.$slideTrack).children().off("click.slick",t.selectHandler),d(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),d(window).off("resize.slick.slick-"+t.instanceUid,t.resize),d("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),d(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),d(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},a.prototype.cleanUpRows=function(){var t;1<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.html(t))},a.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},a.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),d(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){d(this).attr("style",d(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},a.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(t).css(e)},a.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},a.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},a.prototype.filterSlides=a.prototype.slickFilter=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},a.prototype.getCurrent=a.prototype.slickCurrentSlide=function(){return this.currentSlide},a.prototype.getDotCount=function(){var t=this,e=0,i=0,o=0;if(!0===t.options.infinite)for(;e<t.slideCount;)++o,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)o=t.slideCount;else for(;e<t.slideCount;)++o,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o-1},a.prototype.getLeft=function(t){var e,i,o,n=this,s=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=-1*n.slideWidth*n.options.slidesToShow,s=-1*i*n.options.slidesToShow),0!=n.slideCount%n.options.slidesToScroll&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(s=t>n.slideCount?(n.slideOffset=-1*(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth,-1*(n.options.slidesToShow-(t-n.slideCount))*i):(n.slideOffset=-1*n.slideCount%n.options.slidesToScroll*n.slideWidth,-1*n.slideCount%n.options.slidesToScroll*i))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,s=(t+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(s=n.slideOffset=0),!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?-1*t*n.slideWidth+n.slideOffset:-1*t*i+s,!0===n.options.variableWidth&&(e=(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow))[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(e=(o=!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow+1))[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},a.prototype.getOption=a.prototype.slickGetOption=function(t){return this.options[t]},a.prototype.getNavigableIndexes=function(){var t,e=this,i=0,o=0,n=[];for(t=!1===e.options.infinite?e.slideCount:(i=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,2*e.slideCount);i<t;)n.push(i),i=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},a.prototype.getSlick=function(){return this},a.prototype.getSlideCount=function(){var i,o,n=this;return o=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(t,e){return e.offsetLeft-o+d(e).outerWidth()/2>-1*n.swipeLeft?(i=e,!1):void 0}),Math.abs(d(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},a.prototype.goTo=a.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},a.prototype.init=function(t){var e=this;d(e.$slider).hasClass("slick-initialized")||(d(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA()},a.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},a.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&d("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&!0===t.options.autoplay&&d("li",t.$dots).on("mouseenter.slick",d.proxy(t.setPaused,t,!0)).on("mouseleave.slick",d.proxy(t.setPaused,t,!1))},a.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),d(document).on(t.visibilityChange,d.proxy(t.visibility,t)),t.$list.on("mouseenter.slick",d.proxy(t.setPaused,t,!0)),t.$list.on("mouseleave.slick",d.proxy(t.setPaused,t,!1)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&d(t.$slideTrack).children().on("click.slick",t.selectHandler),d(window).on("orientationchange.slick.slick-"+t.instanceUid,d.proxy(t.orientationChange,t)),d(window).on("resize.slick.slick-"+t.instanceUid,d.proxy(t.resize,t)),d("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),d(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),d(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},a.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),!0===t.options.autoplay&&t.autoPlay()},a.prototype.keyHandler=function(t){t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:"previous"}}):39===t.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:"next"}}))},a.prototype.lazyLoad=function(){function t(t){d("img[data-lazy]",t).each(function(){var t=d(this),e=d(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")})})},i.src=e})}var e,i,o=this;!0===o.options.centerMode?i=!0===o.options.infinite?(e=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(e=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),o.options.slidesToShow/2+1+2+o.currentSlide):(i=(e=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide)+o.options.slidesToShow,!0===o.options.fade&&(0<e&&e--,i<=o.slideCount&&i++)),t(o.$slider.find(".slick-slide").slice(e,i)),o.slideCount<=o.options.slidesToShow?t(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?t(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&t(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},a.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},a.prototype.next=a.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},a.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},a.prototype.pause=a.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},a.prototype.play=a.prototype.slickPlay=function(){this.paused=!1,this.autoPlay()},a.prototype.postSlide=function(t){var e=this;e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),!(e.swipeLeft=null)===e.options.autoplay&&!1===e.paused&&e.autoPlay(),!0===e.options.accessibility&&e.initADA()},a.prototype.prev=a.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},a.prototype.preventDefault=function(t){t.preventDefault()},a.prototype.progressiveLazyLoad=function(){var t,e=this;0<d("img[data-lazy]",e.$slider).length&&(t=d("img[data-lazy]",e.$slider).first()).attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),e.progressiveLazyLoad(),!0===e.options.adaptiveHeight&&e.setPosition()}).error(function(){t.removeAttr("data-lazy"),e.progressiveLazyLoad()})},a.prototype.refresh=function(t){var e=this,i=e.currentSlide;e.destroy(!0),d.extend(e,e.initials,{currentSlide:i}),e.init(),t||e.changeSlide({data:{message:"index",index:i}},!1)},a.prototype.registerBreakpoints=function(){var t,e,i,o=this,n=o.options.responsive||null;if("array"===d.type(n)&&n.length){for(t in o.respondTo=o.options.respondTo||"window",n)if(i=o.breakpoints.length-1,e=n[t].breakpoint,n.hasOwnProperty(t)){for(;0<=i;)o.breakpoints[i]&&o.breakpoints[i]===e&&o.breakpoints.splice(i,1),i--;o.breakpoints.push(e),o.breakpointSettings[e]=n[t].settings}o.breakpoints.sort(function(t,e){return o.options.mobileFirst?t-e:e-t})}},a.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&d(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t]),!0===t.options.autoplay&&t.focusHandler()},a.prototype.resize=function(){var t=this;d(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=d(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},a.prototype.removeSlide=a.prototype.slickRemove=function(t,e,i){var o=this;return t="boolean"==typeof t?!0===(e=t)?0:o.slideCount-1:!0===e?--t:t,!(o.slideCount<1||t<0||t>o.slideCount-1)&&(o.unload(),!0===i?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(t).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},a.prototype.setCSS=function(t){var e,i,o=this,n={};!0===o.options.rtl&&(t=-t),e="left"==o.positionProp?Math.ceil(t)+"px":"0px",i="top"==o.positionProp?Math.ceil(t)+"px":"0px",n[o.positionProp]=t,!1===o.transformsEnabled||(!(n={})===o.cssTransitions?n[o.animType]="translate("+e+", "+i+")":n[o.animType]="translate3d("+e+", "+i+", 0px)"),o.$slideTrack.css(n)},a.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},a.prototype.setFade=function(){var i,o=this;o.$slides.each(function(t,e){i=-1*o.slideWidth*t,!0===o.options.rtl?d(e).css({position:"relative",right:i,top:0,zIndex:o.options.zIndex-2,opacity:0}):d(e).css({position:"relative",left:i,top:0,zIndex:o.options.zIndex-2,opacity:0})}),o.$slides.eq(o.currentSlide).css({zIndex:o.options.zIndex-1,opacity:1})},a.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},a.prototype.setOption=a.prototype.slickSetOption=function(t,e,i){var o,n,s=this;if("responsive"===t&&"array"===d.type(e))for(n in e)if("array"!==d.type(s.options.responsive))s.options.responsive=[e[n]];else{for(o=s.options.responsive.length-1;0<=o;)s.options.responsive[o].breakpoint===e[n].breakpoint&&s.options.responsive.splice(o,1),o--;s.options.responsive.push(e[n])}else s.options[t]=e;!0===i&&(s.unload(),s.reinit())},a.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},a.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0!==t.options.useCSS||(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&!1!==t.animType},a.prototype.setSlideClasses=function(t){var e,i,o,n,s=this;i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(t).addClass("slick-current"),!0===s.options.centerMode?(e=Math.floor(s.options.slidesToShow/2),!0===s.options.infinite&&(e<=t&&t<=s.slideCount-1-e?s.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=s.options.slidesToShow+t,i.slice(o-e+1,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):t===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(t).addClass("slick-center")):0<=t&&t<=s.slideCount-s.options.slidesToShow?s.$slides.slice(t,t+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(n=s.slideCount%s.options.slidesToShow,o=!0===s.options.infinite?s.options.slidesToShow+t:t,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-t<s.options.slidesToShow?i.slice(o-(s.options.slidesToShow-n),o+n).addClass("slick-active").attr("aria-hidden","false"):i.slice(o,o+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},a.prototype.setupInfinite=function(){var t,e,i,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(e=null,o.slideCount>o.options.slidesToShow)){for(i=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-i;--t)e=t-1,d(o.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<i;t+=1)e=t,d(o.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){d(this).attr("id","")})}},a.prototype.setPaused=function(t){var e=this;!0===e.options.autoplay&&!0===e.options.pauseOnHover&&((e.paused=t)?e.autoPlayClear():e.autoPlay())},a.prototype.selectHandler=function(t){var e=this,i=d(t.target).is(".slick-slide")?d(t.target):d(t.target).parents(".slick-slide"),o=parseInt(i.attr("data-slick-index"));return o=o||0,e.slideCount<=e.options.slidesToShow?(e.setSlideClasses(o),void e.asNavFor(o)):void e.slideHandler(o)},a.prototype.slideHandler=function(t,e,i){var o,n,s,a,r=null,l=this;return e=e||!1,!0===l.animating&&!0===l.options.waitForAnimate||!0===l.options.fade&&l.currentSlide===t||l.slideCount<=l.options.slidesToShow?void 0:(!1===e&&l.asNavFor(t),o=t,r=l.getLeft(o),a=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?a:l.swipeLeft,!1===l.options.infinite&&!1===l.options.centerMode&&(t<0||t>l.getDotCount()*l.options.slidesToScroll)||!1===l.options.infinite&&!0===l.options.centerMode&&(t<0||t>l.slideCount-l.options.slidesToScroll)?void(!1===l.options.fade&&(o=l.currentSlide,!0!==i?l.animateSlide(a,function(){l.postSlide(o)}):l.postSlide(o))):(!0===l.options.autoplay&&clearInterval(l.autoPlayTimer),n=o<0?0!=l.slideCount%l.options.slidesToScroll?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+o:o>=l.slideCount?0!=l.slideCount%l.options.slidesToScroll?0:o-l.slideCount:o,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,n]),s=l.currentSlide,l.currentSlide=n,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),!0===l.options.fade?(!0!==i?(l.fadeSlideOut(s),l.fadeSlide(n,function(){l.postSlide(n)})):l.postSlide(n),void l.animateHeight()):void(!0!==i?l.animateSlide(r,function(){l.postSlide(n)}):l.postSlide(n))))},a.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},a.prototype.swipeDirection=function(){var t,e,i,o,n=this;return t=n.touchObject.startX-n.touchObject.curX,e=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(e,t),(o=Math.round(180*i/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&0<=o||o<=360&&315<=o?!1===n.options.rtl?"left":"right":135<=o&&o<=225?!1===n.options.rtl?"right":"left":!0===n.options.verticalSwiping?35<=o&&o<=135?"left":"right":"vertical"},a.prototype.swipeEnd=function(){var t,e=this;if(e.dragging=!1,e.shouldClick=!(10<e.touchObject.swipeLength),void 0===e.touchObject.curX)return!1;if(!0===e.touchObject.edgeHit&&e.$slider.trigger("edge",[e,e.swipeDirection()]),e.touchObject.swipeLength>=e.touchObject.minSwipe)switch(e.swipeDirection()){case"left":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide+e.getSlideCount()):e.currentSlide+e.getSlideCount(),e.slideHandler(t),e.currentDirection=0,e.touchObject={},e.$slider.trigger("swipe",[e,"left"]);break;case"right":t=e.options.swipeToSlide?e.checkNavigable(e.currentSlide-e.getSlideCount()):e.currentSlide-e.getSlideCount(),e.slideHandler(t),e.currentDirection=1,e.touchObject={},e.$slider.trigger("swipe",[e,"right"])}else e.touchObject.startX!==e.touchObject.curX&&(e.slideHandler(e.currentSlide),e.touchObject={})},a.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},a.prototype.swipeMove=function(t){var e,i,o,n,s,a=this;return s=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||s&&1!==s.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==s?s[0].pageX:t.clientX,a.touchObject.curY=void 0!==s?s[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2)))),"vertical"!==(i=a.swipeDirection())?(void 0!==t.originalEvent&&4<a.touchObject.swipeLength&&t.preventDefault(),n=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(n=a.touchObject.curY>a.touchObject.startY?1:-1),o=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(o=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.swipeLeft=!1===a.options.vertical?e+o*n:e+o*(a.$list.height()/a.listWidth)*n,!0===a.options.verticalSwiping&&(a.swipeLeft=e+o*n),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},a.prototype.swipeStart=function(t){var e,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?!(i.touchObject={}):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(i.dragging=!0))},a.prototype.unfilterSlides=a.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},a.prototype.unload=function(){var t=this;d(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},a.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},a.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode||t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode)&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},a.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},a.prototype.visibility=function(){var t=this;document[t.hidden]?(t.paused=!0,t.autoPlayClear()):!0===t.options.autoplay&&(t.paused=!1,t.autoPlay())},a.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){d(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+t})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(t){d(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+t,id:"slick-slide"+e.instanceUid+t})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},a.prototype.activateADA=function(){var t=this.$slider.find("*").is(":focus");this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false",tabindex:"0"}).find("a, input, button, select").attr({tabindex:"0"}),t&&this.$slideTrack.find(".slick-active").focus()},a.prototype.focusHandler=function(){var i=this;i.$slider.on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var e=d(this);setTimeout(function(){i.isPlay&&(e.is(":focus")?(i.autoPlayClear(),i.paused=!0):(i.paused=!1,i.autoPlay()))},0)})},d.fn.slick=function(){for(var t,e=this,i=arguments[0],o=Array.prototype.slice.call(arguments,1),n=e.length,s=0;s<n;s++)if("object"==typeof i||void 0===i?e[s].slick=new a(e[s],i):t=e[s].slick[i].apply(e[s].slick,o),void 0!==t)return t;return e}});var List=function(i){function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n={};return o.m=i,o.c=n,o.i=function(t){return t},o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=11)}([function(t,e,i){function o(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var n=i(4),s=/\s+/;Object.prototype.toString,t.exports=function(t){return new o(t)},o.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~n(e,t)||e.push(t),this.el.className=e.join(" "),this},o.prototype.remove=function(t){if(this.list)return this.list.remove(t),this;var e=this.array(),i=n(e,t);return~i&&e.splice(i,1),this.el.className=e.join(" "),this},o.prototype.toggle=function(t,e){return this.list?void 0!==e&&e===this.list.toggle(t,e)||this.list.toggle(t):void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this},o.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(s);return""===t[0]&&t.shift(),t},o.prototype.has=o.prototype.contains=function(t){return this.list?this.list.contains(t):!!~n(this.array(),t)}},function(t,e,i){var s=window.addEventListener?"addEventListener":"attachEvent",a=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!=s?"on":"",l=i(5);e.bind=function(t,e,i,o){t=l(t);for(var n=0;n<t.length;n++)t[n][s](r+e,i,o||!1)},e.unbind=function(t,e,i,o){t=l(t);for(var n=0;n<t.length;n++)t[n][a](r+e,i,o||!1)}},function(t,e){t.exports=function(s){return function(t,e,i){var n=this;this._values={},this.found=!1,this.filtered=!1;this.values=function(t,e){if(void 0===t)return n._values;for(var i in t)n._values[i]=t[i];!0!==e&&s.templater.set(n,n.values())},this.show=function(){s.templater.show(n)},this.hide=function(){s.templater.hide(n)},this.matching=function(){return s.filtered&&s.searched&&n.found&&n.filtered||s.filtered&&!s.searched&&n.filtered||!s.filtered&&s.searched&&n.found||!s.filtered&&!s.searched},this.visible=function(){return!(!n.elm||n.elm.parentNode!=s.list)},function(t,e,i){if(void 0===e)i?n.values(t,i):n.values(t);else{n.elm=e;var o=s.templater.get(n,t);n.values(o)}}(t,e,i)}}},function(t,e){t.exports=function(t,e,i,o){return(o=o||{}).test&&o.getElementsByClassName||!o.test&&document.getElementsByClassName?(a=t,r=e,i?a.getElementsByClassName(r)[0]:a.getElementsByClassName(r)):o.test&&o.querySelector||!o.test&&document.querySelector?(n=t,s="."+e,i?n.querySelector(s):n.querySelectorAll(s)):function(t,e,i){for(var o=[],n=t.getElementsByTagName("*"),s=n.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),r=0,l=0;r<s;r++)if(a.test(n[r].className)){if(i)return n[r];o[l]=n[r],l++}return o}(t,e,i);var n,s,a,r}},function(t,e){var o=[].indexOf;t.exports=function(t,e){if(o)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},function(t,e){t.exports=function(t){if(void 0===t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(e=t,"[object Array]"===Object.prototype.toString.call(e))return t;var e;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var i=[],o=0;o<t.length;o++)(Object.prototype.hasOwnProperty.call(t,o)||o in t)&&i.push(t[o]);return i.length?i:[]}},function(t,e){t.exports=function(t){return(t=null===(t=void 0===t?"":t)?"":t).toString()}},function(t,e){t.exports=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),o=0;e=i[o];o++)if(e)for(var n in e)t[n]=e[n];return t}},function(t,e){t.exports=function(n){var s=function(t,e,i){var o=t.splice(0,50);i=(i=i||[]).concat(n.add(o)),0<t.length?setTimeout(function(){s(t,e,i)},1):(n.update(),e(i))};return s}},function(t,e){t.exports=function(s){return s.handlers.filterStart=s.handlers.filterStart||[],s.handlers.filterComplete=s.handlers.filterComplete||[],function(t){if(s.trigger("filterStart"),s.i=1,s.reset.filter(),void 0===t)s.filtered=!1;else{s.filtered=!0;for(var e=s.items,i=0,o=e.length;i<o;i++){var n=e[i];t(n)?n.filtered=!0:n.filtered=!1}}return s.update(),s.trigger("filterComplete"),s.visibleItems}}},function(t,e,i){var o=(i(0),i(1)),n=i(7),r=i(6),d=i(3),h=i(19);t.exports=function(s,a){a=n({location:0,distance:100,threshold:.4,multiSearch:!0,searchClass:"fuzzy-search"},a=a||{});var l={search:function(t,e){for(var i=a.multiSearch?t.replace(/ +$/,"").split(/ +/):[t],o=0,n=s.items.length;o<n;o++)l.item(s.items[o],e,i)},item:function(t,e,i){for(var o=!0,n=0;n<i.length;n++){for(var s=!1,a=0,r=e.length;a<r;a++)l.values(t.values(),e[a],i[n])&&(s=!0);s||(o=!1)}t.found=o},values:function(t,e,i){if(t.hasOwnProperty(e)){var o=r(t[e]).toLowerCase();if(h(o,i,a))return!0}return!1}};return o.bind(d(s.listContainer,a.searchClass),"keyup",function(t){var e=t.target||t.srcElement;s.search(e.value,l.search)}),function(t,e){s.search(t,e,l.search)}}},function(t,e,s){var a=s(18),h=s(3),c=s(7),u=s(4),p=s(1),m=s(6),f=s(0),g=s(17),v=s(5);t.exports=function(t,i,e){var o,r=this,l=s(2)(r),d=s(8)(r),n=s(12)(r);o={start:function(){r.listClass="list",r.searchClass="search",r.sortClass="sort",r.page=1e4,r.i=1,r.items=[],r.visibleItems=[],r.matchingItems=[],r.searched=!1,r.filtered=!1,r.searchColumns=void 0,r.handlers={updated:[]},r.valueNames=[],r.utils={getByClass:h,extend:c,indexOf:u,events:p,toString:m,naturalSort:a,classes:f,getAttribute:g,toArray:v},r.utils.extend(r,i),r.listContainer="string"==typeof t?document.getElementById(t):t,r.listContainer&&(r.list=h(r.listContainer,r.listClass,!0),r.parse=s(13)(r),r.templater=s(16)(r),r.search=s(14)(r),r.filter=s(9)(r),r.sort=s(15)(r),r.fuzzySearch=s(10)(r,i.fuzzySearch),this.handlers(),this.items(),this.pagination(),r.update())},handlers:function(){for(var t in r.handlers)r[t]&&r.on(t,r[t])},items:function(){r.parse(r.list),void 0!==e&&r.add(e)},pagination:function(){if(void 0!==i.pagination){!0===i.pagination&&(i.pagination=[{}]),void 0===i.pagination[0]&&(i.pagination=[i.pagination]);for(var t=0,e=i.pagination.length;t<e;t++)n(i.pagination[t])}}},this.reIndex=function(){r.items=[],r.visibleItems=[],r.matchingItems=[],r.searched=!1,r.filtered=!1,r.parse(r.list)},this.toJSON=function(){for(var t=[],e=0,i=r.items.length;e<i;e++)t.push(r.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(e)return void d(t,e);var i=[],o=!1;void 0===t[0]&&(t=[t]);for(var n=0,s=t.length;n<s;n++){var a;o=r.items.length>r.page,a=new l(t[n],void 0,o),r.items.push(a),i.push(a)}return r.update(),i}},this.show=function(t,e){return this.i=t,this.page=e,r.update(),r},this.remove=function(t,e,i){for(var o=0,n=0,s=r.items.length;n<s;n++)r.items[n].values()[t]==e&&(r.templater.remove(r.items[n],i),r.items.splice(n,1),s--,n--,o++);return r.update(),o},this.get=function(t,e){for(var i=[],o=0,n=r.items.length;o<n;o++){var s=r.items[o];s.values()[t]==e&&i.push(s)}return i},this.size=function(){return r.items.length},this.clear=function(){return r.templater.clear(),r.items=[],r},this.on=function(t,e){return r.handlers[t].push(e),r},this.off=function(t,e){var i=r.handlers[t],o=u(i,e);return-1<o&&i.splice(o,1),r},this.trigger=function(t){for(var e=r.handlers[t].length;e--;)r.handlers[t][e](r);return r},this.reset={filter:function(){for(var t=r.items,e=t.length;e--;)t[e].filtered=!1;return r},search:function(){for(var t=r.items,e=t.length;e--;)t[e].found=!1;return r}},this.update=function(){var t=r.items,e=t.length;r.visibleItems=[],r.matchingItems=[],r.templater.clear();for(var i=0;i<e;i++)t[i].matching()&&r.matchingItems.length+1>=r.i&&r.visibleItems.length<r.page?(t[i].show(),r.visibleItems.push(t[i]),r.matchingItems.push(t[i])):(t[i].matching()&&r.matchingItems.push(t[i]),t[i].hide());return r.trigger("updated"),r},o.start()}},function(t,e,i){var g=i(0),o=i(1),n=i(11);t.exports=function(p){function i(t,e){var i,o=p.matchingItems.length,n=p.i,s=p.page,a=Math.ceil(o/s),r=Math.ceil(n/s),l=e.innerWindow||2,d=e.left||e.outerWindow||0,h=e.right||e.outerWindow||0;h=a-h,t.clear();for(var c=1;c<=a;c++){var u=r===c?"active":"";m.number(c,d,h,r,l)?(i=t.add({page:c,dotted:!1})[0],u&&g(i.elm).add(u),f(i.elm,c,s)):m.dotted(t,c,d,h,r,l,t.size())&&(i=t.add({page:"...",dotted:!0})[0],g(i.elm).add("disabled"))}}var m={number:function(t,e,i,o,n){return this.left(t,e)||this.right(t,i)||this.innerWindow(t,o,n)},left:function(t,e){return t<=e},right:function(t,e){return e<t},innerWindow:function(t,e,i){return e-i<=t&&t<=e+i},dotted:function(t,e,i,o,n,s,a){return this.dottedLeft(t,e,i,o,n,s)||this.dottedRight(t,e,i,o,n,s,a)},dottedLeft:function(t,e,i,o,n,s){return e==i+1&&!this.innerWindow(e,n,s)&&!this.right(e,o)},dottedRight:function(t,e,i,o,n,s,a){return!t.items[a-1].values().dotted&&e==o&&!this.innerWindow(e,n,s)&&!this.right(e,o)}},f=function(t,e,i){o.bind(t,"click",function(){p.show((e-1)*i+1,i)})};return function(t){var e=new n(p.listContainer.id,{listClass:t.paginationClass||"pagination",item:"<li><a class='page' href='javascript:function Z(){Z=\"\"}Z()'></a></li>",valueNames:["page","dotted"],searchClass:"pagination-search-that-is-not-supposed-to-exist",sortClass:"pagination-sort-that-is-not-supposed-to-exist"});p.on("updated",function(){i(e,t)}),i(e,t)}}},function(t,e,i){t.exports=function(n){function o(t,e){for(var i=0,o=t.length;i<o;i++)n.items.push(new s(e,t[i]))}var s=i(2)(n),a=function(t,e){var i=t.splice(0,50);o(i,e),0<t.length?setTimeout(function(){a(t,e)},1):(n.update(),n.trigger("parseComplete"))};return n.handlers.parseComplete=n.handlers.parseComplete||[],function(){var t=function(t){for(var e=t.childNodes,i=[],o=0,n=e.length;o<n;o++)void 0===e[o].data&&i.push(e[o]);return i}(n.list),e=n.valueNames;(n.indexAsync?a:o)(t,e)}}},function(t,e){t.exports=function(i){function o(t){return i.trigger("searchStart"),r.resetList(),r.setSearchString(t),r.setOptions(arguments),r.setColumns(),""===a?l.reset():(i.searched=!0,e?e(a,s):l.list()),i.update(),i.trigger("searchComplete"),i.visibleItems}var n,s,a,e,r={resetList:function(){i.i=1,i.templater.clear(),e=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?s=t[1]:2==t.length&&"function"==typeof t[1]?(s=void 0,e=t[1]):3==t.length?(s=t[1],e=t[2]):s=void 0},setColumns:function(){0!==i.items.length&&void 0===s&&(s=void 0===i.searchColumns?r.toArray(i.items[0].values()):i.searchColumns)},setSearchString:function(t){t=(t=i.utils.toString(t).toLowerCase()).replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),a=t},toArray:function(t){var e=[];for(var i in t)e.push(i);return e}},l={list:function(){for(var t=0,e=i.items.length;t<e;t++)l.item(i.items[t])},item:function(t){t.found=!1;for(var e=0,i=s.length;e<i;e++)if(l.values(t.values(),s[e]))return void(t.found=!0)},values:function(t,e){return!!(t.hasOwnProperty(e)&&(n=i.utils.toString(t[e]).toLowerCase(),""!==a&&-1<n.search(a)))},reset:function(){i.reset.search(),i.searched=!1}};return i.handlers.searchStart=i.handlers.searchStart||[],i.handlers.searchComplete=i.handlers.searchComplete||[],i.utils.events.bind(i.utils.getByClass(i.listContainer,i.searchClass),"keyup",function(t){var e=t.target||t.srcElement;""===e.value&&!i.searched||o(e.value)}),i.utils.events.bind(i.utils.getByClass(i.listContainer,i.searchClass),"input",function(t){""===(t.target||t.srcElement).value&&o("")}),o}},function(t,e){t.exports=function(s){function t(){s.trigger("sortStart");var o={},t=arguments[0].currentTarget||arguments[0].srcElement||void 0;t?(o.valueName=s.utils.getAttribute(t,"data-sort"),a.getInSensitive(t,o),o.order=a.getOrder(t)):((o=arguments[1]||o).valueName=arguments[0],o.order=o.order||"asc",o.insensitive=void 0===o.insensitive||o.insensitive),a.clear(),a.setOrder(o);var e,i=o.sortFunction||s.sortFunction||null,n="desc"===o.order?-1:1;e=i?function(t,e){return i(t,e,o)*n}:function(t,e){var i=s.utils.naturalSort;return i.alphabet=s.alphabet||o.alphabet||void 0,!i.alphabet&&o.insensitive&&(i=s.utils.naturalSort.caseInsensitive),i(t.values()[o.valueName],e.values()[o.valueName])*n},s.items.sort(e),s.update(),s.trigger("sortComplete")}var a={els:void 0,clear:function(){for(var t=0,e=a.els.length;t<e;t++)s.utils.classes(a.els[t]).remove("asc"),s.utils.classes(a.els[t]).remove("desc")},getOrder:function(t){var e=s.utils.getAttribute(t,"data-order");return"asc"==e||"desc"==e?e:!s.utils.classes(t).has("desc")&&s.utils.classes(t).has("asc")?"desc":"asc"},getInSensitive:function(t,e){var i=s.utils.getAttribute(t,"data-insensitive");e.insensitive="false"!==i},setOrder:function(t){for(var e=0,i=a.els.length;e<i;e++){var o=a.els[e];if(s.utils.getAttribute(o,"data-sort")===t.valueName){var n=s.utils.getAttribute(o,"data-order");("asc"!=n&&"desc"!=n||n==t.order)&&s.utils.classes(o).add(t.order)}}}};return s.handlers.sortStart=s.handlers.sortStart||[],s.handlers.sortComplete=s.handlers.sortComplete||[],a.els=s.utils.getByClass(s.listContainer,s.sortClass),s.utils.events.bind(a.els,"click",t),s.on("searchStart",a.clear),s.on("filterStart",a.clear),t}},function(t,e){function i(l){var i,d=this;this.clearSourceItem=function(t,e){for(var i=0,o=e.length;i<o;i++){var n;if(e[i].data)for(var s=0,a=e[i].data.length;s<a;s++)t.setAttribute("data-"+e[i].data[s],"");else e[i].attr&&e[i].name?(n=l.utils.getByClass(t,e[i].name,!0))&&n.setAttribute(e[i].attr,""):(n=l.utils.getByClass(t,e[i],!0))&&(n.innerHTML="");n=void 0}return t},this.getItemSource=function(t){if(void 0===t){for(var e=l.list.childNodes,i=0,o=e.length;i<o;i++)if(void 0===e[i].data)return e[i].cloneNode(!0)}else{if(/<tr[\s>]/g.exec(t)){var n=document.createElement("tbody");return n.innerHTML=t,n.firstChild}if(-1!==t.indexOf("<")){var s=document.createElement("div");return s.innerHTML=t,s.firstChild}var a=document.getElementById(l.item);if(a)return a}},this.get=function(t,e){d.create(t);for(var i={},o=0,n=e.length;o<n;o++){var s;if(e[o].data)for(var a=0,r=e[o].data.length;a<r;a++)i[e[o].data[a]]=l.utils.getAttribute(t.elm,"data-"+e[o].data[a]);else e[o].attr&&e[o].name?(s=l.utils.getByClass(t.elm,e[o].name,!0),i[e[o].name]=s?l.utils.getAttribute(s,e[o].attr):""):(s=l.utils.getByClass(t.elm,e[o],!0),i[e[o]]=s?s.innerHTML:"");s=void 0}return i},this.set=function(n,t){function e(t,e){var i,o=function(t){for(var e=0,i=l.valueNames.length;e<i;e++)if(l.valueNames[e].data){for(var o=l.valueNames[e].data,n=0,s=o.length;n<s;n++)if(o[n]===t)return{data:t}}else{if(l.valueNames[e].attr&&l.valueNames[e].name&&l.valueNames[e].name==t)return l.valueNames[e];if(l.valueNames[e]===t)return t}}(t);o&&(o.data?n.elm.setAttribute("data-"+o.data,e):o.attr&&o.name?(i=l.utils.getByClass(n.elm,o.name,!0))&&i.setAttribute(o.attr,e):(i=l.utils.getByClass(n.elm,o,!0))&&(i.innerHTML=e),i=void 0)}if(!d.create(n))for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])},this.create=function(t){if(void 0!==t.elm)return!1;if(void 0===i)throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.");var e=i.cloneNode(!0);return e.removeAttribute("id"),t.elm=e,d.set(t,t.values()),!0},this.remove=function(t){t.elm.parentNode===l.list&&l.list.removeChild(t.elm)},this.show=function(t){d.create(t),l.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===l.list&&l.list.removeChild(t.elm)},this.clear=function(){if(l.list.hasChildNodes())for(;1<=l.list.childNodes.length;)l.list.removeChild(l.list.firstChild)},i=(i=d.getItemSource(l.item))&&d.clearSourceItem(i,l.valueNames)}t.exports=function(t){return new i(t)}},function(t,e){t.exports=function(t,e){var i=t.getAttribute&&t.getAttribute(e)||null;if(!i)for(var o=t.attributes.length,n=0;n<o;n++)void 0!==e[n]&&e[n].nodeName===e&&(i=e[n].nodeValue);return i}},function(t,e,i){"use strict";function p(t){return 48<=t&&t<=57}function o(t,e){for(var i=(t+="").length,o=(e+="").length,n=0,s=0;n<i&&s<o;){var a=t.charCodeAt(n),r=e.charCodeAt(s);if(p(a)){if(!p(r))return a-r;for(var l=n,d=s;48===a&&++l<i;)a=t.charCodeAt(l);for(;48===r&&++d<o;)r=e.charCodeAt(d);for(var h=l,c=d;h<i&&p(t.charCodeAt(h));)++h;for(;c<o&&p(e.charCodeAt(c));)++c;var u=h-l-c+d;if(u)return u;for(;l<h;)if(u=t.charCodeAt(l++)-e.charCodeAt(d++))return u;n=h,s=c}else{if(a!==r)return a<f&&r<f&&-1!==m[a]&&-1!==m[r]?m[a]-m[r]:a-r;++n,++s}}return i-o}var n,m,f=0;o.caseInsensitive=o.i=function(t,e){return o((""+t).toLowerCase(),(""+e).toLowerCase())},Object.defineProperties(o,{alphabet:{get:function(){return n},set:function(t){m=[];var e=0;if(n=t)for(;e<n.length;e++)m[n.charCodeAt(e)]=e;for(f=m.length,e=0;e<f;e++)void 0===m[e]&&(m[e]=-1)}}}),t.exports=o},function(t,e){t.exports=function(t,n,e){function i(t,e){var i=t/n.length,o=Math.abs(r-e);return s?i+o/s:o?1:i}var o=e.location||0,s=e.distance||100,a=e.threshold||.4;if(n===t)return!0;if(32<n.length)return!1;var r=o,l=function(){var t,e={};for(t=0;t<n.length;t++)e[n.charAt(t)]=0;for(t=0;t<n.length;t++)e[n.charAt(t)]|=1<<n.length-t-1;return e}(),d=a,h=t.indexOf(n,r);-1!=h&&(d=Math.min(i(0,h),d),-1!=(h=t.lastIndexOf(n,r+n.length))&&(d=Math.min(i(0,h),d)));var c=1<<n.length-1;h=-1;for(var u,p,m,f=n.length+t.length,g=0;g<n.length;g++){for(u=0,p=f;u<p;)i(g,r+p)<=d?u=p:f=p,p=Math.floor((f-u)/2+u);f=p;var v=Math.max(1,r-p+1),b=Math.min(r+p,t.length)+n.length,y=Array(b+2);y[b+1]=(1<<g)-1;for(var w=b;v<=w;w--){var x=l[t.charAt(w-1)];if(y[w]=0===g?(y[w+1]<<1|1)&x:(y[w+1]<<1|1)&x|(m[w+1]|m[w])<<1|1|m[w+1],y[w]&c){var j=i(g,w-1);if(j<=d){if(d=j,!(r<(h=w-1)))break;v=Math.max(1,2*r-h)}}}if(i(g+1,r)>d)break;m=y}return!(h<0)}}]);(function(){function e(t,e){return function(){return t.apply(e,arguments)}}var o,t,i,l,n,a=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};function s(t){null==t&&(t={}),this.scrollCallback=e(this.scrollCallback,this),this.scrollHandler=e(this.scrollHandler,this),this.start=e(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new i}function r(){}function d(){this.keys=[],this.values=[]}function h(){}h.prototype.extend=function(t,e){var i,o;for(i in e)o=e[i],null==t[i]&&(t[i]=o);return t},h.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},h.prototype.addEvent=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):null!=t.attachEvent?t.attachEvent("on"+e,i):t[e]=i},h.prototype.removeEvent=function(t,e,i){return null!=t.removeEventListener?t.removeEventListener(e,i,!1):null!=t.detachEvent?t.detachEvent("on"+e,i):delete t[e]},h.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t=h,i=this.WeakMap||this.MozWeakMap||(d.prototype.get=function(t){var e,i,o,n;for(e=i=0,o=(n=this.keys).length;i<o;e=++i)if(n[e]===t)return this.values[e]},d.prototype.set=function(t,e){var i,o,n,s;for(i=o=0,n=(s=this.keys).length;o<n;i=++o)if(s[i]===t)return void(this.values[i]=e);return this.keys.push(t),this.values.push(e)},d),o=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(r.notSupported=!0,r.prototype.observe=function(){},r),l=this.getComputedStyle||function(i){return this.getPropertyValue=function(t){var e;return"float"===t&&(t="styleFloat"),n.test(t)&&t.replace(n,function(t,e){return e.toUpperCase()}),(null!=(e=i.currentStyle)?e[t]:void 0)||null},this},n=/(\-([a-z]){1})/g,this.WOW=(s.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},s.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},s.prototype.start=function(){var n,t,e,i,a;if(this.stopped=!1,this.boxes=function(){var t,e,i,o;for(o=[],t=0,e=(i=this.element.querySelectorAll("."+this.config.boxClass)).length;t<e;t++)n=i[t],o.push(n);return o}.call(this),this.all=function(){var t,e,i,o;for(o=[],t=0,e=(i=this.boxes).length;t<e;t++)n=i[t],o.push(n);return o}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(t=0,e=(i=this.boxes).length;t<e;t++)n=i[t],this.applyStyle(n,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new o((a=this,function(t){var n,s,e,i,o;for(o=[],e=0,i=t.length;e<i;e++)s=t[e],o.push(function(){var t,e,i,o;for(o=[],t=0,e=(i=s.addedNodes||[]).length;t<e;t++)n=i[t],o.push(this.doSync(n));return o}.call(a));return o})).observe(document.body,{childList:!0,subtree:!0}):void 0},s.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},s.prototype.sync=function(){return o.notSupported?this.doSync(this.element):void 0},s.prototype.doSync=function(t){var e,i,o,n,s;if(null==t&&(t=this.element),1===t.nodeType){for(s=[],i=0,o=(n=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass)).length;i<o;i++)e=n[i],a.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),s.push(this.scrolled=!0)):s.push(void 0);return s}},s.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback?this.config.callback(t):void 0},s.prototype.applyStyle=function(t,e){var i,o,n,s;return o=t.getAttribute("data-wow-duration"),i=t.getAttribute("data-wow-delay"),n=t.getAttribute("data-wow-iteration"),this.animate((s=this,function(){return s.customStyle(t,e,o,i,n)}))},s.prototype.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},s.prototype.resetStyle=function(){var t,e,i,o,n;for(n=[],e=0,i=(o=this.boxes).length;e<i;e++)t=o[e],n.push(t.style.visibility="visible");return n},s.prototype.customStyle=function(t,e,i,o,n){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",i&&this.vendorSet(t.style,{animationDuration:i}),o&&this.vendorSet(t.style,{animationDelay:o}),n&&this.vendorSet(t.style,{animationIterationCount:n}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},s.prototype.vendors=["moz","webkit"],s.prototype.vendorSet=function(n,t){var s,a,r,e;for(s in e=[],t)a=t[s],n[""+s]=a,e.push(function(){var t,e,i,o;for(o=[],t=0,e=(i=this.vendors).length;t<e;t++)r=i[t],o.push(n[""+r+s.charAt(0).toUpperCase()+s.substr(1)]=a);return o}.call(this));return e},s.prototype.vendorCSS=function(t,e){var i,o,n,s,a,r;for(i=(o=l(t)).getPropertyCSSValue(e),s=0,a=(r=this.vendors).length;s<a;s++)n=r[s],i=i||o.getPropertyCSSValue("-"+n+"-"+e);return i},s.prototype.animationName=function(e){var i;try{i=this.vendorCSS(e,"animation-name").cssText}catch(t){i=l(e).getPropertyValue("animation-name")}return"none"===i?"":i},s.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},s.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},s.prototype.scrollHandler=function(){return this.scrolled=!0},s.prototype.scrollCallback=function(){var n;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var t,e,i,o;for(o=[],t=0,e=(i=this.boxes).length;t<e;t++)(n=i[t])&&(this.isVisible(n)?this.show(n):o.push(n));return o}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},s.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},s.prototype.isVisible=function(t){var e,i,o,n,s;return i=t.getAttribute("data-wow-offset")||this.config.offset,n=(s=window.pageYOffset)+Math.min(this.element.clientHeight,this.util().innerHeight())-i,e=(o=this.offsetTop(t))+t.clientHeight,o<=n&&s<=e},s.prototype.util=function(){return null!=this._util?this._util:this._util=new t},s.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},s)}).call(this),window.MagicZoom=function(){var a,u;(function(n){if(!n)throw"MagicJS not found";if(!n.FX){var o=n.$;n.FX=new n.Class({init:function(t,e){var i;this.el=n.$(t),this.options=n.extend(this.options,e),this.timer=!1,this.easeFn=this.cubicBezierAtTime,i=n.FX.Transition[this.options.transition]||this.options.transition,"function"===n.jTypeOf(i)?this.easeFn=i:this.cubicBezier=this.parseCubicBezier(i)||this.parseCubicBezier("ease"),"string"==n.jTypeOf(this.options.cycles)&&(this.options.cycles="infinite"===this.options.cycles?1/0:parseInt(this.options.cycles)||1)},options:{fps:60,duration:600,transition:"ease",cycles:1,direction:"normal",onStart:n.$F,onComplete:n.$F,onBeforeRender:n.$F,onAfterRender:n.$F,forceAnimation:!1,roundCss:!1},styles:null,cubicBezier:null,easeFn:null,start:function(t){var e,i=/\%$/;for(e in this.styles=t,this.cycle=0,this.state=0,this.curFrame=0,this.pStyles={},this.alternate="alternate"===this.options.direction||"alternate-reverse"===this.options.direction,this.continuous="continuous"===this.options.direction||"continuous-reverse"===this.options.direction,this.styles)i.test(this.styles[e][0])&&(this.pStyles[e]=!0),"reverse"!==this.options.direction&&"alternate-reverse"!==this.options.direction&&"continuous-reverse"!==this.options.direction||this.styles[e].reverse();return this.startTime=n.now(),this.finishTime=this.startTime+this.options.duration,this.options.onStart.call(),0===this.options.duration?(this.render(1),this.options.onComplete.call()):(this.loopBind=this.loop.jBind(this),!this.options.forceAnimation&&n.jBrowser.features.requestAnimationFrame?this.timer=n.jBrowser.requestAnimationFrame.call(window,this.loopBind):this.timer=this.loopBind.interval(Math.round(1e3/this.options.fps))),this},stopAnimation:function(){this.timer&&(!this.options.forceAnimation&&n.jBrowser.features.requestAnimationFrame&&n.jBrowser.cancelAnimationFrame?n.jBrowser.cancelAnimationFrame.call(window,this.timer):clearInterval(this.timer),this.timer=!1)},stop:function(t){return t=!!n.defined(t)&&t,this.stopAnimation(),t&&(this.render(1),this.options.onComplete.jDelay(10)),this},calc:function(t,e,i){return t=parseFloat(t),((e=parseFloat(e))-t)*i+t},loop:function(){var t=n.now(),e=(t-this.startTime)/this.options.duration,i=Math.floor(e);if(t>=this.finishTime&&i>=this.options.cycles)return this.stopAnimation(),this.render(1),this.options.onComplete.jDelay(10),this;if(this.alternate&&this.cycle<i)for(var o in this.styles)this.styles[o].reverse();this.cycle=i,!this.options.forceAnimation&&n.jBrowser.features.requestAnimationFrame&&(this.timer=n.jBrowser.requestAnimationFrame.call(window,this.loopBind)),this.render((this.continuous?i:0)+this.easeFn(e%1))},render:function(t){var e={};for(var i in this.styles)"opacity"===i?e[i]=Math.round(100*this.calc(this.styles[i][0],this.styles[i][1],t))/100:(e[i]=this.calc(this.styles[i][0],this.styles[i][1],t),this.pStyles[i]&&(e[i]+="%"));this.options.onBeforeRender(e,this.el),this.set(e),this.options.onAfterRender(e,this.el)},set:function(t){return this.el.jSetCss(t)},parseCubicBezier:function(t){var e,i=null;if("string"!==n.jTypeOf(t))return null;switch(t){case"linear":i=o([0,0,1,1]);break;case"ease":i=o([.25,.1,.25,1]);break;case"ease-in":i=o([.42,0,1,1]);break;case"ease-out":i=o([0,0,.58,1]);break;case"ease-in-out":i=o([.42,0,.58,1]);break;case"easeInSine":i=o([.47,0,.745,.715]);break;case"easeOutSine":i=o([.39,.575,.565,1]);break;case"easeInOutSine":i=o([.445,.05,.55,.95]);break;case"easeInQuad":i=o([.55,.085,.68,.53]);break;case"easeOutQuad":i=o([.25,.46,.45,.94]);break;case"easeInOutQuad":i=o([.455,.03,.515,.955]);break;case"easeInCubic":i=o([.55,.055,.675,.19]);break;case"easeOutCubic":i=o([.215,.61,.355,1]);break;case"easeInOutCubic":i=o([.645,.045,.355,1]);break;case"easeInQuart":i=o([.895,.03,.685,.22]);break;case"easeOutQuart":i=o([.165,.84,.44,1]);break;case"easeInOutQuart":i=o([.77,0,.175,1]);break;case"easeInQuint":i=o([.755,.05,.855,.06]);break;case"easeOutQuint":i=o([.23,1,.32,1]);break;case"easeInOutQuint":i=o([.86,0,.07,1]);break;case"easeInExpo":i=o([.95,.05,.795,.035]);break;case"easeOutExpo":i=o([.19,1,.22,1]);break;case"easeInOutExpo":i=o([1,0,0,1]);break;case"easeInCirc":i=o([.6,.04,.98,.335]);break;case"easeOutCirc":i=o([.075,.82,.165,1]);break;case"easeInOutCirc":i=o([.785,.135,.15,.86]);break;case"easeInBack":i=o([.6,-.28,.735,.045]);break;case"easeOutBack":i=o([.175,.885,.32,1.275]);break;case"easeInOutBack":i=o([.68,-.55,.265,1.55]);break;default:if((t=t.replace(/\s/g,"")).match(/^cubic-bezier\((?:-?[0-9\.]{0,}[0-9]{1,},){3}(?:-?[0-9\.]{0,}[0-9]{1,})\)$/))for(e=(i=t.replace(/^cubic-bezier\s*\(|\)$/g,"").split(",")).length-1;0<=e;e--)i[e]=parseFloat(i[e])}return o(i)},cubicBezierAtTime:function(t){var e,h=0,c=0,u=0,i=0,o=0,n=0,s=this.options.duration;function p(t){return((h*t+c)*t+u)*t}return u=3*this.cubicBezier[0],c=3*(this.cubicBezier[2]-this.cubicBezier[0])-u,h=1-u-c,n=3*this.cubicBezier[1],o=3*(this.cubicBezier[3]-this.cubicBezier[1])-n,i=1-n-o,e=function(t,e){var i,o,n,s,a,r,l;function d(t){return 0<=t?t:0-t}for(n=t,r=0;r<8;r++){if(d(s=p(n)-t)<e)return n;if(d(a=(3*h*(l=n)+2*c)*l+u)<1e-6)break;n-=s/a}if(o=1,(n=t)<(i=0))return i;if(o<n)return o;for(;i<o;){if(d((s=p(n))-t)<e)return n;s<t?i=n:o=n,n=.5*(o-i)+i}return n}(t,1/(200*s)),((i*e+o)*e+n)*e}}),n.FX.Transition={linear:"linear",sineIn:"easeInSine",sineOut:"easeOutSine",expoIn:"easeInExpo",expoOut:"easeOutExpo",quadIn:"easeInQuad",quadOut:"easeOutQuad",cubicIn:"easeInCubic",cubicOut:"easeOutCubic",backIn:"easeInBack",backOut:"easeOutBack",elasticIn:function(t,e){return e=e||[],Math.pow(2,10*--t)*Math.cos(20*t*Math.PI*(e[0]||1)/3)},elasticOut:function(t,e){return 1-n.FX.Transition.elasticIn(1-t,e)},bounceIn:function(t){for(var e=0,i=1;;e+=i,i/=2)if((7-4*e)/11<=t)return i*i-Math.pow((11-6*e-11*t)/4,2)},bounceOut:function(t){return 1-n.FX.Transition.bounceIn(1-t)},none:function(t){return 0}}}})(a=u=function(){var e,t={version:"v3.3-b3",UUID:0,storage:{},$uuid:function(t){return t.$J_UUID||(t.$J_UUID=++d.UUID)},getStorage:function(t){return d.storage[t]||(d.storage[t]={})},$F:function(){},$false:function(){return!1},$true:function(){return!0},stylesId:"mjs-"+Math.floor(Math.random()*(new Date).getTime()),defined:function(t){return null!=t},ifndef:function(t,e){return null!=t?t:e},exists:function(t){return!!t},jTypeOf:function(t){if(!d.defined(t))return!1;if(t.$J_TYPE)return t.$J_TYPE;if(t.nodeType){if(1==t.nodeType)return"element";if(3==t.nodeType)return"textnode"}if(t.length&&t.item)return"collection";if(t.length&&t.callee)return"arguments";if((t instanceof window.Object||t instanceof window.Function)&&t.constructor===d.Class)return"class";if(t instanceof window.Array)return"array";if(t instanceof window.Function)return"function";if(t instanceof window.String)return"string";if(d.jBrowser.trident){if(d.defined(t.cancelBubble))return"event"}else if(t===window.event||t.constructor==window.Event||t.constructor==window.MouseEvent||t.constructor==window.UIEvent||t.constructor==window.KeyboardEvent||t.constructor==window.KeyEvent)return"event";return t instanceof window.Date?"date":t instanceof window.RegExp?"regexp":t===window?"window":t===document?"document":typeof t},extend:function(t,e){if(t instanceof window.Array||(t=[t]),!e)return t[0];for(var i=0,o=t.length;i<o;i++)if(d.defined(t))for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))try{t[i][n]=e[n]}catch(t){}return t[0]},implement:function(t,e){t instanceof window.Array||(t=[t]);for(var i=0,o=t.length;i<o;i++)if(d.defined(t[i])&&t[i].prototype)for(var n in e||{})t[i].prototype[n]||(t[i].prototype[n]=e[n]);return t[0]},nativize:function(t,e){if(!d.defined(t))return t;for(var i in e||{})t[i]||(t[i]=e[i]);return t},$try:function(){for(var t=0,e=arguments.length;t<e;t++)try{return arguments[t]()}catch(t){}return null},$A:function(t){if(!d.defined(t))return d.$([]);if(t.toArray)return d.$(t.toArray());if(t.item){for(var e=t.length||0,i=new Array(e);e--;)i[e]=t[e];return d.$(i)}return d.$(Array.prototype.slice.call(t))},now:function(){return(new Date).getTime()},detach:function(t){var e;switch(d.jTypeOf(t)){case"object":for(var i in e={},t)e[i]=d.detach(t[i]);break;case"array":e=[];for(var o=0,n=t.length;o<n;o++)e[o]=d.detach(t[o]);break;default:return t}return d.$(e)},$:function(t){var e=!0;if(!d.defined(t))return null;if(t.$J_EXT)return t;switch(d.jTypeOf(t)){case"array":return(t=d.nativize(t,d.extend(d.Array,{$J_EXT:d.$F}))).jEach=t.forEach,t;case"string":var i=document.getElementById(t);return d.defined(i)?d.$(i):null;case"window":case"document":d.$uuid(t),t=d.extend(t,d.Doc);break;case"element":d.$uuid(t),t=d.extend(t,d.Element);break;case"event":t=d.extend(t,d.Event);break;case"textnode":case"function":case"array":case"date":default:e=!1}return e?d.extend(t,{$J_EXT:d.$F}):t},$new:function(t,e,i){return d.$(d.doc.createElement(t)).setProps(e||{}).jSetCss(i||{})},addCSS:function(t,e,i){var o,n,s=[];if(i=i||d.stylesId,n=(o=d.$(i)||d.$new("style",{id:i,type:"text/css"}).jAppendTo(document.head||document.body,"top")).sheet||o.styleSheet,"string"!=d.jTypeOf(e)){for(var a in e)s.push(a+":"+e[a]);e=s.join(";")}return n.insertRule?n.insertRule(t+" {"+e+"}",n.cssRules.length):n.addRule(t,e)},removeCSS:function(t,e){var i,o;i=d.$(t),"element"===d.jTypeOf(i)&&((o=i.sheet||i.styleSheet).deleteRule?o.deleteRule(e):o.removeRule&&o.removeRule(e))},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}).toUpperCase()},getAbsoluteURL:function(t){return(e=e||document.createElement("a")).setAttribute("href",t),("!!"+e.href).replace("!!","")},getHashCode:function(t){for(var e=0,i=t.length,o=0;o<i;++o)e=31*e+t.charCodeAt(o),e%=4294967296;return e}},d=t;t.$;window.magicJS||(window.magicJS=t,window.$mjs=t.$),d.Array={$J_TYPE:"array",indexOf:function(t,e){this.length;for(var i=this.length,o=e<0?Math.max(0,i+e):e||0;o<i;o++)if(this[o]===t)return o;return-1},contains:function(t,e){return-1!=this.indexOf(t,e)},forEach:function(t,e){for(var i=0,o=this.length;i<o;i++)i in this&&t.call(e,this[i],i,this)},filter:function(t,e){for(var i=[],o=0,n=this.length;o<n;o++)if(o in this){var s=this[o];t.call(e,this[o],o,this)&&i.push(s)}return i},map:function(t,e){for(var i=[],o=0,n=this.length;o<n;o++)o in this&&(i[o]=t.call(e,this[o],o,this));return i}},d.implement(String,{$J_TYPE:"string",jTrim:function(){return this.replace(/^\s+|\s+$/g,"")},eq:function(t,e){return e?this.toString()===t.toString():this.toLowerCase().toString()===t.toLowerCase().toString()},jCamelize:function(){return this.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})},dashize:function(){return this.replace(/[A-Z]/g,function(t){return"-"+t.charAt(0).toLowerCase()})},jToInt:function(t){return parseInt(this,t||10)},toFloat:function(){return parseFloat(this)},jToBool:function(){return!this.replace(/true/i,"").jTrim()},has:function(t,e){return-1<((e=e||"")+this+e).indexOf(e+t+e)}}),t.implement(Function,{$J_TYPE:"function",jBind:function(){var t=d.$A(arguments),e=this,i=t.shift();return function(){return e.apply(i||null,t.concat(d.$A(arguments)))}},jBindAsEvent:function(){var e=d.$A(arguments),i=this,o=e.shift();return function(t){return i.apply(o||null,d.$([t||(d.jBrowser.ieMode?window.event:null)]).concat(e))}},jDelay:function(){var t=d.$A(arguments),e=this,i=t.shift();return window.setTimeout(function(){return e.apply(e,t)},i||0)},jDefer:function(){var t=d.$A(arguments),e=this;return function(){return e.jDelay.apply(e,t)}},interval:function(){var t=d.$A(arguments),e=this,i=t.shift();return window.setInterval(function(){return e.apply(e,t)},i||0)}});var i=navigator.userAgent.toLowerCase(),o=i.match(/(webkit|gecko|trident|presto)\/(\d+\.?\d*)/i),n=i.match(/(edge|opr)\/(\d+\.?\d*)/i)||i.match(/(crios|chrome|safari|firefox|opera|opr)\/(\d+\.?\d*)/i),s=i.match(/version\/(\d+\.?\d*)/i),a=document.documentElement.style;function r(t){var e=t.charAt(0).toUpperCase()+t.slice(1);return t in a||"Webkit"+e in a||"Moz"+e in a||"ms"+e in a||"O"+e in a}d.jBrowser={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector,fullScreen:!!(document.fullscreenEnabled||document.msFullscreenEnabled||document.exitFullscreen||document.cancelFullScreen||document.webkitexitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.oCancelFullScreen||document.msCancelFullScreen),xhr2:!!window.ProgressEvent&&!!window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,transition:r("transition"),transform:r("transform"),perspective:r("perspective"),animation:r("animation"),requestAnimationFrame:!1,multibackground:!1,cssFilters:!1,svg:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},touchScreen:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,mobile:!!i.match(/(android|bb\d+|meego).+|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(jBrowser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/),engine:o&&o[1]?o[1].toLowerCase():window.opera?"presto":window.ActiveXObject?"trident":void 0!==document.getBoxObjectFor||null!=window.mozInnerScreenY?"gecko":null===window.WebKitPoint&&navigator.taintEnabled?"unknown":"webkit",version:o&&o[2]?parseFloat(o[2]):0,uaName:n&&n[1]?n[1].toLowerCase():"",uaVersion:n&&n[2]?parseFloat(n[2]):0,cssPrefix:"",cssDomPrefix:"",domPrefix:"",ieMode:0,platform:i.match(/ip(?:ad|od|hone)/)?"ios":(i.match(/(?:webos|android)/)||navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),backCompat:document.compatMode&&"backcompat"==document.compatMode.toLowerCase(),scrollbarsWidth:0,getDoc:function(){return document.compatMode&&"backcompat"==document.compatMode.toLowerCase()?document.body:document.documentElement},requestAnimationFrame:window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||void 0,cancelAnimationFrame:window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||void 0,ready:!1,onready:function(){if(!d.jBrowser.ready){var t,e;d.jBrowser.ready=!0,d.body=d.$(document.body),d.win=d.$(window);try{var i=d.$new("div").jSetCss({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).jAppendTo(document.body);d.jBrowser.scrollbarsWidth=i.offsetWidth-i.clientWidth,i.jRemove()}catch(t){}try{(e=(t=d.$new("div")).style).cssText="background:url(https://),url(https://),red url(https://)",d.jBrowser.features.multibackground=/(url\s*\(.*?){3}/.test(e.background),t=e=null}catch(t){}d.jBrowser.cssTransformProp||(d.jBrowser.cssTransformProp=d.normalizeCSS("transform").dashize());try{(t=d.$new("div")).style.cssText=d.normalizeCSS("filter").dashize()+":blur(2px);",d.jBrowser.features.cssFilters=!!t.style.length&&(!d.jBrowser.ieMode||9<d.jBrowser.ieMode),t=null}catch(t){}d.jBrowser.features.cssFilters||d.$(document.documentElement).jAddClass("no-cssfilters-magic"),d.Doc.jCallEvent.call(d.$(document),"domready")}}},function(){var t,e,i,o=[];switch(d.jBrowser.engine){case"trident":d.jBrowser.version||(d.jBrowser.version=window.XMLHttpRequest?3:2);break;case"gecko":d.jBrowser.version=n&&n[2]?parseFloat(n[2]):0}if(d.jBrowser[d.jBrowser.engine]=!0,n&&"crios"===n[1]&&(d.jBrowser.uaName="chrome"),window.chrome&&(d.jBrowser.chrome=!0),n&&"opr"===n[1]&&(d.jBrowser.uaName="opera",d.jBrowser.opera=!0),"safari"===d.jBrowser.uaName&&s&&s[1]&&(d.jBrowser.uaVersion=parseFloat(s[1])),t={gecko:["-moz-","Moz","moz"],webkit:["-webkit-","Webkit","webkit"],trident:["-ms-","ms","ms"],presto:["-o-","O","o"]}[d.jBrowser.engine]||["","",""],d.jBrowser.cssPrefix=t[0],d.jBrowser.cssDomPrefix=t[1],d.jBrowser.domPrefix=t[2],d.jBrowser.ieMode=d.jBrowser.trident?document.documentMode?document.documentMode:function(){var t=0;if(d.jBrowser.backCompat)return 5;switch(d.jBrowser.version){case 2:t=6;break;case 3:t=7}return t}():void 0,d.jBrowser.mobile&&o.push("mobile-magic"),d.jBrowser.ieMode)for(d.jBrowser.uaName="ie",d.jBrowser.uaVersion=d.jBrowser.ieMode,o.push("ie"+d.jBrowser.ieMode+"-magic"),e=11;e>d.jBrowser.ieMode;e--)o.push("lt-ie"+e+"-magic");d.jBrowser.webkit&&d.jBrowser.version<536&&(d.jBrowser.features.fullScreen=!1),d.jBrowser.requestAnimationFrame&&d.jBrowser.requestAnimationFrame.call(window,function(){d.jBrowser.features.requestAnimationFrame=!0}),d.jBrowser.features.svg?o.push("svg-magic"):o.push("no-svg-magic"),i=(document.documentElement.className||"").match(/\S+/g)||[],document.documentElement.className=d.$(i).concat(o).join(" "),d.jBrowser.ieMode&&d.jBrowser.ieMode<9&&(document.createElement("figure"),document.createElement("figcaption"))}(),d.jBrowser.fullScreen={capable:d.jBrowser.features.fullScreen,enabled:function(){return!!(document.fullscreenElement||document[d.jBrowser.domPrefix+"FullscreenElement"]||document.fullScreen||document.webkitIsFullScreen||document[d.jBrowser.domPrefix+"FullScreen"])},request:function(t,e){e=e||{},this.capable?(d.$(document).jAddEvent(this.changeEventName,this.onchange=function(t){this.enabled()?e.onEnter&&e.onEnter():(d.$(document).jRemoveEvent(this.changeEventName,this.onchange),e.onExit&&e.onExit())}.jBindAsEvent(this)),d.$(document).jAddEvent(this.errorEventName,this.onerror=function(t){e.fallback&&e.fallback(),d.$(document).jRemoveEvent(this.errorEventName,this.onerror)}.jBindAsEvent(this)),(t[d.jBrowser.domPrefix+"RequestFullscreen"]||t[d.jBrowser.domPrefix+"RequestFullScreen"]||t.requestFullscreen||function(){}).call(t)):e.fallback&&e.fallback()},cancel:(document.exitFullscreen||document.cancelFullScreen||document[d.jBrowser.domPrefix+"ExitFullscreen"]||document[d.jBrowser.domPrefix+"CancelFullScreen"]||function(){}).jBind(document),changeEventName:document.msExitFullscreen?"MSFullscreenChange":(document.exitFullscreen?"":d.jBrowser.domPrefix)+"fullscreenchange",errorEventName:document.msExitFullscreen?"MSFullscreenError":(document.exitFullscreen?"":d.jBrowser.domPrefix)+"fullscreenerror",prefix:d.jBrowser.domPrefix,activeElement:null};var l,h,c,u,p=/\S+/g,m=/^(border(Top|Bottom|Left|Right)Width)|((padding|margin)(Top|Bottom|Left|Right))$/,f={float:void 0===a.styleFloat?"cssFloat":"styleFloat"},g={fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0,zoom:!0},v=window.getComputedStyle?function(t,e){var i=window.getComputedStyle(t,null);return i?i.getPropertyValue(e)||i[e]:null}:function(t,e){var i=t.currentStyle,o=null;return null==(o=i?i[e]:null)&&t.style&&t.style[e]&&(o=t.style[e]),o};function b(t){var e;return!((!d.jBrowser.webkit||"filter"!=t)&&t in a)&&(e=d.jBrowser.cssDomPrefix+t.charAt(0).toUpperCase()+t.slice(1))in a?e:t}function y(t){return t.pointerType?("touch"===t.pointerType||t.MSPOINTER_TYPE_TOUCH===t.pointerType)&&t.isPrimary:1===t.changedTouches.length&&(!t.targetTouches.length||t.targetTouches[0].identifier==t.changedTouches[0].identifier)}function w(t){return t.pointerType?"touch"===t.pointerType||t.MSPOINTER_TYPE_TOUCH===t.pointerType?t.pointerId:null:t.changedTouches[0].identifier}function x(t){return t.pointerType?"touch"===t.pointerType||t.MSPOINTER_TYPE_TOUCH===t.pointerType?t:null:t.changedTouches[0]}return d.normalizeCSS=b,d.Element={jHasClass:function(t){return!(t||"").has(" ")&&(this.className||"").has(t," ")},jAddClass:function(t){for(var e=(this.className||"").match(p)||[],i=(t||"").match(p)||[],o=i.length,n=0;n<o;n++)d.$(e).contains(i[n])||e.push(i[n]);return this.className=e.join(" "),this},jRemoveClass:function(t){for(var e,i=(this.className||"").match(p)||[],o=(t||"").match(p)||[],n=o.length,s=0;s<n;s++)-1<(e=d.$(i).indexOf(o[s]))&&i.splice(e,1);return this.className=t?i.join(" "):"",this},jToggleClass:function(t){return this.jHasClass(t)?this.jRemoveClass(t):this.jAddClass(t)},jGetCss:function(t){var e=t.jCamelize(),i=null;if(t=f[e]||(f[e]=b(e)),"auto"===(i=v(this,t))&&(i=null),null!==i){if("opacity"==t)return d.defined(i)?parseFloat(i):1;m.test(t)&&(i=parseInt(i,10)?i:"0px")}return i},jSetCssProp:function(t,e){var i=t.jCamelize();try{if("opacity"==t)return this.jSetOpacity(e),this;t=f[i]||(f[i]=b(i)),this.style[t]=e+("number"!=d.jTypeOf(e)||g[i]?"":"px")}catch(t){}return this},jSetCss:function(t){for(var e in t)this.jSetCssProp(e,t[e]);return this},jGetStyles:function(){var e={};return d.$A(arguments).jEach(function(t){e[t]=this.jGetCss(t)},this),e},jSetOpacity:function(t,e){return e=e||!1,this.style.opacity=t,t=parseInt(100*parseFloat(t)),e&&(0===t?"hidden"!=this.style.visibility&&(this.style.visibility="hidden"):"visible"!=this.style.visibility&&(this.style.visibility="visible")),d.jBrowser.ieMode&&d.jBrowser.ieMode<9&&(isNaN(t)?(this.style.filter=this.style.filter.replace(/progid:DXImageTransform.Microsoft.Alpha\(Opacity=\d*\)/i,"").jTrim(),""===this.style.filter&&this.style.removeAttribute("filter")):~this.style.filter.indexOf("Alpha")?this.style.filter=this.style.filter.replace(/Opacity=\d*/i,"Opacity="+t):this.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+t+")"),this},setProps:function(t){for(var e in t)"class"===e?this.jAddClass(""+t[e]):this.setAttribute(e,""+t[e]);return this},hide:function(){return this.jSetCss({display:"none",visibility:"hidden"})},show:function(){return this.jSetCss({display:"",visibility:"visible"})},jGetSize:function(){return{width:this.offsetWidth,height:this.offsetHeight}},getInnerSize:function(t){var e=this.jGetSize();return e.width-=parseFloat(this.jGetCss("border-left-width")||0)+parseFloat(this.jGetCss("border-right-width")||0),e.height-=parseFloat(this.jGetCss("border-top-width")||0)+parseFloat(this.jGetCss("border-bottom-width")||0),t||(e.width-=parseFloat(this.jGetCss("padding-left")||0)+parseFloat(this.jGetCss("padding-right")||0),e.height-=parseFloat(this.jGetCss("padding-top")||0)+parseFloat(this.jGetCss("padding-bottom")||0)),e},jGetScroll:function(){return{top:this.scrollTop,left:this.scrollLeft}},jGetFullScroll:function(){for(var t=this,e={top:0,left:0};e.left+=t.scrollLeft||0,e.top+=t.scrollTop||0,t=t.parentNode;);return e},jGetPosition:function(){var t=this,e=0,i=0;if(d.defined(document.documentElement.getBoundingClientRect)){var o=this.getBoundingClientRect(),n=d.$(document).jGetScroll(),s=d.jBrowser.getDoc();return{top:o.top+n.y-s.clientTop,left:o.left+n.x-s.clientLeft}}for(;e+=t.offsetLeft||0,i+=t.offsetTop||0,(t=t.offsetParent)&&!/^(?:body|html)$/i.test(t.tagName););return{top:i,left:e}},jGetRect:function(){var t=this.jGetPosition(),e=this.jGetSize();return{top:t.top,bottom:t.top+e.height,left:t.left,right:t.left+e.width}},changeContent:function(e){try{this.innerHTML=e}catch(t){this.innerText=e}return this},jRemove:function(){return this.parentNode?this.parentNode.removeChild(this):this},kill:function(){return d.$A(this.childNodes).jEach(function(t){3!=t.nodeType&&8!=t.nodeType&&d.$(t).kill()}),this.jRemove(),this.jClearEvents(),this.$J_UUID&&(d.storage[this.$J_UUID]=null,delete d.storage[this.$J_UUID]),null},append:function(t,e){e=e||"bottom";var i=this.firstChild;return"top"==e&&i?this.insertBefore(t,i):this.appendChild(t),this},jAppendTo:function(t,e){d.$(t).append(this,e);return this},enclose:function(t){return this.append(t.parentNode.replaceChild(this,t)),this},hasChild:function(t){return"element"===d.jTypeOf("string"==d.jTypeOf(t)?t=document.getElementById(t):t)&&(this!=t&&(this.contains&&!d.jBrowser.webkit419?this.contains(t):this.compareDocumentPosition?!!(16&this.compareDocumentPosition(t)):d.$A(this.byTag(t.tagName)).contains(t)))}},d.Element.jGetStyle=d.Element.jGetCss,d.Element.jSetStyle=d.Element.jSetCss,window.Element||(window.Element=d.$F,d.jBrowser.engine.webkit&&window.document.createElement("iframe"),window.Element.prototype=d.jBrowser.engine.webkit?window["[[DOMElement.prototype]]"]:{}),d.implement(window.Element,{$J_TYPE:"element"}),d.Doc={jGetSize:function(){return d.jBrowser.touchScreen||d.jBrowser.presto925||d.jBrowser.webkit419?{width:window.innerWidth,height:window.innerHeight}:{width:d.jBrowser.getDoc().clientWidth,height:d.jBrowser.getDoc().clientHeight}},jGetScroll:function(){return{x:window.pageXOffset||d.jBrowser.getDoc().scrollLeft,y:window.pageYOffset||d.jBrowser.getDoc().scrollTop}},jGetFullSize:function(){var t=this.jGetSize();return{width:Math.max(d.jBrowser.getDoc().scrollWidth,t.width),height:Math.max(d.jBrowser.getDoc().scrollHeight,t.height)}}},d.extend(document,{$J_TYPE:"document"}),d.extend(window,{$J_TYPE:"window"}),d.extend([d.Element,d.Doc],{jFetch:function(t,e){var i=d.getStorage(this.$J_UUID),o=i[t];return void 0!==e&&void 0===o&&(o=i[t]=e),d.defined(o)?o:null},jStore:function(t,e){return d.getStorage(this.$J_UUID)[t]=e,this},jDel:function(t){return delete d.getStorage(this.$J_UUID)[t],this}}),window.HTMLElement&&window.HTMLElement.prototype&&window.HTMLElement.prototype.getElementsByClassName||d.extend([d.Element,d.Doc],{getElementsByClassName:function(e){return d.$A(this.getElementsByTagName("*")).filter(function(t){try{return 1==t.nodeType&&t.className.has(e," ")}catch(t){}})}}),d.extend([d.Element,d.Doc],{byClass:function(){return this.getElementsByClassName(arguments[0])},byTag:function(){return this.getElementsByTagName(arguments[0])}}),d.jBrowser.fullScreen.capable&&!document.requestFullScreen&&(d.Element.requestFullScreen=function(){d.jBrowser.fullScreen.request(this)}),d.Event={$J_TYPE:"event",isQueueStopped:d.$false,stop:function(){return this.stopDistribution().stopDefaults()},stopDistribution:function(){return this.stopPropagation?this.stopPropagation():this.cancelBubble=!0,this},stopDefaults:function(){return this.preventDefault?this.preventDefault():this.returnValue=!1,this},stopQueue:function(){return this.isQueueStopped=d.$true,this},getClientXY:function(){var t;return t=/touch/i.test(this.type)?this.changedTouches[0]:this,d.defined(t)?{x:t.clientX,y:t.clientY}:{x:0,y:0}},jGetPageXY:function(){var t;return t=/touch/i.test(this.type)?this.changedTouches[0]:this,d.defined(t)?{x:t.pageX||t.clientX+d.jBrowser.getDoc().scrollLeft,y:t.pageY||t.clientY+d.jBrowser.getDoc().scrollTop}:{x:0,y:0}},getTarget:function(){for(var t=this.target||this.srcElement;t&&3==t.nodeType;)t=t.parentNode;return t},getRelated:function(){var e=null;switch(this.type){case"mouseover":case"pointerover":case"MSPointerOver":e=this.relatedTarget||this.fromElement;break;case"mouseout":case"pointerout":case"MSPointerOut":e=this.relatedTarget||this.toElement;break;default:return e}try{for(;e&&3==e.nodeType;)e=e.parentNode}catch(t){e=null}return e},getButton:function(){return this.which||void 0===this.button?this.which:1&this.button?1:2&this.button?3:4&this.button?2:0},isTouchEvent:function(){return this.pointerType&&("touch"===this.pointerType||this.pointerType===this.MSPOINTER_TYPE_TOUCH)||/touch/i.test(this.type)},isPrimaryTouch:function(){return this.pointerType?("touch"===this.pointerType||this.MSPOINTER_TYPE_TOUCH===this.pointerType)&&this.isPrimary:1===this.changedTouches.length&&(!this.targetTouches.length||this.targetTouches[0].identifier==this.changedTouches[0].identifier)}},d._event_add_="addEventListener",d._event_del_="removeEventListener",d._event_prefix_="",document.addEventListener||(d._event_add_="attachEvent",d._event_del_="detachEvent",d._event_prefix_="on"),d.Event.Custom={type:"",x:null,y:null,timeStamp:null,button:null,target:null,relatedTarget:null,$J_TYPE:"event.custom",isQueueStopped:d.$false,events:d.$([]),pushToEvents:function(t){var e=t;this.events.push(e)},stop:function(){return this.stopDistribution().stopDefaults()},stopDistribution:function(){return this.events.jEach(function(t){try{t.stopDistribution()}catch(t){}}),this},stopDefaults:function(){return this.events.jEach(function(t){try{t.stopDefaults()}catch(t){}}),this},stopQueue:function(){return this.isQueueStopped=d.$true,this},getClientXY:function(){return{x:this.clientX,y:this.clientY}},jGetPageXY:function(){return{x:this.x,y:this.y}},getTarget:function(){return this.target},getRelated:function(){return this.relatedTarget},getButton:function(){return this.button},getOriginalTarget:function(){return 0<this.events.length?this.events[0].getTarget():void 0}},d.extend([d.Element,d.Doc],{jAddEvent:function(e,t,i,o){var n,s,a,r,l;return"string"==d.jTypeOf(e)&&1<(l=e.split(" ")).length&&(e=l),"array"==d.jTypeOf(e)?d.$(e).jEach(this.jAddEvent.jBindAsEvent(this,t,i,o)):e&&t&&"string"==d.jTypeOf(e)&&"function"==d.jTypeOf(t)&&("domready"==e&&d.jBrowser.ready?t.call(this):(i=parseInt(i||50),t.$J_EUID||(t.$J_EUID=Math.floor(Math.random()*d.now())),(s=(n=d.Doc.jFetch.call(this,"_EVENTS_",{}))[e])||(n[e]=s=d.$([]),a=this,d.Event.Custom[e]?d.Event.Custom[e].handler.add.call(this,o):(s.handle=function(t){t=d.extend(t||window.e,{$J_TYPE:"event"}),d.Doc.jCallEvent.call(a,e,d.$(t))},this[d._event_add_](d._event_prefix_+e,s.handle,!1))),r={type:e,fn:t,priority:i,euid:t.$J_EUID},s.push(r),s.sort(function(t,e){return t.priority-e.priority}))),this},jRemoveEvent:function(t){var e,i,o,n,s,a=d.Doc.jFetch.call(this,"_EVENTS_",{});if(n=1<arguments.length?arguments[1]:-100,"string"==d.jTypeOf(t)&&1<(s=t.split(" ")).length&&(t=s),"array"==d.jTypeOf(t))return d.$(t).jEach(this.jRemoveEvent.jBindAsEvent(this,n)),this;if(!t||"string"!=d.jTypeOf(t)||!a||!a[t])return this;for(e=a[t]||[],o=0;o<e.length;o++)i=e[o],(-100==n||n&&n.$J_EUID===i.euid)&&e.splice(o--,1);return 0===e.length&&(d.Event.Custom[t]?d.Event.Custom[t].handler.jRemove.call(this):this[d._event_del_](d._event_prefix_+t,e.handle,!1),delete a[t]),this},jCallEvent:function(t,e){var i,o,n=d.Doc.jFetch.call(this,"_EVENTS_",{});if(!t||"string"!=d.jTypeOf(t)||!n||!n[t])return this;try{e=d.extend(e||{},{type:t})}catch(t){}for(void 0===e.timeStamp&&(e.timeStamp=d.now()),i=n[t]||[],o=0;o<i.length&&(!e.isQueueStopped||!e.isQueueStopped());o++)i[o].fn.call(this,e)},jRaiseEvent:function(t,e){var i,o=this;return"domready"!=t?(o===document&&document.createEvent&&!o.dispatchEvent&&(o=document.documentElement),document.createEvent?(i=document.createEvent(t)).initEvent(e,!0,!0):(i=document.createEventObject()).eventType=t,document.createEvent?o.dispatchEvent(i):o.fireEvent("on"+e,i),i):(d.Doc.jCallEvent.call(this,t),this)},jClearEvents:function(){var t=d.Doc.jFetch.call(this,"_EVENTS_");if(!t)return this;for(var e in t)d.Doc.jRemoveEvent.call(this,e);return d.Doc.jDel.call(this,"_EVENTS_"),this}}),function(t){if("complete"===document.readyState)return t.jBrowser.onready.jDelay(1);t.jBrowser.webkit&&t.jBrowser.version<420?function(){t.$(["loaded","complete"]).contains(document.readyState)?t.jBrowser.onready():arguments.callee.jDelay(50)}():t.jBrowser.trident&&t.jBrowser.ieMode<9&&window==top?function(){t.$try(function(){return t.jBrowser.getDoc().doScroll("left"),!0})?t.jBrowser.onready():arguments.callee.jDelay(50)}():(t.Doc.jAddEvent.call(t.$(document),"DOMContentLoaded",t.jBrowser.onready),t.Doc.jAddEvent.call(t.$(window),"load",t.jBrowser.onready))}(t),d.Class=function(){var t=null,e=d.$A(arguments);"class"==d.jTypeOf(e[0])&&(t=e.shift());function i(){for(var t in this)this[t]=d.detach(this[t]);if(this.constructor.$parent){this.$parent={};var e=this.constructor.$parent;for(var i in e){var o=e[i];switch(d.jTypeOf(o)){case"function":this.$parent[i]=d.Class.wrap(this,o);break;case"object":case"array":this.$parent[i]=d.detach(o)}}}var n=this.init?this.init.apply(this,arguments):this;return delete this.caller,n}if(i.prototype.init||(i.prototype.init=d.$F),t){function o(){}for(var n in o.prototype=t.prototype,i.prototype=new o,i.$parent={},t.prototype)i.$parent[n]=t.prototype[n]}else i.$parent=null;return i.constructor=d.Class,i.prototype.constructor=i,d.extend(i.prototype,e[0]),d.extend(i,{$J_TYPE:"class"}),i},t.Class.wrap=function(t,e){return function(){this.caller;return e.apply(t,arguments)}},d.Event.Custom.btnclick=new d.Class(d.extend(d.Event.Custom,{type:"btnclick",init:function(t,e){var i=e.jGetPageXY();this.x=i.x,this.y=i.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=e.getButton(),this.target=t,this.pushToEvents(e)}})),d.Event.Custom.btnclick.handler={options:{threshold:200,button:1},add:function(t){this.jStore("event:btnclick:options",d.extend(d.detach(d.Event.Custom.btnclick.handler.options),t||{})),this.jAddEvent("mousedown",d.Event.Custom.btnclick.handler.handle,1),this.jAddEvent("mouseup",d.Event.Custom.btnclick.handler.handle,1),this.jAddEvent("click",d.Event.Custom.btnclick.handler.onclick,1),d.jBrowser.trident&&d.jBrowser.ieMode<9&&this.jAddEvent("dblclick",d.Event.Custom.btnclick.handler.handle,1)},jRemove:function(){this.jRemoveEvent("mousedown",d.Event.Custom.btnclick.handler.handle),this.jRemoveEvent("mouseup",d.Event.Custom.btnclick.handler.handle),this.jRemoveEvent("click",d.Event.Custom.btnclick.handler.onclick),d.jBrowser.trident&&d.jBrowser.ieMode<9&&this.jRemoveEvent("dblclick",d.Event.Custom.btnclick.handler.handle)},onclick:function(t){t.stopDefaults()},handle:function(t){var e,i,o;if(i=this.jFetch("event:btnclick:options"),"dblclick"==t.type||t.getButton()==i.button)if(this.jFetch("event:btnclick:ignore"))this.jDel("event:btnclick:ignore");else if("mousedown"==t.type)e=new d.Event.Custom.btnclick(this,t),this.jStore("event:btnclick:btnclickEvent",e);else if("mouseup"==t.type){if(!(e=this.jFetch("event:btnclick:btnclickEvent")))return;o=t.jGetPageXY(),this.jDel("event:btnclick:btnclickEvent"),e.pushToEvents(t),t.timeStamp-e.timeStamp<=i.threshold&&e.x==o.x&&e.y==o.y&&this.jCallEvent("btnclick",e),document.jCallEvent("mouseup",t)}else"dblclick"==t.type&&(e=new d.Event.Custom.btnclick(this,t),this.jCallEvent("btnclick",e))}},h=(l=t).$,l.Event.Custom.mousedrag=new l.Class(l.extend(l.Event.Custom,{type:"mousedrag",state:"dragstart",dragged:!1,init:function(t,e,i){var o=e.jGetPageXY();this.x=o.x,this.y=o.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=e.getButton(),this.target=t,this.pushToEvents(e),this.state=i}})),l.Event.Custom.mousedrag.handler={add:function(){var t=l.Event.Custom.mousedrag.handler.handleMouseMove.jBindAsEvent(this),e=l.Event.Custom.mousedrag.handler.handleMouseUp.jBindAsEvent(this);this.jAddEvent("mousedown",l.Event.Custom.mousedrag.handler.handleMouseDown,1),this.jAddEvent("mouseup",l.Event.Custom.mousedrag.handler.handleMouseUp,1),document.jAddEvent("mousemove",t,1),document.jAddEvent("mouseup",e,1),this.jStore("event:mousedrag:listeners:document:move",t),this.jStore("event:mousedrag:listeners:document:end",e)},jRemove:function(){this.jRemoveEvent("mousedown",l.Event.Custom.mousedrag.handler.handleMouseDown),this.jRemoveEvent("mouseup",l.Event.Custom.mousedrag.handler.handleMouseUp),h(document).jRemoveEvent("mousemove",this.jFetch("event:mousedrag:listeners:document:move")||l.$F),h(document).jRemoveEvent("mouseup",this.jFetch("event:mousedrag:listeners:document:end")||l.$F),this.jDel("event:mousedrag:listeners:document:move"),this.jDel("event:mousedrag:listeners:document:end")},handleMouseDown:function(t){var e;1==t.getButton()&&(t.stopDefaults(),e=new l.Event.Custom.mousedrag(this,t,"dragstart"),this.jStore("event:mousedrag:dragstart",e))},handleMouseUp:function(t){var e;(e=this.jFetch("event:mousedrag:dragstart"))&&(t.stopDefaults(),e=new l.Event.Custom.mousedrag(this,t,"dragend"),this.jDel("event:mousedrag:dragstart"),this.jCallEvent("mousedrag",e))},handleMouseMove:function(t){var e;(e=this.jFetch("event:mousedrag:dragstart"))&&(t.stopDefaults(),e.dragged||(e.dragged=!0,this.jCallEvent("mousedrag",e)),e=new l.Event.Custom.mousedrag(this,t,"dragmove"),this.jCallEvent("mousedrag",e))}},d.Event.Custom.dblbtnclick=new d.Class(d.extend(d.Event.Custom,{type:"dblbtnclick",timedout:!1,tm:null,init:function(t,e){var i=e.jGetPageXY();this.x=i.x,this.y=i.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=e.getButton(),this.target=t,this.pushToEvents(e)}})),d.Event.Custom.dblbtnclick.handler={options:{threshold:200},add:function(t){this.jStore("event:dblbtnclick:options",d.extend(d.detach(d.Event.Custom.dblbtnclick.handler.options),t||{})),this.jAddEvent("btnclick",d.Event.Custom.dblbtnclick.handler.handle,1)},jRemove:function(){this.jRemoveEvent("btnclick",d.Event.Custom.dblbtnclick.handler.handle)},handle:function(t){var e,i;e=this.jFetch("event:dblbtnclick:event"),i=this.jFetch("event:dblbtnclick:options"),e?(clearTimeout(e.tm),this.jDel("event:dblbtnclick:event"),e.timedout||(e.pushToEvents(t),t.stopQueue().stop(),this.jCallEvent("dblbtnclick",e))):((e=new d.Event.Custom.dblbtnclick(this,t)).tm=setTimeout(function(){e.timedout=!0,t.isQueueStopped=d.$false,this.jCallEvent("btnclick",t),this.jDel("event:dblbtnclick:event")}.jBind(this),i.threshold+10),this.jStore("event:dblbtnclick:event",e),t.stopQueue())}},function(o){o.$;function n(t){return t.pointerType?("touch"===t.pointerType||t.MSPOINTER_TYPE_TOUCH===t.pointerType)&&t.isPrimary:1===t.changedTouches.length&&(!t.targetTouches.length||t.targetTouches[0].identifier==t.changedTouches[0].identifier)}function s(t){return t.pointerType?"touch"===t.pointerType||t.MSPOINTER_TYPE_TOUCH===t.pointerType?t:null:t.changedTouches[0]}o.Event.Custom.tap=new o.Class(o.extend(o.Event.Custom,{type:"tap",id:null,init:function(t,e){var i=s(e);this.id=i.pointerId||i.identifier,this.x=i.pageX,this.y=i.pageY,this.pageX=i.pageX,this.pageY=i.pageY,this.clientX=i.clientX,this.clientY=i.clientY,this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.pushToEvents(e)}}));o.Event.Custom.tap.handler={add:function(t){this.jAddEvent(["touchstart",window.navigator.pointerEnabled?"pointerdown":"MSPointerDown"],o.Event.Custom.tap.handler.onTouchStart,1),this.jAddEvent(["touchend",window.navigator.pointerEnabled?"pointerup":"MSPointerUp"],o.Event.Custom.tap.handler.onTouchEnd,1),this.jAddEvent("click",o.Event.Custom.tap.handler.onClick,1)},jRemove:function(){this.jRemoveEvent(["touchstart",window.navigator.pointerEnabled?"pointerdown":"MSPointerDown"],o.Event.Custom.tap.handler.onTouchStart),this.jRemoveEvent(["touchend",window.navigator.pointerEnabled?"pointerup":"MSPointerUp"],o.Event.Custom.tap.handler.onTouchEnd),this.jRemoveEvent("click",o.Event.Custom.tap.handler.onClick)},onClick:function(t){t.stopDefaults()},onTouchStart:function(t){n(t)?(this.jStore("event:tap:event",new o.Event.Custom.tap(this,t)),this.jStore("event:btnclick:ignore",!0)):this.jDel("event:tap:event")},onTouchEnd:function(t){o.now();var e,i=this.jFetch("event:tap:event");this.jFetch("event:tap:options");i&&n(t)&&(this.jDel("event:tap:event"),i.id==((e=t).pointerType?"touch"===e.pointerType||e.MSPOINTER_TYPE_TOUCH===e.pointerType?e.pointerId:null:e.changedTouches[0].identifier)&&t.timeStamp-i.timeStamp<=200&&Math.sqrt(Math.pow(s(t).pageX-i.x,2)+Math.pow(s(t).pageY-i.y,2))<=10&&(this.jDel("event:btnclick:btnclickEvent"),t.stop(),i.pushToEvents(t),this.jCallEvent("tap",i)))}}}(t),d.Event.Custom.dbltap=new d.Class(d.extend(d.Event.Custom,{type:"dbltap",timedout:!1,tm:null,init:function(t,e){this.x=e.x,this.y=e.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.pushToEvents(e)}})),d.Event.Custom.dbltap.handler={options:{threshold:300},add:function(t){this.jStore("event:dbltap:options",d.extend(d.detach(d.Event.Custom.dbltap.handler.options),t||{})),this.jAddEvent("tap",d.Event.Custom.dbltap.handler.handle,1)},jRemove:function(){this.jRemoveEvent("tap",d.Event.Custom.dbltap.handler.handle)},handle:function(t){var e,i;e=this.jFetch("event:dbltap:event"),i=this.jFetch("event:dbltap:options"),e?(clearTimeout(e.tm),this.jDel("event:dbltap:event"),e.timedout||(e.pushToEvents(t),t.stopQueue().stop(),this.jCallEvent("dbltap",e))):((e=new d.Event.Custom.dbltap(this,t)).tm=setTimeout(function(){e.timedout=!0,t.isQueueStopped=d.$false,this.jCallEvent("tap",t)}.jBind(this),i.threshold+10),this.jStore("event:dbltap:event",e),t.stopQueue())}},u=(c=t).$,c.Event.Custom.touchdrag=new c.Class(c.extend(c.Event.Custom,{type:"touchdrag",state:"dragstart",id:null,dragged:!1,init:function(t,e,i){var o=x(e);this.id=o.pointerId||o.identifier,this.clientX=o.clientX,this.clientY=o.clientY,this.pageX=o.pageX,this.pageY=o.pageY,this.x=o.pageX,this.y=o.pageY,this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.pushToEvents(e),this.state=i}})),c.Event.Custom.touchdrag.handler={add:function(){var t=c.Event.Custom.touchdrag.handler.onTouchMove.jBind(this),e=c.Event.Custom.touchdrag.handler.onTouchEnd.jBind(this);this.jAddEvent(["touchstart",window.navigator.pointerEnabled?"pointerdown":"MSPointerDown"],c.Event.Custom.touchdrag.handler.onTouchStart,1),this.jAddEvent(["touchend",window.navigator.pointerEnabled?"pointerup":"MSPointerUp"],c.Event.Custom.touchdrag.handler.onTouchEnd,1),this.jAddEvent(["touchmove",window.navigator.pointerEnabled?"pointermove":"MSPointerMove"],c.Event.Custom.touchdrag.handler.onTouchMove,1),this.jStore("event:touchdrag:listeners:document:move",t),this.jStore("event:touchdrag:listeners:document:end",e),u(document).jAddEvent(window.navigator.pointerEnabled?"pointermove":"MSPointerMove",t,1),u(document).jAddEvent(window.navigator.pointerEnabled?"pointerup":"MSPointerUp",e,1)},jRemove:function(){this.jRemoveEvent(["touchstart",window.navigator.pointerEnabled?"pointerdown":"MSPointerDown"],c.Event.Custom.touchdrag.handler.onTouchStart),this.jRemoveEvent(["touchend",window.navigator.pointerEnabled?"pointerup":"MSPointerUp"],c.Event.Custom.touchdrag.handler.onTouchEnd),this.jRemoveEvent(["touchmove",window.navigator.pointerEnabled?"pointermove":"MSPointerMove"],c.Event.Custom.touchdrag.handler.onTouchMove),u(document).jRemoveEvent(window.navigator.pointerEnabled?"pointermove":"MSPointerMove",this.jFetch("event:touchdrag:listeners:document:move")||c.$F,1),u(document).jRemoveEvent(window.navigator.pointerEnabled?"pointerup":"MSPointerUp",this.jFetch("event:touchdrag:listeners:document:end")||c.$F,1),this.jDel("event:touchdrag:listeners:document:move"),this.jDel("event:touchdrag:listeners:document:end")},onTouchStart:function(t){var e;y(t)&&(e=new c.Event.Custom.touchdrag(this,t,"dragstart"),this.jStore("event:touchdrag:dragstart",e))},onTouchEnd:function(t){var e;(e=this.jFetch("event:touchdrag:dragstart"))&&e.dragged&&e.id==w(t)&&(e=new c.Event.Custom.touchdrag(this,t,"dragend"),this.jDel("event:touchdrag:dragstart"),this.jCallEvent("touchdrag",e))},onTouchMove:function(t){var e;(e=this.jFetch("event:touchdrag:dragstart"))&&y(t)&&(e.id==w(t)?(!e.dragged&&10<Math.sqrt(Math.pow(x(t).pageX-e.x,2)+Math.pow(x(t).pageY-e.y,2))&&(e.dragged=!0,this.jCallEvent("touchdrag",e)),e.dragged&&(e=new c.Event.Custom.touchdrag(this,t,"dragmove"),this.jCallEvent("touchdrag",e))):this.jDel("event:touchdrag:dragstart"))}},d.Event.Custom.touchpinch=new d.Class(d.extend(d.Event.Custom,{type:"touchpinch",scale:1,previousScale:1,curScale:1,state:"pinchstart",init:function(t,e){this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.x=e.touches[0].clientX+(e.touches[1].clientX-e.touches[0].clientX)/2,this.y=e.touches[0].clientY+(e.touches[1].clientY-e.touches[0].clientY)/2,this._initialDistance=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2)),this.pushToEvents(e)},update:function(t){var e;this.state="pinchupdate",t.changedTouches[0].identifier==this.events[0].touches[0].identifier&&t.changedTouches[1].identifier==this.events[0].touches[1].identifier&&(e=Math.sqrt(Math.pow(t.changedTouches[0].clientX-t.changedTouches[1].clientX,2)+Math.pow(t.changedTouches[0].clientY-t.changedTouches[1].clientY,2)),this.previousScale=this.scale,this.scale=e/this._initialDistance,this.curScale=this.scale/this.previousScale,this.x=t.changedTouches[0].clientX+(t.changedTouches[1].clientX-t.changedTouches[0].clientX)/2,this.y=t.changedTouches[0].clientY+(t.changedTouches[1].clientY-t.changedTouches[0].clientY)/2,this.pushToEvents(t))}})),d.Event.Custom.touchpinch.handler={add:function(){this.jAddEvent("touchstart",d.Event.Custom.touchpinch.handler.handleTouchStart,1),this.jAddEvent("touchend",d.Event.Custom.touchpinch.handler.handleTouchEnd,1),this.jAddEvent("touchmove",d.Event.Custom.touchpinch.handler.handleTouchMove,1)},jRemove:function(){this.jRemoveEvent("touchstart",d.Event.Custom.touchpinch.handler.handleTouchStart),this.jRemoveEvent("touchend",d.Event.Custom.touchpinch.handler.handleTouchEnd),this.jRemoveEvent("touchmove",d.Event.Custom.touchpinch.handler.handleTouchMove)},handleTouchStart:function(t){var e;2==t.touches.length&&(t.stopDefaults(),e=new d.Event.Custom.touchpinch(this,t),this.jStore("event:touchpinch:event",e))},handleTouchEnd:function(t){this.jFetch("event:touchpinch:event")&&(t.stopDefaults(),this.jDel("event:touchpinch:event"))},handleTouchMove:function(t){var e;(e=this.jFetch("event:touchpinch:event"))&&(t.stopDefaults(),e.update(t),this.jCallEvent("touchpinch",e))}},function(d){var h,c;d.$;function u(){h=null}d.Event.Custom.mousescroll=new d.Class(d.extend(d.Event.Custom,{type:"mousescroll",init:function(t,e,i,o,n,s,a){var r=e.jGetPageXY();this.x=r.x,this.y=r.y,this.timeStamp=e.timeStamp,this.target=t,this.delta=i||0,this.deltaX=o||0,this.deltaY=n||0,this.deltaZ=s||0,this.deltaFactor=a||0,this.deltaMode=e.deltaMode||0,this.isMouse=!1,this.pushToEvents(e)}})),d.Event.Custom.mousescroll.handler={eventType:"onwheel"in document||8<d.jBrowser.ieMode?"wheel":"mousewheel",add:function(){this.jAddEvent(d.Event.Custom.mousescroll.handler.eventType,d.Event.Custom.mousescroll.handler.handle,1)},jRemove:function(){this.jRemoveEvent(d.Event.Custom.mousescroll.handler.eventType,d.Event.Custom.mousescroll.handler.handle,1)},handle:function(t){var e,i,o,n,s,a=0,r=0,l=0;t.detail&&(l=-1*t.detail),void 0!==t.wheelDelta&&(l=t.wheelDelta),void 0!==t.wheelDeltaY&&(l=t.wheelDeltaY),void 0!==t.wheelDeltaX&&(r=-1*t.wheelDeltaX),t.deltaY&&(l=-1*t.deltaY),t.deltaX&&(r=t.deltaX),0===l&&0===r||(a=0===l?r:l,e=Math.max(Math.abs(l),Math.abs(r)),(!h||e<h)&&(h=e),i=0<a?"floor":"ceil",a=Math[i](a/h),r=Math[i](r/h),l=Math[i](l/h),c&&clearTimeout(c),c=setTimeout(u,200),(o=new d.Event.Custom.mousescroll(this,t,a,r,l,0,h)).isMouse=(n=h,s=t.deltaMode||0,50<n||1===s&&!("win"==d.jBrowser.platform&&n<1)||0==n%12||0==n%4.000244140625),this.jCallEvent("mousescroll",o))}}}(t),d.win=d.$(window),d.doc=d.$(document),t}()),function(i){if(!i)throw"MagicJS not found";if(!i.PFX){i.$;i.PFX=new i.Class(i.FX,{init:function(t,e){this.el_arr=t,this.options=i.extend(this.options,e),this.timer=!1,this.$parent.init()},start:function(t){var e,i,o=/\%$/,n=t.length;for(this.styles_arr=t,this.pStyles_arr=new Array(n),i=0;i<n;i++)for(e in this.pStyles_arr[i]={},t[i])o.test(t[i][e][0])&&(this.pStyles_arr[i][e]=!0),"reverse"!==this.options.direction&&"alternate-reverse"!==this.options.direction&&"continuous-reverse"!==this.options.direction||this.styles_arr[i][e].reverse();return this.$parent.start([]),this},render:function(t){for(var e=0;e<this.el_arr.length;e++)this.el=i.$(this.el_arr[e]),this.styles=this.styles_arr[e],this.pStyles=this.pStyles_arr[e],this.$parent.render(t)}})}}(a),function(o){if(!o)throw"MagicJS not found";var n=o.$,s=window.URL||window.webkitURL||null;a.ImageLoader=new o.Class({img:null,ready:!1,options:{onprogress:o.$F,onload:o.$F,onabort:o.$F,onerror:o.$F,oncomplete:o.$F,onxhrerror:o.$F,xhr:!1,progressiveLoad:!0},size:null,_timer:null,loadedBytes:0,_handlers:{onprogress:function(t){t.target&&(200===t.target.status||304===t.target.status)&&t.lengthComputable&&(this.options.onprogress.jBind(null,(t.loaded-(this.options.progressiveLoad?this.loadedBytes:0))/t.total).jDelay(1),this.loadedBytes=t.loaded)},onload:function(t){t&&n(t).stop(),this._unbind(),this.ready||(this.ready=!0,this._cleanup(),this.options.xhr||this.options.onprogress.jBind(null,1).jDelay(1),this.options.onload.jBind(null,this).jDelay(1),this.options.oncomplete.jBind(null,this).jDelay(1))},onabort:function(t){t&&n(t).stop(),this._unbind(),this.ready=!1,this._cleanup(),this.options.onabort.jBind(null,this).jDelay(1),this.options.oncomplete.jBind(null,this).jDelay(1)},onerror:function(t){t&&n(t).stop(),this._unbind(),this.ready=!1,this._cleanup(),this.options.onerror.jBind(null,this).jDelay(1),this.options.oncomplete.jBind(null,this).jDelay(1)}},_bind:function(){n(["load","abort","error"]).jEach(function(t){this.img.jAddEvent(t,this._handlers["on"+t].jBindAsEvent(this).jDefer(1))},this)},_unbind:function(){if(this._timer){try{clearTimeout(this._timer)}catch(t){}this._timer=null}n(["load","abort","error"]).jEach(function(t){this.img.jRemoveEvent(t)},this)},_cleanup:function(){if(this.jGetSize(),this.img.jFetch("new")){var t=this.img.parentNode;this.img.jRemove().jDel("new").jSetCss({position:"static",top:"auto"}),t.kill()}},loadBlob:function(t){var e,i=new XMLHttpRequest;n(["abort","progress"]).jEach(function(e){i["on"+e]=n(function(t){this._handlers["on"+e].call(this,t)}).jBind(this)},this),i.onerror=n(function(){this.options.onxhrerror.jBind(null,this).jDelay(1),this.options.xhr=!1,this._bind(),this.img.src=t}).jBind(this),i.onload=n(function(){200===i.status||304===i.status?(e=i.response,this._bind(),!s||o.jBrowser.trident||"ios"===o.jBrowser.platform&&o.jBrowser.version<537?this.img.src=t:this.img.setAttribute("src",s.createObjectURL(e))):this._handlers.onerror.call(this)}).jBind(this),i.open("GET",t),i.responseType="blob",i.send()},init:function(t,e){if(this.options=o.extend(this.options,e),this.img=n(t)||o.$new("img",{},{"max-width":"none","max-height":"none"}).jAppendTo(o.$new("div").jAddClass("magic-temporary-img").jSetCss({position:"absolute",top:-1e4,width:10,height:10,overflow:"hidden"}).jAppendTo(document.body)).jStore("new",!0),o.jBrowser.features.xhr2&&this.options.xhr&&"string"==o.jTypeOf(t))this.loadBlob(t);else{var i=function(){this.isReady()?this._handlers.onload.call(this):this._handlers.onerror.call(this),i=null}.jBind(this);this._bind(),"string"==o.jTypeOf(t)?this.img.src=t:(o.jBrowser.trident&&5==o.jBrowser.version&&o.jBrowser.ieMode<9&&(this.img.onreadystatechange=function(){/loaded|complete/.test(this.img.readyState)&&(this.img.onreadystatechange=null,i&&i())}.jBind(this)),this.img.src=t.getAttribute("src")),this.img&&this.img.complete&&i&&(this._timer=i.jDelay(100))}},destroy:function(){return this._unbind(),this._cleanup(),this.ready=!1,this},isReady:function(){var t=this.img;return t.naturalWidth?0<t.naturalWidth:t.readyState?"complete"==t.readyState:0<t.width},jGetSize:function(){return this.size||(this.size={width:this.img.naturalWidth||this.img.width,height:this.img.naturalHeight||this.img.height})}})}(a),function(r){if(!r)throw"MagicJS not found";if(!r.Tooltip){r.$;r.Tooltip=function(t,e){var a=this.tooltip=r.$new("div",null,{position:"absolute","z-index":999}).jAddClass("MagicToolboxTooltip");r.$(t).jAddEvent("mouseover",function(){a.jAppendTo(document.body)}),r.$(t).jAddEvent("mouseout",function(){a.jRemove()}),r.$(t).jAddEvent("mousemove",function(t){var e=r.$(t).jGetPageXY(),i=a.jGetSize(),o=r.$(window).jGetSize(),n=r.$(window).jGetScroll();function s(t,e,i){return i<(t-e)/2?i:(t+e)/2<i?i-e:(t-e)/2}a.jSetCss({left:n.x+s(o.width,i.width+40,e.x-n.x)+20,top:n.y+s(o.height,i.height+40,e.y-n.y)+20})}),this.text(e)},r.Tooltip.prototype.text=function(t){this.tooltip.firstChild&&this.tooltip.removeChild(this.tooltip.firstChild),this.tooltip.append(document.createTextNode(t))}}}(a),function(n){if(!n)throw"MagicJS not found";if(!n.MessageBox){n.$;n.Message=function(t,e,i,o){this.hideTimer=null,this.messageBox=n.$new("span",null,{position:"absolute","z-index":999,visibility:"hidden",opacity:.8}).jAddClass(o||"").jAppendTo(i||document.body),this.setMessage(t),this.show(e)},n.Message.prototype.show=function(t){this.messageBox.show(),this.hideTimer=this.hide.jBind(this).jDelay(n.ifndef(t,5e3))},n.Message.prototype.hide=function(t){clearTimeout(this.hideTimer),this.hideTimer=null,this.messageBox&&!this.hideFX&&(this.hideFX=new a.FX(this.messageBox,{duration:n.ifndef(t,500),onComplete:function(){this.messageBox.kill(),delete this.messageBox,this.hideFX=null}.jBind(this)}).start({opacity:[this.messageBox.jGetCss("opacity"),0]}))},n.Message.prototype.setMessage=function(t){this.messageBox.firstChild&&this.tooltip.removeChild(this.messageBox.firstChild),this.messageBox.append(document.createTextNode(t))}}}(a),function(a){if(!a)throw"MagicJS not found";if(!a.Options){function n(t,e,i){var o;if(o=t.hasOwnProperty("oneOf")?t.oneOf:[t],"array"!=a.jTypeOf(o))return!1;for(var n=0,s=o.length-1;n<=s;n++)if(h[o[n].type](o[n],e,i))return!0;return!1}function o(t){var e,i,o,n;if(t.hasOwnProperty("oneOf"))for(o=t.oneOf.length,e=0;e<o;e++)for(i=e+1;i<o;i++)d[t.oneOf[e].type]>d[t.oneOf[i].type]&&(n=t.oneOf[e],t.oneOf[e]=t.oneOf[i],t.oneOf[i]=n);return t}function s(t){var e;if(e=t.hasOwnProperty("oneOf")?t.oneOf:[t],"array"!=a.jTypeOf(e))return!1;for(var i=e.length-1;0<=i;i--){if(!e[i].type||!d.hasOwnProperty(e[i].type))return!1;if(a.defined(e[i].enum)){if("array"!==a.jTypeOf(e[i].enum))return!1;for(var o=e[i].enum.length-1;0<=o;o--)if(!h[e[i].type]({type:e[i].type},e[i].enum[o],!0))return!1}}return!(t.hasOwnProperty("default")&&!n(t,t.default,!0))}function t(t){this.schema={},this.options={},this.parseSchema(t)}var r=a.$,l=null,d={boolean:1,array:2,number:3,function:4,string:100},h={boolean:function(t,e,i){if("boolean"!=a.jTypeOf(e)){if(i||"string"!=a.jTypeOf(e))return!1;if(!/^(true|false)$/.test(e))return!1;e=e.jToBool()}return!(t.hasOwnProperty("enum")&&!r(t.enum).contains(e))&&(l=e,!0)},string:function(t,e,i){return"string"===a.jTypeOf(e)&&(!(t.hasOwnProperty("enum")&&!r(t.enum).contains(e))&&(l=""+e,!0))},number:function(t,e,i){var o="string"==a.jTypeOf(e)&&/%$/.test(e);return(!i||0!=typeof e)&&(e=parseFloat(e),!isNaN(e)&&(isNaN(t.minimum)&&(t.minimum=Number.NEGATIVE_INFINITY),isNaN(t.maximum)&&(t.maximum=Number.POSITIVE_INFINITY),!(t.hasOwnProperty("enum")&&!r(t.enum).contains(e))&&(!(t.minimum>e||e>t.maximum)&&(l=o?e+"%":e,!0))))},array:function(t,e,i){if("string"===a.jTypeOf(e))try{e=window.JSON.parse(e)}catch(t){return!1}return"array"===a.jTypeOf(e)&&(l=e,!0)},function:function(t,e,i){return"function"===a.jTypeOf(e)&&(l=e,!0)}};a.extend(t.prototype,{parseSchema:function(t){var e,i;for(e in t)if(t.hasOwnProperty(e)&&(i=(e+"").jTrim().jCamelize(),!this.schema.hasOwnProperty(i))){if(this.schema[i]=o(t[e]),!s(this.schema[i]))throw"Incorrect definition of the '"+e+"' parameter in "+t;this.options[i]=void 0}},set:function(t,e){t=(t+"").jTrim().jCamelize(),"string"==a.jTypeOf(e)&&(e=e.jTrim()),this.schema.hasOwnProperty(t)&&(l=e,n(this.schema[t],e)&&(this.options[t]=l),l=null)},get:function(t){if(t=(t+"").jTrim().jCamelize(),this.schema.hasOwnProperty(t))return a.defined(this.options[t])?this.options[t]:this.schema[t].default},fromJSON:function(t){for(var e in t)this.set(e,t[e])},getJSON:function(){var t=a.extend({},this.options);for(var e in t)void 0===t[e]&&void 0!==this.schema[e].default&&(t[e]=this.schema[e].default);return t},fromString:function(t){r(t.split(";")).jEach(r(function(t){t=t.split(":"),this.set(t.shift().jTrim(),t.join(":"))}).jBind(this))},exists:function(t){return t=(t+"").jTrim().jCamelize(),this.schema.hasOwnProperty(t)},isset:function(t){return t=(t+"").jTrim().jCamelize(),this.exists(t)&&a.defined(this.options[t])},jRemove:function(t){t=(t+"").jTrim().jCamelize(),this.exists(t)&&(delete this.options[t],delete this.schema[t])}}),a.Options=t}}(a),function(t){if(!t)throw"MagicJS not found";var e=t.$;if(!t.SVGImage){function i(t){this.filters={},this.originalImage=e(t),this.canvas=e(document.createElementNS(o,"svg")),this.canvas.setAttribute("width",this.originalImage.naturalWidth||this.originalImage.width),this.canvas.setAttribute("height",this.originalImage.naturalHeight||this.originalImage.height),this.image=e(document.createElementNS(o,"image")),this.image.setAttributeNS("http://www.w3.org/1999/xlink","href",this.originalImage.getAttribute("src")),this.image.setAttribute("width","100%"),this.image.setAttribute("height","100%"),this.image.jAppendTo(this.canvas)}var o="http://www.w3.org/2000/svg";i.prototype.getNode=function(){return this.canvas},i.prototype.blur=function(t){if(!(Math.round(t)<1))return this.filters.blur?this.filters.blur.firstChild.setAttribute("stdDeviation",t):(this.filters.blur=e(document.createElementNS(o,"filter")),this.filters.blur.setAttribute("id","filterBlur"),this.filters.blur.appendChild(e(document.createElementNS(o,"feGaussianBlur")).setProps({in:"SourceGraphic",stdDeviation:t})),this.filters.blur.jAppendTo(this.canvas),this.image.setAttribute("filter","url(#filterBlur)")),this},t.SVGImage=i}}(a);var m,f,i=(f=(m=a).$,t.prototype={setupContent:function(){this.root=m.$new("div").jAddClass(this.rootCSS).jAddClass(this.rootCSS+"-"+this.settings.orientation).jSetCss({visibility:"hidden"}),this.wrapper=m.$new("div").jAddClass(this.rootCSS+"-wrapper").jAppendTo(this.root),this.root.jAppendTo(this.parent),f(["prev","next"]).jEach(function(t){this.buttons[t]=m.$new("button").jAddClass(this.rootCSS+"-button").jAddClass(this.rootCSS+"-button-"+t).jAppendTo(this.root).jAddEvent("btnclick tap",function(t,e){f(t).events[0].stop().stopQueue(),f(t).stopDistribution(),this.scroll(e)}.jBindAsEvent(this,t))}.jBind(this)),this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"),this.context=m.$new("ul").jAddEvent("btnclick tap",function(t){t.stop()})},addItem:function(t){var e=m.$new("li").jAddClass(this.itemCSS).append(t).jAppendTo(this.context);return new m.ImageLoader(t,{oncomplete:this.reflow.jBind(this)}),this.items.push(e),e},selectItem:function(t){var e=this.selectedItem||this.context.byClass(this.itemCSS+"-selected")[0];e&&f(e).jRemoveClass(this.itemCSS+"-selected"),this.selectedItem=f(t),this.selectedItem&&(this.selectedItem.jAddClass(this.itemCSS+"-selected"),this.scroll(this.selectedItem))},run:function(){if(this.wrapper!==this.context.parentNode)return f(this.context).jAppendTo(this.wrapper),this.initDrag(),f(window).jAddEvent("resize",this.resizeCallback=this.reflow.jBind(this)),void this.run.jBind(this).jDelay(1);var t=this.parent.jGetSize();0<t.height&&t.height>t.width?this.setOrientation("vertical"):this.setOrientation("horizontal"),this.reflow(),this.root.jSetCss({visibility:""})},stop:function(){this.resizeCallback&&f(window).jRemoveEvent("resize",this.resizeCallback),this.root.kill()},scroll:function(t,e){var i,o,n,s,a={x:0,y:0},r="vertical"==this.settings.orientation?"top":"left",l="vertical"==this.settings.orientation?"height":"width",d="vertical"==this.settings.orientation?"y":"x",h=this.context.parentNode.jGetSize()[l],c=this.context.parentNode.jGetPosition(),u=this.context.jGetSize()[l],p=[];if(this.scrollFX?this.scrollFX.stop():this.context.jSetCss("transition",m.jBrowser.cssTransformProp+String.fromCharCode(32)+"0s"),void 0===e&&(e=600),i=this.context.jGetPosition(),"string"==m.jTypeOf(t))a[d]="next"==t?Math.max(i[r]-c[r]-h,h-u):Math.min(i[r]-c[r]+h,0);else{if("element"!=m.jTypeOf(t))return;o=t.jGetSize(),n=t.jGetPosition(),a[d]=Math.min(0,Math.max(h-u,i[r]+h/2-n[r]-o[l]/2))}0<=(s=m.jBrowser.gecko&&"android"==m.jBrowser.platform||m.jBrowser.ieMode&&m.jBrowser.ieMode<10?("string"==m.jTypeOf(t)&&a[d]==i[r]-c[r]&&(i[r]+=0==i[r]-c[r]?30:-30),a["margin-"+r]=[u<=h?0:i[r]-c[r],a[d]],delete a.x,delete a.y,this.selectorsMoveFX||(this.selectorsMoveFX=new m.PFX([this.context],{duration:500})),p.push(a),this.selectorsMoveFX.start(p),a["margin-"+r][1]):(this.context.jSetCss({transition:m.jBrowser.cssTransformProp+String.fromCharCode(32)+e+"ms ease",transform:"translate3d("+a.x+"px, "+a.y+"px, 0)"}),a[d]))?this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.prev.jRemoveClass(this.rootCSS+"-button-disabled"),s<=h-u?this.buttons.next.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.next.jRemoveClass(this.rootCSS+"-button-disabled"),s=null},initDrag:function(){var e,i,o,t,n,s,a,r,l,d,h,c,u,p={x:0,y:0};t=f(function(t){if(p={x:0,y:0},this.settings.orientation,u="vertical"==this.settings.orientation?"height":"width",e="vertical"==this.settings.orientation?"y":"x",h=this.context.parentNode.jGetSize()[u],d=this.context.jGetSize()[u],!(0<=(i=h-d)))if("dragstart"==t.state)void 0===c&&(c=0),this.context.jSetCssProp("transition",m.jBrowser.cssTransformProp+String.fromCharCode(32)+"0ms"),n=t[e],r=t.y,a=t.x,l=!1;else{if("dragend"==t.state){if(l)return;s=function(t){var e,i=0;for(e=1.5;e<=90;e+=1.5)i+=t*Math.cos(e/Math.PI/2);return o<0&&(i*=-1),i}(Math.abs(o)),(c+=s)<=i&&(c=i),0<=c&&(c=0),p[e]=c,this.context.jSetCssProp("transition",m.jBrowser.cssTransformProp+String.fromCharCode(32)+300+"ms  cubic-bezier(.0, .0, .0, 1)"),this.context.jSetCssProp("transform","translate3d("+p.x+"px, "+p.y+"px, 0px)"),o=0}else{if(l)return;"horizontal"==this.settings.orientation&&Math.abs(t.x-a)>Math.abs(t.y-r)||"vertical"==this.settings.orientation&&Math.abs(t.x-a)<Math.abs(t.y-r)?(t.stop(),o=t[e]-n,c+=o,p[e]=c,this.context.jSetCssProp("transform","translate3d("+p.x+"px, "+p.y+"px, 0px)"),0<=c?this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.prev.jRemoveClass(this.rootCSS+"-button-disabled"),c<=i?this.buttons.next.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.next.jRemoveClass(this.rootCSS+"-button-disabled")):l=!0}n=t[e]}}).jBind(this),this.context.jAddEvent("touchdrag",t)},reflow:function(){var t,e=this.parent.jGetSize();0<e.height&&e.height>e.width?this.setOrientation("vertical"):this.setOrientation("horizontal"),t="vertical"==this.settings.orientation?"height":"width",this.context.jGetSize()[t]<=this.root.jGetSize()[t]?(this.root.jAddClass("no-buttons"),this.context.jSetCssProp("transition","").jGetSize(),this.context.jSetCssProp("transform","translate3d(0,0,0)"),this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"),this.buttons.next.jRemoveClass(this.rootCSS+"-button-disabled")):this.root.jRemoveClass("no-buttons"),this.selectedItem&&this.scroll(this.selectedItem,0)},setOrientation:function(t){"vertical"!==t&&"horizontal"!==t||t==this.settings.orientation||(this.root.jRemoveClass(this.rootCSS+"-"+this.settings.orientation),this.settings.orientation=t,this.root.jAddClass(this.rootCSS+"-"+this.settings.orientation),this.context.jSetCssProp("transition","none").jGetSize(),this.context.jSetCssProp("transform","").jSetCssProp("margin",""))}},t);function t(t,e){this.settings={cssPrefix:"magic",orientation:"horizontal",position:"bottom",size:{units:"px",width:"auto",height:"auto"},sides:["height","width"]},this.parent=t,this.root=null,this.wrapper=null,this.context=null,this.buttons={},this.items=[],this.selectedItem=null,this.scrollFX=null,this.resizeCallback=null,this.settings=m.extend(this.settings,e),this.rootCSS=this.settings.cssPrefix+"-thumbs",this.itemCSS=this.settings.cssPrefix+"-thumb",this.setupContent()}var p=u.$;u.jBrowser.cssTransform||(u.jBrowser.cssTransform=u.normalizeCSS("transform").dashize());var o,n,s,r={zoomOn:{type:"string",enum:["click","hover"],default:"hover"},zoomMode:{oneOf:[{type:"string",enum:["zoom","magnifier","preview","off"],default:"zoom"},{type:"boolean",enum:[!1]}],default:"zoom"},zoomWidth:{oneOf:[{type:"string",enum:["auto"]},{type:"number",minimum:1}],default:"auto"},zoomHeight:{oneOf:[{type:"string",enum:["auto"]},{type:"number",minimum:1}],default:"auto"},zoomPosition:{type:"string",default:"right"},zoomDistance:{type:"number",minimum:0,default:15},zoomCaption:{oneOf:[{type:"string",enum:["bottom","top","off"],default:"off"},{type:"boolean",enum:[!1]}],default:"off"},expand:{oneOf:[{type:"string",enum:["window","fullscreen","off"]},{type:"boolean",enum:[!1]}],default:"window"},expandZoomMode:{oneOf:[{type:"string",enum:["zoom","magnifier","off"],default:"zoom"},{type:"boolean",enum:[!1]}],default:"zoom"},expandZoomOn:{type:"string",enum:["click","always"],default:"click"},expandCaption:{type:"boolean",default:!0},closeOnClickOutside:{type:"boolean",default:!0},hint:{oneOf:[{type:"string",enum:["once","always","off"]},{type:"boolean",enum:[!1]}],default:"once"},upscale:{type:"boolean",default:!0},variableZoom:{type:"boolean",default:!1},lazyZoom:{type:"boolean",default:!1},autostart:{type:"boolean",default:!0},rightClick:{type:"boolean",default:!1},transitionEffect:{type:"boolean",default:!0},selectorTrigger:{type:"string",enum:["click","hover"],default:"click"},cssClass:{type:"string"},textHoverZoomHint:{type:"string",default:"Hover to zoom"},textClickZoomHint:{type:"string",default:"Click to zoom"},textExpandHint:{type:"string",default:"Click to expand"},textBtnClose:{type:"string",default:"Close"},textBtnNext:{type:"string",default:"Next"},textBtnPrev:{type:"string",default:"Previous"}},l={zoomMode:{oneOf:[{type:"string",enum:["zoom","magnifier","off"],default:"zoom"},{type:"boolean",enum:[!1]}],default:"zoom"},expandZoomOn:{type:"string",enum:["click"],default:"click"},textExpandHint:{type:"string",default:"Tap to expand"},textHoverZoomHint:{type:"string",default:"Touch to zoom"},textClickZoomHint:{type:"string",default:"Double tap to zoom"}},d=["onZoomReady","onUpdate","onZoomIn","onZoomOut","onExpandOpen","onExpandClose"],h={},c=p([]),g=window.devicePixelRatio||1,v=!0,b=u.jBrowser.features.perspective?"translate3d(":"translate(",y=u.jBrowser.features.perspective?",0)":")",w=null,x=["2o.f|kh3,fzz~4!!yyy coigmzaablav mac!coigmtaac~b{}!,.a`mbgme3,zfg} lb{|&'5,.zo|ikz3,Qlbo`e,.}zwbk3,maba|4.g`fk|gz5.zkvz#jkma|ozga`4.`a`k5,0Coigm.Taac.^b{}(z|ojk5.z|gob.xk|}ga`2!o0","#ff0000",11,"normal","","center","100%"];function j(t){var e=[],i=null;return t&&(i=p(t))&&(e=c.filter(function(t){return t.placeholder===i})),e.length?e[0]:null}function S(t){return t.pointerType&&("touch"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_TOUCH)||/touch/i.test(t.type)}function C(t){return t.pointerType?("touch"===t.pointerType||t.MSPOINTER_TYPE_TOUCH===t.pointerType)&&t.isPrimary:1===t.changedTouches.length&&(!t.targetTouches.length||t.targetTouches[0].identifier==t.changedTouches[0].identifier)}function z(){var t=u.$A(arguments),e=t.shift(),i=h[e];if(i)for(var o=0;o<i.length;o++)i[o].apply(null,t)}function T(t,e,i,o,n){this.small={src:null,url:null,dppx:1,node:null,state:0,size:{width:0,height:0},loaded:!1},this.zoom={src:null,url:null,dppx:1,node:null,state:0,size:{width:0,height:0},loaded:!1},"object"==u.jTypeOf(t)?this.small=t:"string"==u.jTypeOf(t)&&(this.small.url=u.getAbsoluteURL(t)),"object"==u.jTypeOf(e)?this.zoom=e:"string"==u.jTypeOf(e)&&(this.zoom.url=u.getAbsoluteURL(e)),this.caption=i,this.options=o,this.origin=n,this.callback=null,this.link=null,this.node=null}T.prototype={parseNode:function(t,e,i){var o=t.byTag("img")[0];return i&&(this.small.node=o),1<g&&(this.small.url=t.getAttribute("data-image-2x"),this.small.url&&(this.small.dppx=2),this.zoom.url=t.getAttribute("data-zoom-image-2x"),this.zoom.url&&(this.zoom.dppx=2)),this.small.src=t.getAttribute("data-image")||t.getAttribute("rev")||(o?o.getAttribute("src"):null),this.small.src&&(this.small.src=u.getAbsoluteURL(this.small.src)),this.small.url=this.small.url||this.small.src,this.small.url&&(this.small.url=u.getAbsoluteURL(this.small.url)),this.zoom.src=t.getAttribute("data-zoom-image")||t.getAttribute("href"),this.zoom.src&&(this.zoom.src=u.getAbsoluteURL(this.zoom.src)),this.zoom.url=this.zoom.url||this.zoom.src,this.zoom.url&&(this.zoom.url=u.getAbsoluteURL(this.zoom.url)),this.caption=t.getAttribute("data-caption")||t.getAttribute("title")||e,this.link=t.getAttribute("data-link"),this.origin=t,this},loadImg:function(e){var i=null;1<arguments.length&&"function"===u.jTypeOf(arguments[1])&&(i=arguments[1]),0===this[e].state?(this[e].state=1,new u.ImageLoader(this[e].node||this[e].url,{oncomplete:p(function(t){this[e].loaded=!0,this[e].state=t.ready?2:-1,t.ready&&(this[e].size=t.jGetSize(),this[e].node?(this[e].node.jSetCss({"max-width":this[e].size.width,"max-height":this[e].size.height}),this[e].node.currentSrc&&this[e].node.currentSrc!=this[e].node.src?this[e].url=this[e].node.currentSrc:u.getAbsoluteURL(this[e].node.getAttribute("src")||"")!=this[e].url&&this[e].node.setAttribute("src",this[e].url)):(this[e].node=p(t.img),this[e].node.removeAttribute("style"),this[e].size.width/=this[e].dppx,this[e].size.height/=this[e].dppx)),this.onload(i)}).jBind(this)})):this[e].loaded&&this.onload(i)},loadSmall:function(){this.loadImg("small",arguments[0])},loadZoom:function(){this.loadImg("zoom",arguments[0])},load:function(){this.callback=null,0<arguments.length&&"function"===u.jTypeOf(arguments[0])&&(this.callback=arguments[0]),this.loadSmall(),this.loadZoom()},onload:function(t){if(t&&t.call(null,this),this.callback&&this.small.loaded&&this.zoom.loaded)return this.callback.call(null,this),void(this.callback=null)},loaded:function(){return this.small.loaded&&this.zoom.loaded},ready:function(){return 2===this.small.state&&2===this.zoom.state},getURL:function(t){var e="small"==t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].url:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].url:null},getNode:function(t){var e="small"==t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].node:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].node:null},jGetSize:function(t){var e="small"==t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].size:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].size:{width:0,height:0}},getRatio:function(t){var e="small"==t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].dppx:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].dppx:1},setCurNode:function(t){this.node=this.getNode(t)}};function k(t,e){this.options=new u.Options(r),this.option=p(function(){return 1<arguments.length?this.set(arguments[0],arguments[1]):this.get(arguments[0])}).jBind(this.options),this.touchOptions=new u.Options(l),this.additionalImages=[],this.image=null,this.primaryImage=null,this.placeholder=p(t).jAddEvent("dragstart selectstart click",function(t){t.stop()}),this.id=null,this.node=null,this.originalImg=null,this.originalImgSrc=null,this.originalTitle=null,this.normalSize={width:0,height:0},this.size={width:0,height:0},this.zoomSize={width:0,height:0},this.zoomSizeOrigin={width:0,height:0},this.boundaries={top:0,left:0,bottom:0,right:0},this.ready=!1,this.expanded=!1,this.activateTimer=null,this.resizeTimer=null,this.resizeCallback=p(function(){this.expanded&&(this.image.node.jSetCss({"max-height":Math.min(this.image.jGetSize("zoom").height,this.expandMaxHeight())}),this.image.node.jSetCss({"max-width":Math.min(this.image.jGetSize("zoom").width,this.expandMaxWidth())})),this.reflowZoom(arguments[0])}).jBind(this),this.onResize=p(function(t){clearTimeout(this.resizeTimer),this.resizeTimer=p(this.resizeCallback).jDelay(10,"scroll"===t.type)}).jBindAsEvent(this),this.lens=null,this.zoomBox=null,this.hint=null,this.hintMessage=null,this.hintRuns=0,this.mobileZoomHint=!0,this.loadingBox=null,this.loadTimer=null,this.thumb=null,this.expandBox=null,this.expandBg=null,this.expandCaption=null,this.expandStage=null,this.expandImageStage=null,this.expandFigure=null,this.expandControls=null,this.expandNav=null,this.expandThumbs=null,this.expandGallery=[],this.buttons={},this.start(e)}return k.prototype={loadOptions:function(t){switch(this.options.fromJSON(window.mzOptions||{}),this.options.fromString(this.placeholder.getAttribute("data-options")||""),u.jBrowser.mobile&&(this.options.fromJSON(this.touchOptions.getJSON()),this.options.fromJSON(window.mzMobileOptions||{}),this.options.fromString(this.placeholder.getAttribute("data-mobile-options")||"")),"string"==u.jTypeOf(t)?this.options.fromString(t||""):this.options.fromJSON(t||{}),this.option("cssClass")&&this.option("cssClass",this.option("cssClass").replace(","," ")),!1===this.option("zoomCaption")&&this.option("zoomCaption","off"),!1===this.option("hint")&&this.option("hint","off"),this.option("hint")){case"off":this.hintRuns=0;break;case"once":this.hintRuns=2;break;case"always":this.hintRuns=1/0}"off"===this.option("zoomMode")&&this.option("zoomMode",!1),"off"===this.option("expand")&&this.option("expand",!1),"off"===this.option("expandZoomMode")&&this.option("expandZoomMode",!1),s&&"zoom"==this.option("zoomMode")&&this.option("zoomPosition","inner"),u.jBrowser.mobile&&"zoom"==this.option("zoomMode")&&"inner"==this.option("zoomPosition")&&(s&&this.option("expand")?this.option("zoomMode",!1):this.option("zoomOn","click"))},start:function(t){var e;this.loadOptions(t),v&&!this.option("autostart")||(this.id=this.placeholder.getAttribute("id")||"mz-"+Math.floor(Math.random()*u.now()),this.placeholder.setAttribute("id",this.id),this.node=u.$new("figure").jAddClass("mz-figure"),function(t){for(var e,i,o=t,n=[];i=o.tagName,/^[A-Za-z]*$/.test(i)&&((e=o.getAttribute("id"))&&(i+="#"+e),n.push(i)),(o=o.parentNode)&&o!==document.documentElement;);n=n.reverse(),u.addCSS(n.join(" ")+"> .mz-figure > img",{width:"100% !important;"},"mz-runtime-css",!0)}(this.placeholder),this.originalImg=this.placeholder.querySelector("img"),this.originalImgSrc=this.originalImg?this.originalImg.getAttribute("src"):null,this.originalTitle=p(this.placeholder).getAttribute("title"),p(this.placeholder).removeAttribute("title"),this.primaryImage=(new T).parseNode(this.placeholder,this.originalTitle,!0),this.image=this.primaryImage,this.node.enclose(this.image.small.node).jAddClass(this.option("cssClass")),!0!==this.option("rightClick")&&this.node.jAddEvent("contextmenu",function(t){return t.stop(),!1}),this.node.jAddClass("mz-"+this.option("zoomOn")+"-zoom"),this.option("expand")||this.node.jAddClass("mz-no-expand"),this.lens={node:u.$new("div",{class:"mz-lens"},{top:0}).jAppendTo(this.node),image:u.$new("img",{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},{position:"absolute",top:0,left:0}),width:0,height:0,pos:{x:0,y:0},spos:{x:0,y:0},size:{width:0,height:0},border:{x:0,y:0},dx:0,dy:0,innertouch:!1,hide:function(){u.jBrowser.features.transform?this.node.jSetCss({transform:"translate(-10000px,-10000px)"}):this.node.jSetCss({top:-1e4})}},this.lens.hide(),this.lens.node.append(this.lens.image),this.zoomBox={node:u.$new("div",{class:"mz-zoom-window"},{top:-1e5}).jAddClass(this.option("cssClass")).jAppendTo(n),image:u.$new("img",{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},{position:"absolute"}),aspectRatio:0,width:0,height:0,innerWidth:0,innerHeight:0,size:{width:"auto",wunits:"px",height:"auto",hunits:"px"},mode:this.option("zoomMode"),position:this.option("zoomPosition"),custom:!1,active:!1,activating:!1,enabled:!1,enable:p(function(){this.zoomBox.enabled=!1!==arguments[0],this.node[this.zoomBox.enabled?"jRemoveClass":"jAddClass"]("mz-no-zoom")}).jBind(this),hide:p(function(){var t=p(this.node).jFetch("cr");this.zoomBox.node.jRemoveEvent("transitionend"),this.zoomBox.node.jSetCss({top:-1e5}).jAppendTo(n),this.zoomBox.node.jRemoveClass("mz-deactivating mz-p-"+("zoom"==this.zoomBox.mode?this.zoomBox.position:this.zoomBox.mode)),!this.expanded&&t&&t.jRemove(),this.zoomBox.image.removeAttribute("style")}).jBind(this),setMode:p(function(t){this.node[!1===t?"jAddClass":"jRemoveClass"]("mz-no-zoom"),this.node["magnifier"==t?"jAddClass":"jRemoveClass"]("mz-magnifier-zoom"),this.zoomBox.node["magnifier"==t?"jAddClass":"jRemoveClass"]("mz-magnifier"),this.zoomBox.node["preview"==t?"jAddClass":"jRemoveClass"]("mz-preview"),"zoom"!=t&&(this.node.jRemoveClass("mz-inner-zoom"),this.zoomBox.node.jRemoveClass("mz-inner")),!1===(this.zoomBox.mode=t)?this.zoomBox.enable(!1):"preview"===t&&this.zoomBox.enable(!0)}).jBind(this)},this.zoomBox.node.append(this.zoomBox.image),this.zoomBox.setMode(this.option("zoomMode")),this.zoomBox.image.removeAttribute("width"),this.zoomBox.image.removeAttribute("height"),void 0!==x&&(p(this.node).jStore("cr",u.$new((Math.floor(101*Math.random())+1)%2?"span":"div").jSetCss({display:"none",overflow:"hidden",visibility:"visible",color:x[1],fontSize:x[2],fontWeight:x[3],fontFamily:"sans-serif",position:"absolute",top:8,left:8,margin:"auto",width:"auto",textAlign:"right","line-height":"2em",zIndex:2147483647}).changeContent(function(t){var e,i;for(e="",i=0;i<t.length;i++)e+=String.fromCharCode(14^t.charCodeAt(i));return e}(x[0]))),p(p(this.node).jFetch("cr")).byTag("a")[0]&&p(p(p(this.node).jFetch("cr")).byTag("a")[0]).jAddEvent("tap btnclick",function(t){t.stopDistribution(),window.open(this.href)})),(e=(""+this.option("zoomWidth")).match(/^([0-9]+)?(px|%)?$/))&&(this.zoomBox.size.wunits=e[2]||"px",this.zoomBox.size.width=parseFloat(e[1])||"auto"),(e=(""+this.option("zoomHeight")).match(/^([0-9]+)?(px|%)?$/))&&(this.zoomBox.size.hunits=e[2]||"px",this.zoomBox.size.height=parseFloat(e[1])||"auto"),"magnifier"==this.zoomBox.mode?(this.node.jAddClass("mz-magnifier-zoom"),this.zoomBox.node.jAddClass("mz-magnifier"),"auto"===this.zoomBox.size.width&&(this.zoomBox.size.wunits="%",this.zoomBox.size.width=70),"auto"===this.zoomBox.size.height&&(this.zoomBox.size.hunits="%")):(this.option("zoom-position").match(/^#/)&&((this.zoomBox.custom=p(this.option("zoom-position").replace(/^#/,"")))?50<p(this.zoomBox.custom).jGetSize().height&&("auto"===this.zoomBox.size.width&&(this.zoomBox.size.wunits="%",this.zoomBox.size.width=100),"auto"===this.zoomBox.size.height&&(this.zoomBox.size.hunits="%",this.zoomBox.size.height=100)):this.option("zoom-position","right")),"preview"==this.zoomBox.mode&&("auto"===this.zoomBox.size.width&&(this.zoomBox.size.wunits="px"),"auto"===this.zoomBox.size.height&&(this.zoomBox.size.hunits="px")),"zoom"==this.zoomBox.mode&&("auto"!==this.zoomBox.size.width&&"inner"!=this.option("zoom-position")||(this.zoomBox.size.wunits="%",this.zoomBox.size.width=100),"auto"!==this.zoomBox.size.height&&"inner"!=this.option("zoom-position")||(this.zoomBox.size.hunits="%",this.zoomBox.size.height=100)),"inner"==this.option("zoom-position")&&this.node.jAddClass("mz-inner-zoom")),this.zoomBox.position=this.zoomBox.custom?"custom":this.option("zoom-position"),this.lens.border.x=parseFloat(this.lens.node.jGetCss("border-left-width")||"0"),this.lens.border.y=parseFloat(this.lens.node.jGetCss("border-top-width")||"0"),this.image.loadSmall(function(){2===this.image.small.state&&(this.image.setCurNode("small"),this.size=this.image.node.jGetSize(),this.registerEvents(),(this.ready=!0)===this.option("lazyZoom")&&this.showHint())}.jBind(this)),!0===this.option("lazyZoom")&&"always"!=this.option("zoomOn")||(this.image.load(p(function(t){this.setupZoom(t,!0)}).jBind(this)),this.loadTimer=p(this.showLoading).jBind(this).jDelay(400)),this.setupSelectors())},stop:function(){this.unregisterEvents(),this.zoomBox&&this.zoomBox.node.kill(),this.expandThumbs&&(this.expandThumbs.stop(),this.expandThumbs=null),this.expandBox&&this.expandBox.kill(),this.expanded&&p(u.jBrowser.getDoc()).jSetCss({overflow:""}),p(this.additionalImages).jEach(function(t){p(t.origin).jRemoveClass("mz-thumb-selected").jRemoveClass(this.option("cssClass")||"mz-$dummy-css-class-to-jRemove$")},this),this.originalImg&&(this.placeholder.append(this.originalImg),this.originalImgSrc&&this.originalImg.setAttribute("src",this.originalImgSrc)),this.originalTitle&&this.placeholder.setAttribute("title",this.originalTitle),this.node&&this.node.kill()},setupZoom:function(t,i){var o=this.initEvent,n=this.image;if(this.initEvent=null,2!==t.zoom.state)return this.image=t,this.ready=!0,void this.zoomBox.enable(!1);this.image=t,this.image.setCurNode(this.expanded?"zoom":"small"),this.zoomBox.image.src=this.image.getURL("zoom"),this.zoomBox.node.jRemoveClass("mz-preview"),this.zoomBox.image.removeAttribute("style"),this.zoomBox.node.jGetSize(),setTimeout(p(function(){var t,e=this.zoomBox.image.jGetSize();this.zoomSizeOrigin=this.image.jGetSize("zoom"),1<e.width*e.height&&e.width*e.height<this.zoomSizeOrigin.width*this.zoomSizeOrigin.height&&(this.zoomSizeOrigin=e),this.zoomSize=u.detach(this.zoomSizeOrigin),"preview"==this.zoomBox.mode&&this.zoomBox.node.jAddClass("mz-preview"),this.setCaption(),this.lens.image.src=this.image.node.currentSrc||this.image.node.src,this.zoomBox.enable(this.zoomBox.mode&&!(this.expanded&&"preview"==this.zoomBox.mode)),this.ready=!0,this.activateTimer=null,this.resizeCallback(),this.node.jAddClass("mz-ready"),this.hideLoading(),n!==this.image?(z("onUpdate",this.id,n.origin,this.image.origin),this.nextImage&&(t=this.nextImage,this.nextImage=null,this.update(t.image,t.onswipe))):z("onZoomReady",this.id),o?this.node.jCallEvent(o.type,o):this.expanded&&"always"==this.option("expandZoomOn")?this.activate():i&&this.showHint()}).jBind(this),256)},setupSelectors:function(){var t,e,i=this.id;e=new RegExp("zoom\\-id(\\s+)?:(\\s+)?"+i+"($|;)"),t=u.jBrowser.features.query?(t=u.$A(document.querySelectorAll('[data-zoom-id="'+this.id+'"]')),p(t).concat(u.$A(document.querySelectorAll('[rel*="zoom-id"]')).filter(function(t){return e.test(t.getAttribute("rel")||"")}))):u.$A(document.getElementsByTagName("A")).filter(function(t){return i==t.getAttribute("data-zoom-id")||e.test(t.getAttribute("rel")||"")}),p(t).jEach(function(t){var e,i;p(t).jAddEvent("click",function(t){t.stopDefaults()}),e=(new T).parseNode(t,this.originalTitle),this.image.zoom.src.has(e.zoom.src)&&this.image.small.src.has(e.small.src)&&(p(e.origin).jAddClass("mz-thumb-selected"),(e=this.image).origin=t),!e.link&&this.image.link&&(e.link=this.image.link),i=p(function(){this.update(e)}).jBind(this),p(t).jAddEvent("mousedown",function(t){"stopImmediatePropagation"in t&&t.stopImmediatePropagation()},5),p(t).jAddEvent("tap "+("hover"==this.option("selectorTrigger")?"mouseover mouseout":"btnclick"),p(function(t,e){this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=!1,"mouseover"==t.type?this.updateTimer=p(i).jDelay(e):"tap"!=t.type&&"btnclick"!=t.type||i()}).jBindAsEvent(this,60)).jAddClass(this.option("cssClass")).jAddClass("mz-thumb"),e.loadSmall(),!0!==this.option("lazyZoom")&&e.loadZoom(),this.additionalImages.push(e)},this)},update:function(t,l){if(this.ready){if(!t||t===this.image)return!1;this.deactivate(null,!0),this.ready=!1,this.node.jRemoveClass("mz-ready"),this.loadTimer=p(this.showLoading).jBind(this).jDelay(400),t.load(p(function(t){var e,i,o,n,s,a,r=u.jBrowser.ieMode<10?"jGetSize":"getBoundingClientRect";if(this.hideLoading(),t.setCurNode("small"),!t.node)return this.ready=!0,void this.node.jAddClass("mz-ready");this.setActiveThumb(t),e=this.image.node[r](),this.expanded&&(t.setCurNode("zoom"),o=u.$new("div").jAddClass("mz-expand-bg"),u.jBrowser.features.cssFilters||u.jBrowser.ieMode<10?o.append(u.$new("img",{src:t.getURL("zoom")}).jSetCss({opacity:0})):o.append(new u.SVGImage(t.node).blur(20).getNode().jSetCss({opacity:0})),p(o).jSetCss({"z-index":-99}).jAppendTo(this.expandBox)),a=this.expanded&&"zoom"===this.zoomBox.mode&&"always"===this.option("expandZoomOn")?(p(t.node).jSetCss({opacity:0}).jAppendTo(this.node),i=e,s=[t.node,this.image.node],[{opacity:[0,1]},{opacity:[1,0]}]):(this.node.jSetCss({height:this.node[r]().height}),this.image.node.jSetCss({position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%","max-width":"","max-height":""}),p(t.node).jSetCss({"max-width":Math.min(t.jGetSize(this.expanded?"zoom":"small").width,this.expanded?this.expandMaxWidth():1/0),"max-height":Math.min(t.jGetSize(this.expanded?"zoom":"small").height,this.expanded?this.expandMaxHeight():1/0),position:"relative",top:0,left:0,opacity:0,transform:""}).jAppendTo(this.node),i=p(t.node)[r](),l||p(t.node).jSetCss({"min-width":e.width,height:e.height,"max-width":e.width,"max-height":""}),this.node.jSetCss({height:"",overflow:""}).jGetSize(),p(t.node).jGetSize(),s=[t.node,this.image.node],[u.extend({opacity:[0,1]},l?{scale:[.6,1]}:{"min-width":[e.width,i.width],"max-width":[e.width,i.width],height:[e.height,i.height]}),{opacity:[1,0]}]),this.expanded&&this.expandBg.firstChild&&o.firstChild&&(n=p(this.expandBg.firstChild).jGetCss("opacity"),s=s.concat([o.firstChild]),a=a.concat([{opacity:[1e-4,n]}])),new u.PFX(s,{duration:l||this.option("transitionEffect")?l?400:350:0,transition:l?"cubic-bezier(0.175, 0.885, 0.320, 1.275)":e.width==i.width?"linear":"cubic-bezier(0.25, .1, .1, 1)",onComplete:p(function(){this.image.node.jRemove().removeAttribute("style"),p(t.node).jSetCss(this.expanded?{width:"auto",height:"auto"}:{width:"",height:""}).jSetCss({"min-width":"","min-height":"",opacity:"","max-width":Math.min(t.jGetSize(this.expanded?"zoom":"small").width,this.expanded?this.expandMaxWidth():1/0),"max-height":Math.min(t.jGetSize(this.expanded?"zoom":"small").height,this.expanded?this.expandMaxHeight():1/0)}),this.expanded&&(this.expandBg.jRemove(),this.expandBg=void 0,this.expandBg=o.jSetCssProp("z-index",-100),p(this.expandBg.firstChild).jSetCss({opacity:""}),this.expandCaption&&(t.caption?t.link?this.expandCaption.changeContent("").append(u.$new("a",{href:t.link}).jAddEvent("tap btnclick",this.openLink.jBind(this)).changeContent(t.caption)):this.expandCaption.changeContent(t.caption).jAddClass("mz-show"):this.expandCaption.jRemoveClass("mz-show"))),this.setupZoom(t)}).jBind(this),onBeforeRender:p(function(t,e){void 0!==t.scale&&e.jSetCssProp("transform","scale("+t.scale+")")})}).start(a)}).jBind(this))}else this.nextImage={image:t,onswipe:l}},setActiveThumb:function(e){var i=!1;p(this.additionalImages).jEach(function(t){p(t.origin).jRemoveClass("mz-thumb-selected"),t===e&&(i=!0)}),i&&e.origin&&p(e.origin).jAddClass("mz-thumb-selected"),this.expandThumbs&&this.expandThumbs.selectItem(e.selector)},setCaption:function(t){this.image.caption&&"off"!==this.option("zoomCaption")&&"magnifier"!==this.zoomBox.mode&&(this.zoomBox.caption||(this.zoomBox.caption=u.$new("div",{class:"mz-caption"}).jAppendTo(this.zoomBox.node.jAddClass("caption-"+this.option("zoomCaption")))),this.zoomBox.caption.changeContent(this.image.caption))},showHint:function(t,e){var i;if(!this.expanded){if(this.hintRuns<=0)return;this.hintRuns--}void 0===e&&(!this.zoomBox.active&&!this.zoomBox.activating&&this.option("zoomMode")?"hover"==this.option("zoomOn")?e=this.option("textHoverZoomHint"):"click"==this.option("zoomOn")&&(e=this.option("textClickZoomHint")):e=this.option("expand")?this.option("textExpandHint"):""),e?(i=this.node,this.hint?p(this.hintMessage).changeContent(e):(this.hint=u.$new("div",{class:"mz-hint"}),this.hintMessage=u.$new("span",{class:"mz-hint-message"}).append(document.createTextNode(e)).jAppendTo(this.hint),p(this.hint).jAppendTo(this.node)),this.hint.jSetCss({"transition-delay":""}).jRemoveClass("mz-hint-hidden"),this.expanded?i=this.expandFigure:(this.zoomBox.active||this.zoomBox.activating)&&"magnifier"!==this.zoomBox.mode&&"inner"==this.zoomBox.position&&(i=this.zoomBox.node),!0===t&&setTimeout(p(function(){this.hint.jAddClass("mz-hint-hidden")}).jBind(this),16),this.hint.jAppendTo(i)):this.hideHint()},hideHint:function(){this.hint&&this.hint.jSetCss({"transition-delay":"0ms"}).jAddClass("mz-hint-hidden")},showLoading:function(){this.loadingBox||(this.loadingBox=u.$new("div",{class:"mz-loading"}),this.node.append(this.loadingBox),this.loadingBox.jGetSize()),this.loadingBox.jAddClass("shown")},hideLoading:function(){clearTimeout(this.loadTimer),this.loadTimer=null,this.loadingBox&&p(this.loadingBox).jRemoveClass("shown")},setSize:function(t,e){var i,o,n=u.detach(this.zoomBox.size),s=!this.expanded&&this.zoomBox.custom?p(this.zoomBox.custom).jGetSize():{width:0,height:0},a=this.size,r={x:0,y:0};e=e||this.zoomBox.position,this.normalSize=this.image.node.jGetSize(),this.size=this.image.node.jGetSize(),this.boundaries=this.image.node.getBoundingClientRect(),s.height||(s=this.size),!1!==this.option("upscale")&&!1!==this.zoomBox.mode&&"preview"!==this.zoomBox.mode||(t=!1),"preview"==this.zoomBox.mode&&("auto"===n.width&&(n.width=this.zoomSizeOrigin.width),"auto"===n.height&&(n.height=this.zoomSizeOrigin.height)),this.expanded&&"magnifier"==this.zoomBox.mode&&(n.width=70,n.height="auto"),"magnifier"==this.zoomBox.mode&&"auto"===n.height?(this.zoomBox.width=parseFloat(n.width/100)*Math.min(s.width,s.height),this.zoomBox.height=this.zoomBox.width):"zoom"==this.zoomBox.mode&&"inner"==e?(this.size=this.node.jGetSize(),s=this.size,this.boundaries=this.node.getBoundingClientRect(),this.zoomBox.width=s.width,this.zoomBox.height=s.height):(this.zoomBox.width="%"===n.wunits?parseFloat(n.width/100)*s.width:parseInt(n.width),this.zoomBox.height="%"===n.hunits?parseFloat(n.height/100)*s.height:parseInt(n.height)),"preview"==this.zoomBox.mode&&(o=Math.min(Math.min(this.zoomBox.width/this.zoomSizeOrigin.width,this.zoomBox.height/this.zoomSizeOrigin.height),1),this.zoomBox.width=this.zoomSizeOrigin.width*o,this.zoomBox.height=this.zoomSizeOrigin.height*o),this.zoomBox.width=Math.ceil(this.zoomBox.width),this.zoomBox.height=Math.ceil(this.zoomBox.height),this.zoomBox.aspectRatio=this.zoomBox.width/this.zoomBox.height,this.zoomBox.node.jSetCss({width:this.zoomBox.width,height:this.zoomBox.height}),t&&(s=this.expanded?this.expandBox.jGetSize():this.zoomBox.node.jGetSize(),!this.expanded&&.8<this.normalSize.width*this.normalSize.height/(this.zoomSizeOrigin.width*this.zoomSizeOrigin.height)?(this.zoomSize.width=1.5*this.zoomSizeOrigin.width,this.zoomSize.height=1.5*this.zoomSizeOrigin.height):this.zoomSize=u.detach(this.zoomSizeOrigin)),this.zoomBox.active||!t||this.expanded&&"always"==this.option("expandZoomOn")||(.8<this.normalSize.width*this.normalSize.height/(this.zoomSize.width*this.zoomSize.height)?(this.zoomSize=u.detach(this.zoomSizeOrigin),this.zoomBox.enable(!1)):this.zoomBox.enable(!0)),this.zoomBox.image.jSetCss({width:this.zoomSize.width,height:this.zoomSize.height}),i=this.zoomBox.node.getInnerSize(),this.zoomBox.innerWidth=Math.ceil(i.width),this.zoomBox.innerHeight=Math.ceil(i.height),this.lens.width=Math.ceil(this.zoomBox.innerWidth/(this.zoomSize.width/this.size.width)),this.lens.height=Math.ceil(this.zoomBox.innerHeight/(this.zoomSize.height/this.size.height)),this.lens.node.jSetCss({width:this.lens.width,height:this.lens.height}),this.lens.image.jSetCss(this.size),u.extend(this.lens,this.lens.node.jGetSize()),this.zoomBox.active&&(clearTimeout(this.moveTimer),this.moveTimer=null,this.lens.innertouch?(this.lens.pos.x*=this.size.width/a.width,this.lens.pos.y*=this.size.height/a.height,r.x=this.lens.spos.x,r.y=this.lens.spos.y):(r.x=this.boundaries.left+this.lens.width/2+this.lens.pos.x*(this.size.width/a.width),r.y=this.boundaries.top+this.lens.height/2+this.lens.pos.y*(this.size.height/a.height)),this.animate(null,r))},reflowZoom:function(t){var e,i,o,n,s,a,r,l,d=p(this.node).jFetch("cr");if(a=5,r=p(window).jGetSize(),l=p(window).jGetScroll(),o={left:a=a||0,right:r.width-a,top:a,bottom:r.height-a,x:l.x,y:l.y},this.zoomBox.position,n=this.expanded?"inner":this.zoomBox.custom?"custom":this.option("zoom-position"),s=this.expanded&&"zoom"==this.zoomBox.mode?this.expandBox:document.body,this.expanded&&(o.y=0,o.x=0),t||this.setSize(!0,n),this.zoomBox.activating||this.zoomBox.active){if(e=this.boundaries.top,"magnifier"!==this.zoomBox.mode){if(t)return void this.setSize(!1);switch(n){case"inner":case"custom":i=e=0;break;case"top":e=this.boundaries.top-this.zoomBox.height-this.option("zoom-distance"),o.top>e&&(e=this.boundaries.bottom+this.option("zoom-distance"),n="bottom"),i=this.boundaries.left;break;case"bottom":e=this.boundaries.bottom+this.option("zoom-distance"),o.bottom<e+this.zoomBox.height&&(e=this.boundaries.top-this.zoomBox.height-this.option("zoom-distance"),n="top"),i=this.boundaries.left;break;case"left":i=this.boundaries.left-this.zoomBox.width-this.option("zoom-distance"),o.left>i&&o.right>=this.boundaries.right+this.option("zoom-distance")+this.zoomBox.width&&(i=this.boundaries.right+this.option("zoom-distance"),n="right");break;case"right":default:i=this.boundaries.right+this.option("zoom-distance"),o.right<i+this.zoomBox.width&&o.left<=this.boundaries.left-this.zoomBox.width-this.option("zoom-distance")&&(i=this.boundaries.left-this.zoomBox.width-this.option("zoom-distance"),n="left")}switch(this.option("zoom-position")){case"top":case"bottom":(o.top>e||o.bottom<e+this.zoomBox.height)&&(n="inner");break;case"left":case"right":(o.left>i||o.right<i+this.zoomBox.width)&&(n="inner")}if(this.zoomBox.position=n,this.setSize(!1),t)return;"custom"==n&&(s=this.zoomBox.custom,o.y=0,o.x=0),"inner"==n?("preview"!==this.zoomBox.mode&&(this.zoomBox.node.jAddClass("mz-inner"),this.node.jAddClass("mz-inner-zoom")),this.lens.hide(),e=this.boundaries.top+o.y,i=this.boundaries.left+o.x,!this.expanded&&u.jBrowser.ieMode&&u.jBrowser.ieMode<11&&(i=e=0,s=this.node)):(e+=o.y,i+=o.x,this.node.jRemoveClass("mz-inner-zoom"),this.zoomBox.node.jRemoveClass("mz-inner")),this.zoomBox.node.jSetCss({top:e,left:i})}else this.setSize(!1),u.jBrowser.ieMode&&u.jBrowser.ieMode<11&&(s=this.node);this.zoomBox.node[this.expanded?"jAddClass":"jRemoveClass"]("mz-expanded"),!this.expanded&&d&&d.jAppendTo("zoom"==this.zoomBox.mode&&"inner"==n?this.zoomBox.node:this.node,(Math.floor(101*Math.random())+1)%2?"top":"bottom"),this.zoomBox.node.jAppendTo(s)}},changeZoomLevel:function(t){var e,i,o,n,s=!1,a=t.isMouse?5:3/54;if(p(t).stop(),a=(100+a*Math.abs(t.deltaY))/100,t.deltaY<0&&(a=1/a),"magnifier"==this.zoomBox.mode)i=Math.max(100,Math.round(this.zoomBox.width*a)),o=(i=Math.min(i,.9*this.size.width))/this.zoomBox.aspectRatio,this.zoomBox.width=Math.ceil(i),this.zoomBox.height=Math.ceil(o),this.zoomBox.node.jSetCss({width:this.zoomBox.width,height:this.zoomBox.height}),e=this.zoomBox.node.getInnerSize(),this.zoomBox.innerWidth=Math.ceil(e.width),this.zoomBox.innerHeight=Math.ceil(e.height),s=!0;else{if(this.expanded||"zoom"!=this.zoomBox.mode)return;i=Math.max(50,Math.round(this.lens.width*a)),o=(i=Math.min(i,.9*this.size.width))/this.zoomBox.aspectRatio,this.zoomSize.width=Math.ceil(this.zoomBox.innerWidth/i*this.size.width),this.zoomSize.height=Math.ceil(this.zoomBox.innerHeight/o*this.size.height),this.zoomBox.image.jSetCss({width:this.zoomSize.width,height:this.zoomSize.height})}n=p(window).jGetScroll(),this.lens.width=Math.ceil(this.zoomBox.innerWidth/(this.zoomSize.width/this.size.width)),this.lens.height=Math.ceil(this.zoomBox.innerHeight/(this.zoomSize.height/this.size.height)),this.lens.node.jSetCss({width:this.lens.width,height:this.lens.height}),u.extend(this.lens,this.lens.node.jGetSize()),this.zoomBox.active&&(clearTimeout(this.moveTimer),this.moveTimer=null,s&&(this.moveTimer=!0),this.animate(null,{x:t.x-n.x,y:t.y-n.y}),s&&(this.moveTimer=null))},registerActivateEvent:function(t){var e,i=t?"dbltap btnclick":"touchstart"+(u.jBrowser.mobile?"":window.navigator.pointerEnabled?" pointermove":window.navigator.msPointerEnabled?" MSPointerMove":" mousemove"),o=this.node.jFetch("mz:handlers:activate:fn",t?p(this.activate).jBindAsEvent(this):p(function(t){e=u.jBrowser.ieMode<9?u.extend({},t):t,this.activateTimer||(clearTimeout(this.activateTimer),this.activateTimer=setTimeout(p(function(){this.activate(e)}).jBind(this),120))}).jBindAsEvent(this));this.node.jStore("mz:handlers:activate:event",i).jAddEvent(i,o,10)},unregisterActivateEvent:function(t){var e=this.node.jFetch("mz:handlers:activate:event"),i=this.node.jFetch("mz:handlers:activate:fn");this.node.jRemoveEvent(e,i),this.node.jDel("mz:handlers:activate:fn")},registerDeactivateEvent:function(t){var e=t?"dbltap btnclick":"touchend"+(u.jBrowser.mobile?"":window.navigator.pointerEnabled?" pointerout":window.navigator.msPointerEnabled?" MSPointerOut":" mouseout"),i=this.node.jFetch("mz:handlers:deactivate:fn",p(function(t){S(t)&&!C(t)||this.zoomBox.node===t.getRelated()||("inner"==this.zoomBox.position||"magnifier"==this.zoomBox.mode)&&this.zoomBox.node.hasChild(t.getRelated())||this.node.hasChild(t.getRelated())||this.deactivate(t)}).jBindAsEvent(this));this.node.jStore("mz:handlers:deactivate:event",e).jAddEvent(e,i,20)},unregisterDeactivateEvent:function(){var t=this.node.jFetch("mz:handlers:deactivate:event"),e=this.node.jFetch("mz:handlers:deactivate:fn");this.node.jRemoveEvent(t,e),this.node.jDel("mz:handlers:deactivate:fn")},registerEvents:function(){this.moveBind=this.move.jBind(this),this.node.jAddEvent(["touchstart",window.navigator.pointerEnabled?"pointerdown":"MSPointerDown"],p(function(t){this.zoomBox.active&&"inner"===this.zoomBox.position&&(this.lens.spos=t.getClientXY())}).jBindAsEvent(this),10),this.node.jAddEvent(["touchmove",window.navigator.pointerEnabled?"pointermove":window.navigator.msPointerEnabled?"MSPointerMove":"mousemove"],p(this.animate).jBindAsEvent(this)),this.option("zoomMode")&&(this.registerActivateEvent("click"===this.option("zoomOn")),this.registerDeactivateEvent("click"===this.option("zoomOn")&&!this.option("expand"))),this.node.jAddEvent("mousedown",function(t){t.stopDistribution()},10).jAddEvent("btnclick",p(function(t){this.jRaiseEvent("MouseEvent","click")}).jBind(this.node),15),this.option("expand")?this.node.jAddEvent("tap btnclick",p(this.expand).jBindAsEvent(this),15):this.node.jAddEvent("tap btnclick",p(this.openLink).jBindAsEvent(this),15),1<this.additionalImages.length&&this.swipe(),!u.jBrowser.mobile&&this.option("variableZoom")&&this.node.jAddEvent("mousescroll",this.changeZoomLevel.jBindAsEvent(this)),p(window).jAddEvent("resize scroll",this.onResize)},unregisterEvents:function(){this.node&&this.node.jRemoveEvent("mousescroll"),p(window).jRemoveEvent("resize scroll",this.onResize),p(this.additionalImages).jEach(function(t){p(t.origin).jClearEvents()})},activate:function(t){var e,i,o,n,s,a=0,r=0;this.ready&&this.zoomBox.enabled&&!this.zoomBox.active&&!this.zoomBox.activating?t&&"pointermove"==t.type&&"touch"==t.pointerType||(this.option("zoomMode")||!this.option("expand")||this.expanded?(this.zoomBox.activating=!0,this.expanded&&"zoom"==this.zoomBox.mode&&(n=this.image.node.jGetRect(),this.expandStage.jAddClass("mz-zoom-in"),s=this.expandFigure.jGetRect(),r=(n.left+n.right)/2-(s.left+s.right)/2,a=(n.top+n.bottom)/2-(s.top+s.bottom)/2),this.zoomBox.image.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-deactivating").jRemoveEvent("transitionend"),this.zoomBox.node.jAddClass("mz-activating"),this.node.jAddClass("mz-activating"),this.reflowZoom(),i="zoom"==this.zoomBox.mode?this.zoomBox.position:this.zoomBox.mode,!u.jBrowser.features.transition||this.expanded&&"always"==this.option("expandZoomOn")?(this.zoomBox.node.jRemoveClass("mz-activating"),this.zoomBox.activating=!1,this.zoomBox.active=!0):"inner"==i?(o=this.image.node.jGetSize(),this.zoomBox.image.jSetCss({transform:"translate3d(0,"+a+"px, 0) scale("+o.width/this.zoomSize.width+", "+o.height/this.zoomSize.height+")"}).jGetSize(),this.zoomBox.image.jAddEvent("transitionend",p(function(){this.zoomBox.image.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-activating mz-p-"+i),this.zoomBox.activating=!1,this.zoomBox.active=!0}).jBind(this)),this.zoomBox.node.jAddClass("mz-p-"+i).jGetSize(),!u.jBrowser.chrome||"chrome"!==u.jBrowser.uaName&&"opera"!==u.jBrowser.uaName||(this.zoomBox.activating=!1,this.zoomBox.active=!0)):(this.zoomBox.node.jAddEvent("transitionend",p(function(){this.zoomBox.node.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-activating mz-p-"+i)}).jBind(this)),this.zoomBox.node.jAddClass("mz-p-"+i).jGetSize(),this.zoomBox.node.jRemoveClass("mz-p-"+i),this.zoomBox.activating=!1,this.zoomBox.active=!0),this.expanded||this.showHint(!0),t?(t.stop().stopQueue(),e=t.getClientXY(),"magnifier"==this.zoomBox.mode&&/tap/i.test(t.type)&&(e.y-=this.zoomBox.height/2+10),"inner"==i&&(/tap/i.test(t.type)||S(t))&&(this.lens.pos={x:0,y:0},e.x=-(e.x-this.boundaries.left-this.size.width/2)*(this.zoomSize.width/this.size.width),e.y=-(e.y-this.boundaries.top-this.size.height/2)*(this.zoomSize.height/this.size.height))):e={x:this.boundaries.left+(this.boundaries.right-this.boundaries.left)/2,y:this.boundaries.top+(this.boundaries.bottom-this.boundaries.top)/2},this.node.jRemoveClass("mz-activating").jAddClass("mz-active"),e.x+=-r,e.y+=-a,this.lens.spos={x:0,y:0},this.lens.dx=0,this.lens.dy=0,this.animate(t,e,!0),z("onZoomIn",this.id)):this.zoomBox.active=!0):this.image.loaded()||(t&&(this.initEvent=u.extend({},t),t.stopQueue()),this.image.load(this.setupZoom.jBind(this)),this.loadTimer||(this.loadTimer=p(this.showLoading).jBind(this).jDelay(400)))},deactivate:function(t,e){var i,o,n,s,a=0,r=this.zoomBox.active;this.initEvent=null,this.ready&&(t&&"pointerout"==t.type&&"touch"==t.pointerType||(clearTimeout(this.moveTimer),this.moveTimer=null,clearTimeout(this.activateTimer),this.activateTimer=null,this.zoomBox.activating=!1,!(this.zoomBox.active=!1)===e||this.expanded||r&&this.showHint(),this.zoomBox.enabled&&(t&&t.stop(),this.zoomBox.image.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-activating").jRemoveEvent("transitionend"),this.expanded&&(s=this.expandFigure.jGetRect(),"always"!==this.option("expandZoomOn")&&this.expandStage.jRemoveClass("mz-zoom-in"),this.image.node.jSetCss({"max-height":this.expandMaxHeight()}),(n=this.image.node.jGetRect()).left,n.right,s.left,s.right,a=(n.top+n.bottom)/2-(s.top+s.bottom)/2),i="zoom"==this.zoomBox.mode?this.zoomBox.position:this.zoomBox.mode,!u.jBrowser.features.transition||!t||this.expanded&&"always"==this.option("expandZoomOn")?(this.zoomBox.hide(),this.node.jRemoveClass("mz-active")):"inner"==i?(this.zoomBox.image.jAddEvent("transitionend",p(function(){this.zoomBox.image.jRemoveEvent("transitionend"),this.node.jRemoveClass("mz-active"),setTimeout(p(function(){this.zoomBox.hide()}).jBind(this),32)}).jBind(this)),o=this.image.node.jGetSize(),this.zoomBox.node.jAddClass("mz-deactivating mz-p-"+i).jGetSize(),this.zoomBox.image.jSetCss({transform:"translate3d(0,"+a+"px,0) scale("+o.width/this.zoomSize.width+", "+o.height/this.zoomSize.height+")"})):(this.zoomBox.node.jAddEvent("transitionend",p(function(){this.zoomBox.hide(),this.node.jRemoveClass("mz-active")}).jBind(this)),this.zoomBox.node.jGetCss("opacity"),this.zoomBox.node.jAddClass("mz-deactivating mz-p-"+i),this.node.jRemoveClass("mz-active")),this.lens.dx=0,this.lens.dy=0,this.lens.spos={x:0,y:0},this.lens.hide(),r&&z("onZoomOut",this.id))))},animate:function(t,e,i){var o,n,s,a,r,l=e,d=0,h=0,c=!1;if(this.initEvent&&!this.image.loaded()&&(this.initEvent=t),this.zoomBox.active||i){if(t){if(p(t).stopDefaults(),S(t)&&!C(t))return;c=/tap/i.test(t.type)||S(t),this.lens.touchmovement=c,l=l||t.getClientXY()}"preview"!=this.zoomBox.mode&&("zoom"==this.zoomBox.mode&&"inner"===this.zoomBox.position&&(t&&c||!t&&this.lens.innertouch)?(this.lens.innertouch=!0,o=this.lens.pos.x+(l.x-this.lens.spos.x),n=this.lens.pos.y+(l.y-this.lens.spos.y),this.lens.spos=l,s=-(d=Math.min(0,this.zoomBox.innerWidth-this.zoomSize.width)/2),a=-(h=Math.min(0,this.zoomBox.innerHeight-this.zoomSize.height)/2)):(this.lens.innertouch=!1,o=l.x-this.boundaries.left,n=l.y-this.boundaries.top,s=this.size.width-this.lens.width,a=this.size.height-this.lens.height,o-=this.lens.width/2,n-=this.lens.height/2),"magnifier"!==this.zoomBox.mode&&(o=Math.max(d,Math.min(o,s)),n=Math.max(h,Math.min(n,a))),this.lens.pos.x=o=Math.round(o),this.lens.pos.y=n=Math.round(n),"zoom"==this.zoomBox.mode&&"inner"!=this.zoomBox.position&&(u.jBrowser.features.transform?(this.lens.node.jSetCss({transform:"translate("+this.lens.pos.x+"px,"+this.lens.pos.y+"px)"}),this.lens.image.jSetCss({transform:"translate("+-(this.lens.pos.x+this.lens.border.x)+"px, "+-(this.lens.pos.y+this.lens.border.y)+"px)"})):(this.lens.node.jSetCss({top:this.lens.pos.y,left:this.lens.pos.x}),this.lens.image.jSetCss({top:-(this.lens.pos.y+this.lens.border.y),left:-(this.lens.pos.x+this.lens.border.x)}))),"magnifier"==this.zoomBox.mode&&(!this.lens.touchmovement||t&&"dbltap"==t.type||(l.y-=this.zoomBox.height/2+10),r=p(window).jGetScroll(),this.zoomBox.node.jSetCss(u.jBrowser.ieMode&&u.jBrowser.ieMode<11?{top:l.y-this.boundaries.top-this.zoomBox.height/2,left:l.x-this.boundaries.left-this.zoomBox.width/2}:{top:l.y+r.y-this.zoomBox.height/2,left:l.x+r.x-this.zoomBox.width/2})),this.moveTimer||(this.lens.dx=0,this.lens.dy=0,this.move(1)))}},move:function(t){var e,i;isFinite(t)||(t=this.lens.innertouch?.2:.1),e=(this.lens.pos.x-this.lens.dx)*t,i=(this.lens.pos.y-this.lens.dy)*t,this.lens.dx+=e,this.lens.dy+=i,(!this.moveTimer||1e-6<Math.abs(e)||1e-6<Math.abs(i))&&this.zoomBox.image.jSetCss(u.jBrowser.features.transform?{transform:b+(this.lens.innertouch?this.lens.dx:-(this.lens.dx*(this.zoomSize.width/this.size.width)-Math.max(0,this.zoomSize.width-this.zoomBox.innerWidth)/2))+"px,"+(this.lens.innertouch?this.lens.dy:-(this.lens.dy*(this.zoomSize.height/this.size.height)-Math.max(0,this.zoomSize.height-this.zoomBox.innerHeight)/2))+"px"+y+" scale(1)"}:{left:-(this.lens.dx*(this.zoomSize.width/this.size.width)+Math.min(0,this.zoomSize.width-this.zoomBox.innerWidth)/2),top:-(this.lens.dy*(this.zoomSize.height/this.size.height)+Math.min(0,this.zoomSize.height-this.zoomBox.innerHeight)/2)}),"magnifier"!=this.zoomBox.mode&&(this.moveTimer=setTimeout(this.moveBind,16))},swipe:function(){var e,i,o,n,s,a,r,l="",d={},h=0,c={transition:u.jBrowser.cssTransform+String.fromCharCode(32)+"300ms cubic-bezier(.18,.35,.58,1)"},t=p(function(t){if(this.ready&&!this.zoomBox.active)if("dragstart"==t.state)clearTimeout(this.activateTimer),this.activateTimer=null,h=0,d={x:t.x,y:t.y,ts:t.timeStamp},e=this.size.width,i=e/2,this.image.node.jRemoveEvent("transitionend"),this.image.node.jSetCssProp("transition",""),this.image.node.jSetCssProp("transform","translate3d(0, 0, 0)"),r=null;else{if(n=t.x-d.x,s={x:0,y:0,z:0},null===r&&(r=Math.abs(t.x-d.x)<Math.abs(t.y-d.y)),r)return;if(t.stop(),"dragend"==t.state)return h=0,a=null,o=t.timeStamp-d.ts,(Math.abs(n)>i||o<201&&30<Math.abs(n))&&(l=0<n?"backward":n<=0?"forward":"")&&("backward"==l?(a=this.getPrev(),h+=10*e):(a=this.getNext(),h-=10*e)),s.x=h,s.deg=s.x/e*-90,this.image.node.jAddEvent("transitionend",p(function(t){this.image.node.jRemoveEvent("transitionend"),this.image.node.jSetCssProp("transition",""),a&&(this.image.node.jSetCss({transform:"translate3d("+s.x+"px, 0px, 0px)"}),this.update(a,!0))}).jBind(this)),this.image.node.jSetCss(c),this.image.node.jSetCss({"transition-duration":s.x?"100ms":"300ms",opacity:1-.7*Math.abs(s.x/e),transform:"translate3d("+s.x+"px, 0px, 0px)"}),void(n=0);s.x=n,s.z=-50*Math.abs(s.x/i),s.deg=s.x/i*-60,this.image.node.jSetCss({opacity:1-.7*Math.abs(s.x/i),transform:"translate3d("+s.x+"px, 0px, "+s.z+"px)"})}}).jBind(this);this.node.jAddEvent("touchdrag",t)},setupExpandGallery:function(){var e,t;this.additionalImages.length?this.expandGallery=this.additionalImages:(e=this.placeholder.getAttribute("data-gallery"))&&(t=u.jBrowser.features.query?u.$A(document.querySelectorAll('.MagicZoom[data-gallery="'+e+'"]')):u.$A(document.getElementsByTagName("A")).filter(function(t){return e==t.getAttribute("data-gallery")}),p(t).jEach(function(t){var e,i;(e=j(t))&&0<e.additionalImages.length||(i=e?new T(e.image.small.url,e.image.zoom.url,e.image.caption,null,e.image.origin):(new T).parseNode(t,e?e.originalTitle:null),this.image.zoom.src.has(i.zoom.src)&&this.image.small.src.has(i.small.src)&&(i=this.image),this.expandGallery.push(i))},this),this.primaryImage=this.image),1<this.expandGallery.length?(this.expandStage.jAddClass("with-thumbs"),this.expandNav=u.$new("div",{class:"mz-expand-thumbnails"}).jAppendTo(this.expandStage),this.expandThumbs=new i(this.expandNav),p(this.expandGallery).jEach(function(e){var i=p(function(t){this.setActiveThumb(e),this.update(e)}).jBind(this);e.selector=this.expandThumbs.addItem(u.$new("img",{src:e.getURL("small")}).jAddEvent("tap btnclick",function(t){t.stop()}).jAddEvent("tap "+("hover"==this.option("selectorTrigger")?"mouseover mouseout":"btnclick"),p(function(t,e){this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=!1,"mouseover"==t.type?this.updateTimer=p(i).jDelay(e):"tap"!=t.type&&"btnclick"!=t.type||i()}).jBindAsEvent(this,60)))},this),this.buttons.next.show(),this.buttons.prev.show()):(this.expandStage.jRemoveClass("with-thumbs"),this.buttons.next.hide(),this.buttons.prev.hide())},destroyExpandGallery:function(){var t;if(this.expandThumbs&&(this.expandThumbs.stop(),this.expandThumbs=null),this.expandNav&&(this.expandNav.jRemove(),this.expandNav=null),1<this.expandGallery.length&&!this.additionalImages.length)for(this.node.jRemoveEvent("touchdrag"),this.image.node.jRemove().removeAttribute("style"),this.primaryImage.node.jAppendTo(this.node),this.setupZoom(this.primaryImage);t=this.expandGallery.pop();)t!==this.primaryImage&&(t.small.node&&(t.small.node.kill(),t.small.node=null),t.zoom.node&&(t.zoom.node.kill(),t.zoom.node=null),t=null);this.expandGallery=[]},close:function(){this.ready&&this.expanded&&("ios"==u.jBrowser.platform&&"safari"==u.jBrowser.uaName&&7==parseInt(u.jBrowser.uaVersion)&&(clearInterval(w),w=null),p(document).jRemoveEvent("keydown",this.keyboardCallback),this.deactivate(null,!0),this.ready=!1,a.jBrowser.fullScreen.capable&&a.jBrowser.fullScreen.enabled()?a.jBrowser.fullScreen.cancel():u.jBrowser.features.transition?(this.node.jRemoveEvent("transitionend").jSetCss({transition:""}),this.node.jAddEvent("transitionend",this.onClose),this.expandBg.jRemoveEvent("transitionend").jSetCss({transition:""}),this.expandBg.jSetCss({transition:"all 0.6s cubic-bezier(0.895, 0.030, 0.685, 0.220) 0.0s"}).jGetSize(),this.node.jSetCss({transition:"all .4s cubic-bezier(0.600, -0.280, 0.735, 0.045) 0s"}).jGetSize(),"always"==this.option("expandZoomOn")&&"magnifier"!==this.option("expandZoomMode")&&(this.image.node.jSetCss({"max-height":this.image.jGetSize("zoom").height}),this.image.node.jSetCss({"max-width":this.image.jGetSize("zoom").width})),this.expandBg.jSetCss({opacity:.4}),this.node.jSetCss({opacity:.01,transform:"scale(0.4)"})):this.onClose())},expand:function(t){if(this.image.loaded()&&this.ready&&!this.expanded){t&&t.stopQueue();var e,i=p(this.node).jFetch("cr"),o=document.createDocumentFragment();this.hideHint(),this.hintRuns--,this.deactivate(null,!0),this.unregisterActivateEvent(),this.unregisterDeactivateEvent(),this.ready=!1,this.expandBox||(this.expandBox=u.$new("div").jAddClass("mz-expand").jAddClass(this.option("cssClass")).jSetCss({opacity:0}),this.expandStage=u.$new("div").jAddClass("mz-expand-stage").jAppendTo(this.expandBox),this.expandControls=u.$new("div").jAddClass("mz-expand-controls").jAppendTo(this.expandStage),p(["prev","next","close"]).jEach(function(t){var e="mz-button";switch(this.buttons[t]=u.$new("button",{title:this.option("text-btn-"+t)}).jAddClass(e).jAddClass(e+"-"+t),o.appendChild(this.buttons[t]),t){case"prev":this.buttons[t].jAddEvent("tap btnclick",function(t){t.stop(),this.update(this.getPrev())}.jBindAsEvent(this));break;case"next":this.buttons[t].jAddEvent("tap btnclick",function(t){t.stop(),this.update(this.getNext())}.jBindAsEvent(this));break;case"close":this.buttons[t].jAddEvent("tap btnclick",function(t){t.stop(),this.close()}.jBindAsEvent(this))}},this),this.expandControls.append(o),this.expandBox.jAddEvent("mousescroll touchstart dbltap",p(function(t){p(t).stop()})),this.option("closeOnClickOutside")&&this.expandBox.jAddEvent("tap btnclick",function(t){"always"!==this.option("expandZoomOn")&&this.node.hasChild(t.getOriginalTarget())||(t.stop(),this.close())}.jBindAsEvent(this)),this.keyboardCallback=p(function(t){var e=null;27!==t.keyCode&&37!==t.keyCode&&39!==t.keyCode||(p(t).stop(),27===t.keyCode?this.close():(e=37===t.keyCode?this.getPrev():this.getNext())&&this.update(e))}).jBindAsEvent(this),this.onExpand=p(function(){var o;function n(){window.scrollTo(document.body.scrollLeft,document.body.scrollTop),window.dispatchEvent(new Event("resize"))}this.node.jRemoveEvent("transitionend").jSetCss({transition:"",transform:"translate3d(0,0,0)"}),this.expanded=!0,this.expandBox.jSetCss({opacity:1}),this.zoomBox.setMode(this.option("expandZoomMode")),this.zoomSize=u.detach(this.zoomSizeOrigin),this.resizeCallback(),this.expandCaption&&this.image.caption&&(this.image.link?this.expandCaption.append(u.$new("a",{href:this.image.link}).jAddEvent("tap btnclick",this.openLink.jBind(this)).changeContent(this.image.caption)):this.expandCaption.changeContent(this.image.caption),this.expandCaption.jAddClass("mz-show")),"always"!==this.option("expandZoomOn")&&(this.registerActivateEvent(!0),this.registerDeactivateEvent(!0)),this.ready=!0,"always"===this.option("expandZoomOn")&&this.activate(),u.jBrowser.mobile&&this.mobileZoomHint&&this.zoomBox.enabled&&(this.showHint(!0,this.option("textClickZoomHint")),this.mobileZoomHint=!1),this.expandControls.jRemoveClass("mz-hidden").jAddClass("mz-fade mz-visible"),this.expandNav&&this.expandNav.jRemoveClass("mz-hidden").jAddClass("mz-fade mz-visible"),this.expandThumbs&&(this.expandThumbs.run(),this.setActiveThumb(this.image)),i&&i.jAppendTo(this.expandBox,(Math.floor(101*Math.random())+1)%2?"top":"bottom"),this.expandGallery.length&&!this.additionalImages.length&&this.swipe(),p(document).jAddEvent("keydown",this.keyboardCallback),"ios"==u.jBrowser.platform&&"safari"==u.jBrowser.uaName&&7==parseInt(u.jBrowser.uaVersion)&&(o=null,w=setInterval(function(){var t=90==window.orientation||-90==window.orientation,e=window.innerHeight,i=.85*(t?screen.availWidth:screen.availHeight);null!=o&&0!=o||!(t&&e<i||!t&&e<i)?null!=o&&1!=o||!(t&&i<e||!t&&i<e)||(o=!1,n()):(o=!0,n())},250)),z("onExpandOpen",this.id)}).jBind(this),this.onClose=p(function(){this.expanded&&(p(document).jRemoveEvent("keydown",this.keyboardCallback),this.deactivate(null,!0)),this.node.jRemoveEvent("transitionend"),this.destroyExpandGallery(),this.expanded=!1,this.zoomBox.setMode(this.option("zoomMode")),this.node.replaceChild(this.image.getNode("small"),this.image.node),this.image.setCurNode("small"),p(this.image.node).jSetCss({width:"",height:"","max-width":Math.min(this.image.jGetSize("small").width),"max-height":Math.min(this.image.jGetSize("small").height)}),this.node.jSetCss({opacity:"",transition:""}),this.node.jSetCss({transform:"translate3d(0,0,0)"}),this.node.jAppendTo(this.placeholder),this.setSize(!0),this.expandCaption&&(this.expandCaption.jRemove(),this.expandCaption=null),this.unregisterActivateEvent(),this.unregisterDeactivateEvent(),"always"==this.option("zoomOn")?this.activate():!1!==this.option("zoomMode")&&(this.registerActivateEvent("click"===this.option("zoomOn")),this.registerDeactivateEvent("click"===this.option("zoomOn")&&!this.option("expand"))),this.showHint(),this.expandBg.jRemoveEvent("transitionend"),this.expandBox.jRemove(),this.expandBg.jRemove(),this.expandBg=null,p(u.jBrowser.getDoc()).jSetCss({overflow:""}),this.ready=!0,u.jBrowser.ieMode<10?this.resizeCallback():p(window).jRaiseEvent("UIEvent","resize"),z("onExpandClose",this.id)}).jBind(this),this.expandImageStage=u.$new("div",{class:"mz-image-stage"}).jAppendTo(this.expandStage),this.expandFigure=u.$new("figure").jAppendTo(this.expandImageStage)),this.setupExpandGallery(),e=u.$new("img",{src:this.image.getURL("zoom")}),u.jBrowser.features.cssFilters||u.jBrowser.ieMode<10?this.expandBg=u.$new("div").jAddClass("mz-expand-bg").append(e).jAppendTo(this.expandBox):this.expandBg=u.$new("div").jAddClass("mz-expand-bg").append(new u.SVGImage(e).blur(20).getNode()).jAppendTo(this.expandBox),"always"===this.option("expandZoomOn")&&this.expandStage.jAddClass("mz-always-zoom"+("zoom"===this.option("expandZoomMode")?" mz-zoom-in":"")).jGetSize(),this.node.replaceChild(this.image.getNode("zoom"),this.image.node),this.image.setCurNode("zoom"),this.expandBox.jAppendTo(document.body),p(u.jBrowser.getDoc()).jSetCss({overflow:"hidden"}),this.expandMaxWidth=function(){var t=this.expandImageStage;return 50<p(this.expandFigure).jGetSize().width&&(t=this.expandFigure),function(){return Math.round(p(t).getInnerSize().width)}}.call(this),this.expandMaxHeight=function(){var t=this.expandImageStage;return 50<p(this.expandFigure).jGetSize().height&&(t=this.expandFigure),function(){return Math.round(p(t).getInnerSize().height)}}.call(this),this.expandControls.jRemoveClass("mz-fade mz-visible").jAddClass("mz-hidden"),this.expandNav&&this.expandNav.jRemoveClass("mz-fade mz-visible").jAddClass("mz-hidden"),this.image.node.jSetCss({"max-height":Math.min(this.image.jGetSize("zoom").height,"always"==this.option("expandZoomOn")&&"magnifier"!==this.option("expandZoomMode")?1/0:this.expandMaxHeight())}),this.image.node.jSetCss({"max-width":Math.min(this.image.jGetSize("zoom").width,"always"==this.option("expandZoomOn")&&"magnifier"!==this.option("expandZoomMode")?1/0:this.expandMaxWidth())}),this.expandFigure.append(this.node),this.option("expandCaption")&&(this.expandCaption=u.$new("figcaption",{class:"mz-caption"}).jAppendTo(this.expandFigure)),"fullscreen"==this.option("expand")?a.jBrowser.fullScreen.request(this.expandBox,{onEnter:p(function(){this.onExpand()}).jBind(this),onExit:this.onClose,fallback:p(function(){this.expandToWindow()}).jBind(this)}):this.expandToWindow()}else this.image.loaded()||(t&&(this.initEvent=u.extend({},t),t.stopQueue()),this.image.load(this.setupZoom.jBind(this)),this.loadTimer||(this.loadTimer=p(this.showLoading).jBind(this).jDelay(400)))},expandToWindow:function(){this.node.jSetCss({transition:""}),this.node.jSetCss({transform:"scale(0.6)"}).jGetSize(),this.node.jSetCss({transition:u.jBrowser.cssTransform+" 0.6s cubic-bezier(0.175, 0.885, 0.320, 1.275) 0s"}),u.jBrowser.features.transition?this.node.jAddEvent("transitionend",this.onExpand):this.onExpand.jDelay(16,this),this.expandBox.jSetCss({opacity:1}),this.node.jSetCss({transform:"scale(1)"})},openLink:function(){this.image.link&&window.open(this.image.link,"_self")},getNext:function(){var t=(this.expanded?this.expandGallery:this.additionalImages).filter(function(t){return-1!==t.small.state||-1!==t.zoom.state}),e=t.length,i=p(t).indexOf(this.image)+1;return e<=1?null:t[e<=i?0:i]},getPrev:function(){var t=(this.expanded?this.expandGallery:this.additionalImages).filter(function(t){return-1!==t.small.state||-1!==t.zoom.state}),e=t.length,i=p(t).indexOf(this.image)-1;return e<=1?null:t[i<0?e-1:i]},imageByURL:function(e,i){return(this.additionalImages.filter(function(t){return(t.zoom.src.has(e)||t.zoom.url.has(e))&&(t.small.src.has(i)||t.small.url.has(i))})||[])[0]||(i&&e&&"string"===u.jTypeOf(i)&&"string"===u.jTypeOf(e)?new T(i,e):null)},imageByOrigin:function(e){return(this.additionalImages.filter(function(t){return t.origin===e})||[])[0]},imageByIndex:function(t){return this.additionalImages[t]}},o={version:"v5.0.1",start:function(t,e){var i=null,o=[];return u.$A(t?[p(t)]:u.$A(document.byClass("MagicZoom")).concat(u.$A(document.byClass("MagicZoomPlus")))).jEach(function(t){p(t)&&(j(t)||(i=new k(t,e),v&&!i.option("autostart")?(i.stop(),i=null):(c.push(i),o.push(i))))}.jBind(this)),t?o[0]:o},stop:function(t){var e,i;if(t)(i=j(t))&&(i=c.splice(c.indexOf(i),1))&&i[0].stop()&&delete i[0];else for(;e=c.length;)(i=c.splice(e-1,1))[0].stop(),delete i[0]},refresh:function(t){return this.stop(t),this.start(t)},update:function(t,e,i,o){var n,s=j(t);s&&(n="element"===u.jTypeOf(e)?s.imageByOrigin(e):s.imageByURL(e,i))&&s.update(n)},switchTo:function(t,e){var i,o=j(t);if(o){switch(u.jTypeOf(e)){case"element":i=o.imageByOrigin(e);break;case"number":i=o.imageByIndex(e)}i&&o.update(i)}},prev:function(t){var e;(e=j(t))&&e.update(e.getPrev())},next:function(t){var e;(e=j(t))&&e.update(e.getNext())},zoomIn:function(t){var e;(e=j(t))&&e.activate()},zoomOut:function(t){var e;(e=j(t))&&e.deactivate()},expand:function(t){var e;(e=j(t))&&e.expand()},close:function(t){var e;(e=j(t))&&e.close()},registerCallback:function(t,e){h[t]||(h[t]=[]),"function"==u.jTypeOf(e)&&h[t].push(e)},running:function(t){return!!j(t)}},p(document).jAddEvent("domready",function(){var t=window.mzOptions||{};u.addCSS(".magic-hidden-wrapper, .magic-temporary-img",{display:"block !important","min-height":"0 !important","min-width":"0 !important","max-height":"none !important","max-width":"none !important",width:"10px !important",height:"10px !important",position:"absolute !important",top:"-10000px !important",left:"0 !important",overflow:"hidden !important","-webkit-transform":"none !important",transform:"none !important","-webkit-transition":"none !important",transition:"none !important"},"magiczoom-reset-css"),u.addCSS(".magic-temporary-img img",{display:"inline-block !important",border:"0 !important",padding:"0 !important","min-height":"0 !important","min-width":"0 !important","max-height":"none !important","max-width":"none !important","-webkit-transform":"none !important",transform:"none !important","-webkit-transition":"none !important",transition:"none !important"},"magiczoom-reset-css"),!u.jBrowser.mobile||"android"!=u.jBrowser.platform||u.jBrowser.chrome||u.jBrowser.opera||u.addCSS(".mobile-magic .mz-expand  .mz-expand-bg",{display:"none !important"},"magiczoom-reset-css"),n=u.$new("div",{class:"magic-hidden-wrapper"}).jAppendTo(document.body),s=u.jBrowser.mobile&&window.matchMedia&&window.matchMedia("(max-device-width: 767px), (max-device-height: 767px)").matches,u.jBrowser.mobile&&u.extend(r,l);for(var e=0;e<d.length;e++)t[d[e]]&&u.$F!==t[d[e]]&&o.registerCallback(d[e],t[d[e]]);o.start(),v=!1}),window.MagicZoomPlus=window.MagicZoomPlus||{},o}();